(self.webpackChunkdarshan_jewellers=self.webpackChunkdarshan_jewellers||[]).push([[179],{8255:Xe=>{function Ie(F){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+F+"'");throw h.code="MODULE_NOT_FOUND",h})}Ie.keys=()=>[],Ie.resolve=Ie,Ie.id=8255,Xe.exports=Ie},3018:(Xe,Ie,F)=>{"use strict";F.d(Ie,{deG:()=>ft,tb:()=>qI,AFp:()=>Xp,ip1:()=>ef,CZH:()=>Ta,hGG:()=>Dx,z2F:()=>of,sBO:()=>DC,Sil:()=>qc,_Vd:()=>Lc,EJc:()=>zI,SBq:()=>ci,qLn:()=>lh,vpe:()=>Da,gxx:()=>Ah,tBr:()=>la,XFs:()=>Se,OlP:()=>vn,zs3:()=>xn,ZZ4:()=>iy,aQg:()=>sy,soG:()=>ng,YKP:()=>SC,v3s:()=>ax,h0i:()=>Hh,PXZ:()=>iE,R0b:()=>gs,FiY:()=>so,Lbi:()=>GI,g9A:()=>tg,Qsj:()=>Fp,FYo:()=>kp,JOm:()=>ga,Tiy:()=>ry,q3G:()=>sn,tp0:()=>as,EAV:()=>dE,Rgc:()=>Up,dDg:()=>eE,DyG:()=>uc,q4F:()=>Jv,GfV:()=>wC,s_b:()=>Bp,ifc:()=>tn,eFA:()=>sD,G48:()=>tx,Gpc:()=>ge,X6Q:()=>Fy,_c5:()=>Wi,VLi:()=>XS,c2e:()=>ZI,zSh:()=>Sh,wAp:()=>at,vHH:()=>pe,EiD:()=>yc,mCW:()=>ao,qzn:()=>us,JVY:()=>sh,pB0:()=>Pr,eBb:()=>Sl,L6k:()=>Pg,LAX:()=>kg,cg1:()=>Ap,Tjo:()=>Ex,kL8:()=>zb,yhl:()=>ih,dqk:()=>$,sIi:()=>pu,CqO:()=>Am,QGY:()=>rd,F4k:()=>Tm,RDi:()=>Mr,AaK:()=>Y,z3N:()=>Fo,qOj:()=>pm,TTD:()=>Ud,_Bn:()=>Wv,xp6:()=>on,uIk:()=>mm,ekj:()=>Ip,Suo:()=>M0,Xpm:()=>Le,lG2:()=>jr,Yz7:()=>fn,cJS:()=>Ur,oAB:()=>mr,Yjl:()=>_s,Y36:()=>Nc,_UZ:()=>yb,qZA:()=>Im,TgZ:()=>Ep,n5z:()=>Ka,Ikx:()=>Mv,LFG:()=>On,$8M:()=>oa,NdJ:()=>tv,CRH:()=>DS,Q6J:()=>Fh,s9C:()=>sd,FAE:()=>bp,iGM:()=>x0,LSH:()=>Os,kYT:()=>Jn,YNc:()=>nb,_uU:()=>vv,hij:()=>Pm});var h=F(9765),j=F(5319),O=F(7574),ae=F(6682),oe=F(2441);var ce=F(1307);function re(){return new h.xQ}function V(r){for(let i in r)if(r[i]===V)return i;throw Error("Could not find renamed property on target object.")}function X(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function de(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const be=V({__forward_ref__:V});function ge(r){return r.__forward_ref__=ge,r.toString=function(){return Y(this())},r}function K(r){return _e(r)?r():r}function _e(r){return"function"==typeof r&&r.hasOwnProperty(be)&&r.__forward_ref__===ge}class pe extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Fe(r){return"string"==typeof r?r:null==r?"":String(r)}function St(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Fe(r)}function bt(r,i){const o=i?` in ${i}`:"";throw new pe("201",`No provider for ${St(r)} found${o}`)}function hn(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function fn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ur(r){return{providers:r.providers||[],imports:r.imports||[]}}function Re(r){return pn(r,Nt)||pn(r,Br)}function pn(r,i){return r.hasOwnProperty(i)?r[i]:null}function En(r){return r&&(r.hasOwnProperty(Un)||r.hasOwnProperty(rt))?r[Un]:null}const Nt=V({\u0275prov:V}),Un=V({\u0275inj:V}),Br=V({ngInjectableDef:V}),rt=V({ngInjectorDef:V});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let Pt;function en(r){const i=Pt;return Pt=r,i}function Vt(r,i,o){const u=Re(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Se.Optional?null:void 0!==i?i:void bt(Y(r),"Injector")}function Ke(r){return{toString:r}.toString()}var gr=(()=>((gr=gr||{})[gr.OnPush=0]="OnPush",gr[gr.Default=1]="Default",gr))(),tn=(()=>((tn=tn||{})[tn.Emulated=0]="Emulated",tn[tn.None=2]="None",tn[tn.ShadowDom=3]="ShadowDom",tn))();const Jt="undefined"!=typeof globalThis&&globalThis,ys="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$=Jt||"undefined"!=typeof global&&global||ys||H,$e={},Ve=[],nn=V({\u0275cmp:V}),In=V({\u0275dir:V}),Dn=V({\u0275pipe:V}),Qn=V({\u0275mod:V}),ee=V({\u0275loc:V}),G=V({\u0275fac:V}),q=V({__NG_ELEMENT_ID__:V});let Ce=0;function Le(r){return Ke(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ve,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||tn.Emulated,id:"c",styles:r.styles||Ve,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,g=r.pipes;return u.id+=Ce++,u.inputs=Tt(r.inputs,o),u.outputs=Tt(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(xt):null,u.pipeDefs=g?()=>("function"==typeof g?g():g).map(Ct):null,u})}function xt(r){return yr(r)||function(r){return r[In]||null}(r)}function Ct(r){return function(r){return r[Dn]||null}(r)}const wn={};function mr(r){return Ke(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ve,declarations:r.declarations||Ve,imports:r.imports||Ve,exports:r.exports||Ve,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(wn[r.id]=r.type),i})}function Jn(r,i){return Ke(()=>{const o=_r(r,!0);o.declarations=i.declarations||Ve,o.imports=i.imports||Ve,o.exports=i.exports||Ve})}function Tt(r,i){if(null==r)return $e;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const jr=Le;function _s(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function yr(r){return r[nn]||null}function _r(r,i){const o=r[Qn]||null;if(!o&&!0===i)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return o}function Es(r){return Array.isArray(r)&&"object"==typeof r[1]}function cn(r){return Array.isArray(r)&&!0===r[1]}function Lu(r){return 0!=(8&r.flags)}function Qo(r){return 2==(2&r.flags)}function Pa(r){return 1==(1&r.flags)}function ii(r){return null!==r.template}function hf(r){return 0!=(512&r[2])}function pi(r,i){return r.hasOwnProperty(G)?r[G]:null}class gi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ud(){return To}function To(r){return r.type.prototype.ngOnChanges&&(r.setInput=tl),Ag}function Ag(){const r=ka(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===$e)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function tl(r,i,o,u){const c=ka(r)||function(r,i){return r[gf]=i}(r,{previous:$e,current:null}),d=c.current||(c.current={}),g=c.previous,y=this.declaredInputs[o],E=g[y];d[y]=new gi(E&&E.currentValue,i,g===$e),r[u]=i}Ud.ngInherit=!0;const gf="__ngSimpleChanges__";function ka(r){return r[gf]||null}let zs;function Mr(r){zs=r}function Tn(r){return!!r.listen}const $u={createRenderer:(r,i)=>void 0!==zs?zs:"undefined"!=typeof document?document:void 0};function yt(r){for(;Array.isArray(r);)r=r[0];return r}function Hu(r,i){return yt(i[r])}function Gr(r,i){return yt(i[r.index])}function jn(r,i){return r.data[i]}function Rr(r,i){const o=i[r];return Es(o)?o:o[0]}function Jo(r){return 4==(4&r[2])}function Ao(r){return 128==(128&r[2])}function Cs(r,i){return null==i?null:r[i]}function Gu(r){r[18]=0}function Xo(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ot={lFrame:ra(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function La(){return ot.bindingsEnabled}function Te(){return ot.lFrame.lView}function At(){return ot.lFrame.tView}function An(){let r=ul();for(;null!==r&&64===r.type;)r=r.parent;return r}function ul(){return ot.lFrame.currentTNode}function rs(r,i){const o=ot.lFrame;o.currentTNode=r,o.isParent=i}function xo(){return ot.lFrame.isParent}function Qs(){return ot.isInCheckNoChangesMode}function Ui(r){ot.isInCheckNoChangesMode=r}function is(){return ot.lFrame.bindingIndex++}function Is(r){const i=ot.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function Ba(r,i){const o=ot.lFrame;o.bindingIndex=o.bindingRootIndex=r,na(i)}function na(r){ot.lFrame.currentDirectiveIndex=r}function Yu(){return ot.lFrame.currentQueryIndex}function jd(r){ot.lFrame.currentQueryIndex=r}function vf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Qu(r,i,o){if(o&Se.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Se.Host||(c=vf(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=ot.lFrame=$d();return u.currentTNode=i,u.lView=r,!0}function Mo(r){const i=$d(),o=r[1];ot.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function $d(){const r=ot.lFrame,i=null===r?null:r.child;return null===i?ra(r):i}function ra(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function ll(){const r=ot.lFrame;return ot.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Hd=ll;function Gd(){const r=ll();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function wr(){return ot.lFrame.selectedIndex}function Bi(r){ot.lFrame.selectedIndex=r}function _n(){const r=ot.lFrame;return jn(r.tView,r.selectedIndex)}function ja(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:T}=d;g&&(r.contentHooks||(r.contentHooks=[])).push(-o,g),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=T&&(r.destroyHooks||(r.destroyHooks=[])).push(o,T)}}function ia(r,i,o){gl(r,i,3,o)}function pl(r,i,o,u){(3&r[2])===o&&gl(r,i,o,u)}function Ds(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function gl(r,i,o,u){const d=null!=u?u:-1,g=i.length-1;let y=0;for(let E=void 0!==u?65535&r[18]:0;E<g;E++)if("number"==typeof i[E+1]){if(y=i[E],null!=u&&y>=u)break}else i[E]<0&&(r[18]+=65536),(y<d||-1==d)&&(ml(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function ml(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class $a{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Ha(r,i,o){const u=Tn(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const g=o[c++],y=o[c++],E=o[c++];u?r.setAttribute(i,y,E,g):i.setAttributeNS(g,y,E)}else{const g=d,y=o[++c];Xs(g)?u&&r.setProperty(i,g,y):u?r.setAttribute(i,g,y):i.setAttribute(g,y),c++}}return c}function No(r){return 3===r||4===r||6===r}function Xs(r){return 64===r.charCodeAt(0)}function Oo(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Zd(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Zd(r,i,o,u,c){let d=0,g=r.length;if(-1===i)g=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){g=-1;break}if(y>i){g=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==g&&(r.splice(g,0,i),d=g+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function ec(r){return-1!==r}function Ga(r){return 32767&r}function Po(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let tc=!0;function qa(r){const i=tc;return tc=r,i}let Ts=0;function ln(r,i){const o=$n(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,tt(u.data,r),tt(i,null),tt(u.blueprint,null));const c=ss(r,i),d=r.injectorIndex;if(ec(c)){const g=Ga(c),y=Po(c,i),E=y[1].data;for(let I=0;I<8;I++)i[d+I]=y[g+I]|E[g+I]}return i[d+8]=c,d}function tt(r,i){r.push(0,0,0,0,0,0,0,0,i)}function $n(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ss(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],g=d.type;if(u=2===g?d.declTNode:1===g?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function eo(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(q)&&(u=o[q]),null==u&&(u=o[q]=Ts++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function sa(r,i,o){if(o&Se.Optional)return r;bt(i,"NodeInjector")}function za(r,i,o,u){if(o&Se.Optional&&void 0===u&&(u=null),0==(o&(Se.Self|Se.Host))){const c=r[9],d=en(void 0);try{return c?c.get(i,u,o&Se.Optional):Vt(i,u,o&Se.Optional)}finally{en(d)}}return sa(u,i,o)}function zt(r,i,o,u=Se.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(q)?r[q]:void 0;return"number"==typeof i?i>=0?255&i:Wa:i}(o);if("function"==typeof d){if(!Qu(i,r,u))return u&Se.Host?sa(c,o,u):za(i,o,u,c);try{const g=d(u);if(null!=g||u&Se.Optional)return g;bt(o)}finally{Hd()}}else if("number"==typeof d){let g=null,y=$n(r,i),E=-1,I=u&Se.Host?i[16][6]:null;for((-1===y||u&Se.SkipSelf)&&(E=-1===y?ss(r,i):i[y+8],-1!==E&&ic(u,!1)?(g=i[1],y=Ga(E),i=Po(E,i)):y=-1);-1!==y;){const T=i[1];if(vl(d,y,T.data)){const R=Cf(y,i,o,g,u,I);if(R!==rc)return R}E=i[y+8],-1!==E&&ic(u,i[1].data[y+8]===I)&&vl(d,y,i)?(g=T,y=Ga(E),i=Po(E,i)):y=-1}}}return za(i,o,u,c)}const rc={};function Wa(){return new Ss(An(),Te())}function Cf(r,i,o,u,c,d){const g=i[1],y=g.data[r+8],T=dt(y,g,o,null==u?Qo(y)&&tc:u!=g&&0!=(3&y.type),c&Se.Host&&d===y);return null!==T?As(i,g,T,y):rc}function dt(r,i,o,u,c){const d=r.providerIndexes,g=i.data,y=1048575&d,E=r.directiveStart,T=d>>20,P=c?y+T:r.directiveEnd;for(let B=u?y:y+T;B<P;B++){const z=g[B];if(B<E&&o===z||B>=E&&z.type===o)return B}if(c){const B=g[E];if(B&&ii(B)&&B.type===o)return E}return null}function As(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof $a}(c)){const g=c;g.resolving&&function(r,i){throw new pe("200",`Circular dependency in DI detected for ${r}`)}(St(d[o]));const y=qa(g.canSeeViewProviders);g.resolving=!0;const E=g.injectImpl?en(g.injectImpl):null;Qu(r,u,Se.Default);try{c=r[o]=g.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const g=To(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,g)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==E&&en(E),qa(y),g.resolving=!1,Hd()}}return c}function vl(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function ic(r,i){return!(r&Se.Self||r&Se.Host&&i)}class Ss{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return zt(this._tNode,this._lView,i,void 0,o)}}function Ka(r){return Ke(()=>{const i=r.prototype.constructor,o=i[G]||zr(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[G]||zr(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function zr(r){return _e(r)?()=>{const i=zr(K(r));return i&&i()}:pi(r)}function oa(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(No(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(An(),r)}const xs="__parameters__";function $i(r,i,o){return Ke(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const g=new c(...d);return y.annotation=g,y;function y(E,I,T){const R=E.hasOwnProperty(xs)?E[xs]:Object.defineProperty(E,xs,{value:[]})[xs];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(g),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class vn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=fn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ft=new vn("AnalyzeForEntryComponents"),uc=Function;function Wr(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Wr(u,i)):i!==r&&i.push(u)}return i}function _i(r,i){r.forEach(o=>Array.isArray(o)?_i(o,i):i(o))}function si(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function ro(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function b(r,i,o){let u=M(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function D(r,i){const o=M(r,i);if(o>=0)return r[1|o]}function M(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),g=r[d<<o];if(i===g)return d<<o;g>i?c=d:u=d+1}return~(c<<o)}(r,i,1)}const vi={},eu="__NG_DI_FLAG__",Ei="ngTempTokenPath",Rs=/\n/gm,Df="__source",tu=V({provide:String,useValue:V});let Cl;function os(r){const i=Cl;return Cl=r,i}function Tf(r,i=Se.Default){if(void 0===Cl)throw new Error("inject() must be called from an injection context");return null===Cl?Vt(r,void 0,i):Cl.get(r,i&Se.Optional?null:void 0,i)}function On(r,i=Se.Default){return(Pt||Tf)(K(r),i)}function io(r){const i=[];for(let o=0;o<r.length;o++){const u=K(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Se.Default;for(let g=0;g<u.length;g++){const y=u[g],E=Af(y);"number"==typeof E?-1===E?c=y.token:d|=E:c=y}i.push(On(c,d))}else i.push(On(u))}return i}function nu(r,i){return r[eu]=i,r.prototype[eu]=i,r}function Af(r){return r[eu]}function dc(r,i,o,u){const c=r[Ei];throw i[Df]&&c.unshift(i[Df]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=Y(i);if(Array.isArray(i))c=i.map(Y).join(" -> ");else if("object"==typeof i){let d=[];for(let g in i)if(i.hasOwnProperty(g)){let y=i[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Rs,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[Ei]=null,r}const la=nu($i("Inject",r=>({token:r})),-1),so=nu($i("Optional"),8),as=nu($i("SkipSelf"),4);let hc;function iu(r){var i;return(null===(i=function(){if(void 0===hc&&(hc=null,$.trustedTypes))try{hc=$.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return hc}())||void 0===i?void 0:i.createHTML(r))||r}class fa{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class rh extends fa{getTypeName(){return"HTML"}}class Ff extends fa{getTypeName(){return"Style"}}class Jy extends fa{getTypeName(){return"Script"}}class gc extends fa{getTypeName(){return"URL"}}class Xy extends fa{getTypeName(){return"ResourceURL"}}function Fo(r){return r instanceof fa?r.changingThisBreaksApplicationSecurity:r}function us(r,i){const o=ih(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function ih(r){return r instanceof fa&&r.getTypeName()||null}function sh(r){return new rh(r)}function Pg(r){return new Ff(r)}function Sl(r){return new Jy(r)}function kg(r){return new gc(r)}function Pr(r){return new Xy(r)}class su{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(iu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class oh{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=iu(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=iu(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const g=o.item(c).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&i.removeAttribute(g)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Uf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ao(r){return(r=String(r)).match(Uf)||r.match(Fg)?r:"unsafe:"+r}function cs(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function ou(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Ml=cs("area,br,col,hr,img,wbr"),mc=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=cs("rp,rt"),A=ou(Ml,ou(mc,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ou(v,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ou(v,mc)),x=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),W=cs("srcset"),Pe=ou(x,W,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),st=cs("script,style,template");class Bt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!A.hasOwnProperty(o))return this.sanitizedSomething=!0,!st.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),g=d.name,y=g.toLowerCase();if(!Pe.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=d.value;x[y]&&(E=ao(E)),W[y]&&(r=E,E=(r=String(r)).split(",").map(i=>ao(i.trim())).join(", ")),this.buf.push(" ",g,'="',Ns(E),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();A.hasOwnProperty(o)&&!Ml.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ns(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Xt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gn=/([^\#-~ |!])/g;function Ns(r){return r.replace(/&/g,"&amp;").replace(Xt,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Gn,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let au;function yc(r,i){let o=null;try{au=au||function(r){const i=new oh(r);return function(){try{return!!(new window.DOMParser).parseFromString(iu(""),"text/html")}catch(r){return!1}}()?new su(i):i}(r);let u=i?String(i):"";o=au.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=au.getInertBodyElement(u)}while(u!==d);return iu((new Bt).sanitizeChildren(Lo(o)||o))}finally{if(o){const u=Lo(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Lo(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function Os(r){const i=function(){const r=Te();return r&&r[12]}();return i?i.sanitize(sn.URL,r)||"":us(r,"URL")?Fo(r):ao(Fe(r))}const t_="__ngContext__";function wi(r,i){r[t_]=i}function n_(r){const i=function(r){return r[t_]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function qf(r){return r.ngOriginalError}function UD(r,...i){r.error(...i)}class lh{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||UD;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(qf(i)):null}_findOriginalError(i){let o=i&&qf(i);for(;o&&qf(o);)o=qf(o);return o||null}}const YE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function Vo(r){return r instanceof Function?r():r}var ga=(()=>((ga=ga||{})[ga.Important=1]="Important",ga[ga.DashCase=2]="DashCase",ga))();function Pl(r,i){return undefined(r,i)}function vc(r){const i=r[3];return cn(i)?i[3]:i}function hh(r){return f_(r[13])}function h_(r){return f_(r[4])}function f_(r){for(;null!==r&&!cn(r);)r=r[4];return r}function kl(r,i,o,u,c){if(null!=u){let d,g=!1;cn(u)?d=u:Es(u)&&(g=!0,u=u[0]);const y=yt(u);0===r&&null!==o?null==c?Kg(i,o,y):Vl(i,o,y,c||null,!0):1===r&&null!==o?Vl(i,o,y,c||null,!0):2===r?function(r,i,o){const u=Yf(r,i);u&&function(r,i,o,u){Tn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,g):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==yt(o)&&kl(i,r,u,d,c);for(let y=10;y<o.length;y++){const E=o[y];jl(E[1],E,r,i,u,d)}}(i,r,d,o,c)}}function Zg(r,i,o){return Tn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function g_(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Xo(c,-1)),o.splice(u,1)}function Wg(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&g_(c,u),i>0&&(r[o-1][4]=u[4]);const d=ro(r,10+i);!function(r,i){jl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const g=d[19];null!==g&&g.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Kf(r,i){if(!(256&i[2])){const o=i[11];Tn(o)&&o.destroyNode&&jl(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return Hi(r[1],r);for(;i;){let o=null;if(Es(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Es(i)&&Hi(i[1],i),i=i[3];null===i&&(i=r),Es(i)&&Hi(i[1],i),o=i&&i[4]}i=o}}(i)}}function Hi(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof $a)){const d=o[u+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=c[d[g]],E=d[g+1];try{E.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+1],y="function"==typeof g?g(i):yt(i[g]),E=u[c=o[d+2]],I=o[d+3];"boolean"==typeof I?y.removeEventListener(o[d],E,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),d+=2}else{const g=u[c=o[d+1]];o[d].call(g)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&Tn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&cn(i[3])){o!==i[3]&&g_(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Ll(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===tn.None||c===tn.Emulated)return null}return Gr(u,o)}(r,i.parent,o)}function Vl(r,i,o,u,c){Tn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function Kg(r,i,o){Tn(r)?r.appendChild(i,o):i.appendChild(o)}function ow(r,i,o,u,c){null!==u?Vl(r,i,o,u,c):Kg(r,i,o)}function Yf(r,i){return Tn(r)?r.parentNode(i):i.parentNode}let m_=function(r,i,o){return 40&r.type?Gr(r,o):null};function Uo(r,i,o,u){const c=Ll(r,u,i),d=i[11],y=function(r,i,o){return m_(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)ow(d,c,o[E],y,!1);else ow(d,c,o,y,!1)}function fh(r,i){if(null!==i){const o=i.type;if(3&o)return Gr(i,r);if(4&o)return ke(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return fh(r,u);{const c=r[i.index];return cn(c)?ke(-1,c):yt(c)}}if(32&o)return Pl(i,r)()||yt(r[i.index]);{const u=uw(r,i);return null!==u?Array.isArray(u)?u[0]:fh(vc(r[16]),u):fh(r,i.next)}}return null}function uw(r,i){return null!==i?r[16][6].projection[i.projection]:null}function ke(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return fh(u,c)}return i[7]}function Bl(r,i,o,u,c,d,g){for(;null!=o;){const y=u[o.index],E=o.type;if(g&&0===i&&(y&&wi(yt(y),u),o.flags|=4),64!=(64&o.flags))if(8&E)Bl(r,i,o.child,u,c,d,!1),kl(i,r,c,y,d);else if(32&E){const I=Pl(o,u);let T;for(;T=I();)kl(i,r,c,T,d);kl(i,r,c,y,d)}else 16&E?pt(r,i,u,o,c,d):kl(i,r,c,y,d);o=g?o.projectionNext:o.next}}function jl(r,i,o,u,c,d){Bl(o,u,r.firstChild,i,c,d,!1)}function pt(r,i,o,u,c,d){const g=o[16],E=g[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)kl(i,r,c,E[I],d);else Bl(r,i,E,g[3],c,d,!0)}function fe(r,i,o){Tn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Me(r,i,o){Tn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Lr(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const cw="ng-template";function YD(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Lr(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function lw(r){return 4===r.type&&r.value!==cw}function QD(r,i,o){return i===(4!==r.type||o?r.value:cw)}function JD(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(No(r[i]))return i;return r.length}(c);let g=!1;for(let y=0;y<i.length;y++){const E=i[y];if("number"!=typeof E){if(!g)if(4&u){if(u=2|1&u,""!==E&&!QD(r,E,o)||""===E&&1===i.length){if(qn(u))return!1;g=!0}}else{const I=8&u?E:i[++y];if(8&u&&null!==r.attrs){if(!YD(r.attrs,I,o)){if(qn(u))return!1;g=!0}continue}const R=XD(8&u?"class":E,c,lw(r),o);if(-1===R){if(qn(u))return!1;g=!0;continue}if(""!==I){let P;P=R>d?"":c[R+1].toLowerCase();const B=8&u?P:null;if(B&&-1!==Lr(B,I,0)||2&u&&I!==P){if(qn(u))return!1;g=!0}}}}else{if(!g&&!qn(u)&&!qn(E))return!1;if(g&&qn(E))continue;g=!1,u=E|1&u}}return qn(u)||g}function qn(r){return 0==(1&r)}function XD(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const g=i[c];if(g===r)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function y_(r,i,o=!1){for(let u=0;u<i.length;u++)if(JD(r,i[u],o))return!0;return!1}function Dt(r,i){return r?":not("+i.trim()+")":i}function hw(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let g=r[o];if("string"==typeof g)if(2&u){const y=r[++o];c+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+g:4&u&&(c+=" "+g);else""!==c&&!qn(g)&&(i+=Dt(d,c),c=""),u=g,d=d||!qn(u);o++}return""!==c&&(i+=Dt(d,c)),i}const gt={};function on(r){pw(At(),Te(),wr()+r,Qs())}function pw(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&ia(i,d,o)}else{const d=r.preOrderHooks;null!==d&&pl(i,d,0,o)}Bi(o)}function Dr(r,i){return r<<17|i<<2}function Ci(r){return r>>17&32767}function __(r){return 2|r}function Ii(r){return(131068&r)>>2}function ir(r,i){return-131069&r|i<<2}function Jf(r){return 1|r}function Ew(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const g=r.data[d];jd(c),g.contentQueries(2,i[d],d)}}}function ks(r,i,o,u,c,d,g,y,E,I){const T=i.blueprint.slice();return T[0]=c,T[2]=140|u,Gu(T),T[3]=T[15]=r,T[8]=o,T[10]=g||r&&r[10],T[11]=y||r&&r[11],T[12]=E||r&&r[12]||null,T[9]=I||r&&r[9]||null,T[6]=d,T[16]=2==i.type?r[16]:T,T}function ql(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=ul(),g=xo(),E=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=E),null!==d&&(g?null==d.child&&null!==E.parent&&(d.child=E):null===d.next&&(d.next=E)),E}(r,i,o,u,c),ot.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const g=function(){const r=ot.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return rs(d,!0),d}function du(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function bc(r,i,o){Mo(i);try{const u=r.viewQuery;null!==u&&sp(1,u,o);const c=r.template;null!==c&&nm(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ew(r,i),r.staticViewQueries&&sp(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)Mw(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Gd()}}function Cc(r,i,o,u){const c=i[2];if(256==(256&c))return;Mo(i);const d=Qs();try{Gu(i),function(r){ot.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&nm(r,i,o,2,u);const g=3==(3&c);if(!d)if(g){const I=r.preOrderCheckHooks;null!==I&&ia(i,I,null)}else{const I=r.preOrderHooks;null!==I&&pl(i,I,0,null),Ds(i,0)}if(function(r){for(let i=hh(r);null!==i;i=h_(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&Xo(d,1),c[2]|=1024}}}(i),function(r){for(let i=hh(r);null!==i;i=h_(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Ao(u)&&Cc(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&Ew(r,i),!d)if(g){const I=r.contentCheckHooks;null!==I&&ia(i,I)}else{const I=r.contentHooks;null!==I&&pl(i,I,1),Ds(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Bi(~c);else{const d=c,g=o[++u],y=o[++u];Ba(g,d),y(2,i[d])}}}finally{Bi(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)Tr(r,i[o])}(i,y);const E=r.viewQuery;if(null!==E&&sp(2,E,u),!d)if(g){const I=r.viewCheckHooks;null!==I&&ia(i,I)}else{const I=r.viewHooks;null!==I&&pl(i,I,2),Ds(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Xo(i[3],-1))}finally{Gd()}}function I_(r,i,o,u){const c=i[10],d=!Qs(),g=Jo(i);try{d&&!g&&c.begin&&c.begin(),g&&bc(r,i,u),Cc(r,i,o,u)}finally{d&&!g&&c.end&&c.end()}}function nm(r,i,o,u,c){const d=wr(),g=2&u;try{Bi(-1),g&&i.length>20&&pw(r,i,20,Qs()),o(u,c)}finally{Bi(d)}}function ls(r,i,o){!La()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||ln(o,i),wi(u,i);const g=o.initialInputs;for(let y=c;y<d;y++){const E=r.data[y],I=ii(E);I&&Aw(i,o,E);const T=As(i,r,y,o);wi(T,i),null!==g&&Sw(0,y-c,T,E,0,g),I&&(Rr(o.index,i)[8]=T)}}(r,i,o,Gr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,g=o.index,y=ot.lFrame.currentDirectiveIndex;try{Bi(g);for(let E=u;E<c;E++){const I=r.data[E],T=i[E];na(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&fr(I,T)}}finally{Bi(-1),na(y)}}(r,i,o))}function rm(r,i,o=Gr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const g=u[d+1],y=-1===g?o(i,r):r[g];r[c++]=y}}}function vh(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=np(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function np(r,i,o,u,c,d,g,y,E,I){const T=20+u,R=T+c,P=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:gt);return o}(T,R),B="function"==typeof I?I():I;return P[1]={type:r,blueprint:P,template:o,queries:null,viewQuery:y,declTNode:i,data:P.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:E,consts:B,incompleteFirstPass:!1}}function T_(r,i,o,u){const c=Pw(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&dn(r).push(u,c.length-1))}function A_(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function Fs(r,i,o,u,c,d,g,y){const E=Gr(i,o);let T,I=i.inputs;!y&&null!=I&&(T=I[u])?(Th(r,o,T,u,c),Qo(i)&&function(r,i){const o=Rr(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=g?g(c,i.value||"",u):c,Tn(d)?d.setProperty(E,u,c):Xs(u)||(E.setProperty?E.setProperty(u,c):E[u]=c))}function sm(r,i,o,u){let c=!1;if(La()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const g=u[d];y_(o,g.selectors,!1)&&(c||(c=[]),eo(ln(o,i),r,g.type),ii(g)?(ip(r,o),c.unshift(g)):c.push(g))}return c}(r,i,o),g=null===u?null:{"":-1};if(null!==d){c=!0,Tw(o,r.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,I=du(r,i,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];o.mergedAttrs=Oo(o.mergedAttrs,R.hostAttrs),M_(r,o,i,I,R),x_(I,R,g),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const P=R.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),I++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,g=[];let y=null,E=null;for(let I=i.directiveStart;I<u;I++){const T=c[I],R=T.inputs,P=null===d||lw(i)?null:xw(R,d);g.push(P),y=A_(R,I,y),E=A_(T.outputs,I,E)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=g,i.inputs=y,i.outputs=E}(r,o)}g&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new pe("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,g)}return o.mergedAttrs=Oo(o.mergedAttrs,o.attrs),c}function S_(r,i,o,u,c,d){const g=d.hostBindings;if(g){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const E=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(u,c,g)}}function fr(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function ip(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function x_(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;ii(i)&&(o[""]=r)}}function Tw(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function M_(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=pi(c.type)),g=new $a(d,ii(c),null);r.blueprint[u]=g,o[u]=g,S_(r,i,0,u,du(r,o,c.hostVars,gt),c)}function Aw(r,i,o){const u=Gr(i,r),c=vh(o),d=r[10],g=sr(r,ks(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=g}function ds(r,i,o,u,c,d){const g=Gr(r,i);!function(r,i,o,u,c,d,g){if(null==d)Tn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==g?Fe(d):g(d,u||"",c);Tn(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],g,d,r.value,o,u,c)}function Sw(r,i,o,u,c,d){const g=d[i];if(null!==g){const y=u.setInput;for(let E=0;E<g.length;){const I=g[E++],T=g[E++],R=g[E++];null!==y?u.setInput(o,R,I,T):o[T]=R}}}function xw(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Ih(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Tr(r,i){const o=Rr(i,r);if(Ao(o)){const u=o[1];80&o[2]?Cc(u,o,u.template,o[8]):o[5]>0&&$t(o)}}function $t(r){for(let u=hh(r);null!==u;u=h_(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const g=d[1];Cc(g,d,g.template,d[8])}else d[5]>0&&$t(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Rr(o[u],r);Ao(c)&&c[5]>0&&$t(c)}}function Mw(r,i){const o=Rr(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),bc(u,o,o[8])}function sr(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Dh(r){for(;r;){r[2]|=64;const i=vc(r);if(hf(r)&&!i)return r;r=i}return null}function am(r,i,o){const u=i[10];u.begin&&u.begin();try{Cc(r,i,r.template,o)}catch(c){throw op(i,c),c}finally{u.end&&u.end()}}function Nw(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=n_(o),c=u[1];I_(c,u,c.template,o)}}(r[8])}function sp(r,i,o){jd(0),i(r,o)}const Ow=(()=>Promise.resolve(null))();function Pw(r){return r[7]||(r[7]=[])}function dn(r){return r.cleanup||(r.cleanup=[])}function op(r,i){const o=r[9],u=o?o.get(lh,null):null;u&&u.handleError(i)}function Th(r,i,o,u,c){for(let d=0;d<o.length;){const g=o[d++],y=o[d++],E=i[g],I=r.data[g];null!==I.setInput?I.setInput(E,c,u,y):E[y]=c}}function Ls(r,i,o){const u=Hu(i,r);!function(r,i,o){Tn(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function zl(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let g=0;g<i.length;g++){const y=i[g];"number"==typeof y?d=y:1==d?c=de(c,y):2==d&&(u=de(u,y+": "+i[++g]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const Ah=new vn("INJECTOR",-1);class N_{get(i,o=vi){if(o===vi){const u=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw u.name="NullInjectorError",u}return o}}const Sh=new vn("Set Injector scope."),ap={},vT={};let O_;function xh(){return void 0===O_&&(O_=new N_),O_}function Uw(r,i=null,o=null,u){return new Qr(r,o,i||xh(),u)}class Qr{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&_i(o,y=>this.processProvider(y,i,o)),_i([i],y=>this.processInjectorType(y,[],d)),this.records.set(Ah,Dc(void 0,this));const g=this.records.get(Sh);this.scope=null!=g?g.value:null,this.source=c||("object"==typeof i?null:Y(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=vi,u=Se.Default){this.assertNotDestroyed();const c=os(this),d=en(void 0);try{if(!(u&Se.SkipSelf)){let y=this.records.get(i);if(void 0===y){const E=("function"==typeof(r=i)||"object"==typeof r&&r instanceof vn)&&Re(i);y=E&&this.injectableDefInScope(E)?Dc(up(i),ap):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Se.Self?xh():this.parent).get(i,o=u&Se.Optional&&o===vi?null:o)}catch(g){if("NullInjectorError"===g.name){if((g[Ei]=g[Ei]||[]).unshift(Y(i)),c)throw g;return dc(g,i,"R3InjectorError",this.source)}throw g}finally{en(d),os(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(Y(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=K(i)))return!1;let c=En(i);const d=null==c&&i.ngModule||void 0,g=void 0===d?i:d,y=-1!==u.indexOf(g);if(void 0!==d&&(c=En(d)),null==c)return!1;if(null!=c.imports&&!y){let T;u.push(g);try{_i(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:P,providers:B}=T[R];_i(B,z=>this.processProvider(z,P,B||Ve))}}this.injectorDefTypes.add(g);const E=pi(g)||(()=>new g);this.records.set(g,Dc(E,ap));const I=c.providers;if(null!=I&&!y){const T=i;_i(I,R=>this.processProvider(R,T,I))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=Wl(i=K(i))?i:K(i&&i.provide);const d=P_(r=i)?Dc(void 0,r.useValue):Dc(jo(r),ap);var r;if(Wl(i)||!0!==i.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=Dc(void 0,ap,!0),g.factory=()=>io(g.multi),this.records.set(c,g)),c=i,g.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===ap&&(o.value=vT,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=K(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function up(r){const i=Re(r),o=null!==i?i.factory:pi(r);if(null!==o)return o;if(r instanceof vn)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[Nt]||r[Br]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function jo(r,i,o){let u;if(Wl(r)){const c=K(r);return pi(c)||up(c)}if(P_(r))u=()=>K(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...io(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>On(K(r.useExisting));else{const c=K(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return pi(c)||up(c);u=()=>new c(...io(r.deps))}return u}function Dc(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function P_(r){return null!==r&&"object"==typeof r&&tu in r}function Wl(r){return"function"==typeof r}const k_=function(r,i,o){return function(r,i=null,o=null,u){const c=Uw(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let xn=(()=>{class r{static create(o,u){return Array.isArray(o)?k_(o,u,""):k_(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=vi,r.NULL=new N_,r.\u0275prov=fn({token:r,providedIn:"any",factory:()=>On(Ah)}),r.__NG_ELEMENT_ID__=-1,r})();function Yl(r,i){ja(n_(r)[1],An())}function pm(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(ii(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const g=r;g.inputs=hp(r.inputs),g.declaredInputs=hp(r.declaredInputs),g.outputs=hp(r.outputs);const y=c.hostBindings;y&&Yw(r,y);const E=c.viewQuery,I=c.contentQueries;if(E&&V_(r,E),I&&xc(r,I),X(r.inputs,c.inputs),X(r.declaredInputs,c.declaredInputs),X(r.outputs,c.outputs),ii(c)&&c.data.animation){const T=r.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const y=d[g];y&&y.ngInherit&&y(r),y===pm&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Oo(c.hostAttrs,o=Oo(o,c.hostAttrs))}}(u)}function hp(r){return r===$e?{}:r===Ve?[]:r}function V_(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function xc(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function Yw(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let fp=null;function Ho(){if(!fp){const r=$.Symbol;if(r&&r.iterator)fp=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(fp=u)}}}return fp}function pu(r){return!!$_(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ho()in r)}function $_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ai(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function gu(r,i,o,u){const c=Ai(r,i,o);return Ai(r,i+1,u)||c}function mm(r,i,o,u){const c=Te();return Ai(c,is(),i)&&(At(),ds(_n(),c,r,i,o,u)),mm}function Jl(r,i,o,u){return Ai(r,is(),o)?i+Fe(o)+u:gt}function Xl(r,i,o,u,c,d,g,y,E,I){const R=function(r,i,o,u,c,d){const g=gu(r,i,o,u);return gu(r,i+2,c,d)||g}(r,ot.lFrame.bindingIndex,o,c,g,E);return Is(4),R?i+Fe(o)+u+Fe(c)+d+Fe(g)+y+Fe(E)+I:gt}function nb(r,i,o,u,c,d,g,y){const E=Te(),I=At(),T=r+20,R=I.firstCreatePass?function(r,i,o,u,c,d,g,y,E){const I=i.consts,T=ql(i,r,4,g||null,Cs(I,y));sm(i,o,T,Cs(I,E)),ja(i,T);const R=T.tViews=np(2,T,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,T),R.queries=i.queries.embeddedTView(T)),T}(T,I,E,i,o,u,c,d,g):I.data[T];rs(R,!1);const P=E[11].createComment("");Uo(I,E,P,R),wi(P,E),sr(E,E[T]=Ih(P,E,P,R)),Pa(R)&&ls(I,E,R),null!=g&&rm(E,R,y)}function Nc(r,i=Se.Default){const o=Te();return null===o?On(r,i):zt(An(),o,K(r),i)}function Fh(r,i,o){const u=Te();return Ai(u,is(),i)&&Fs(At(),_n(),u,r,i,u[11],o,!1),Fh}function vp(r,i,o,u,c){const g=c?"class":"style";Th(r,o,i.inputs[g],g,u)}function Ep(r,i,o,u){const c=Te(),d=At(),g=20+r,y=c[11],E=c[g]=Zg(y,i,ot.lFrame.currentNamespace),I=d.firstCreatePass?function(r,i,o,u,c,d,g){const y=i.consts,I=ql(i,r,2,c,Cs(y,d));return sm(i,o,I,Cs(y,g)),null!==I.attrs&&zl(I,I.attrs,!1),null!==I.mergedAttrs&&zl(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(g,d,c,0,i,o,u):d.data[g];rs(I,!0);const T=I.mergedAttrs;null!==T&&Ha(y,E,T);const R=I.classes;null!==R&&Me(y,E,R);const P=I.styles;null!==P&&fe(y,E,P),64!=(64&I.flags)&&Uo(d,c,E,I),0===ot.lFrame.elementDepthCount&&wi(E,c),ot.lFrame.elementDepthCount++,Pa(I)&&(ls(d,c,I),function(r,i,o){if(Lu(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const g=r.data[d];g.contentQueries&&g.contentQueries(1,o[d],d)}}}(d,I,c)),null!==u&&rm(c,I)}function Im(){let r=An();xo()?ot.lFrame.isParent=!1:(r=r.parent,rs(r,!1));const i=r;ot.lFrame.elementDepthCount--;const o=At();o.firstCreatePass&&(ja(o,r),Lu(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&vp(o,i,Te(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&vp(o,i,Te(),i.stylesWithoutHost,!1)}function yb(r,i,o,u){Ep(r,i,o,u),Im()}function rd(r){return!!r&&"function"==typeof r.then}function Tm(r){return!!r&&"function"==typeof r.subscribe}const Am=Tm;function tv(r,i,o,u){const c=Te(),d=At(),g=An();return function(r,i,o,u,c,d,g,y){const E=Pa(u),T=r.firstCreatePass&&dn(r),R=i[8],P=Pw(i);let B=!0;if(3&u.type||y){const te=Gr(u,i),Oe=y?y(te):te,Ee=P.length,et=y?mt=>y(yt(mt[u.index])):u.index;if(Tn(o)){let mt=null;if(!y&&E&&(mt=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===o&&c[d+1]===u){const y=i[7],E=c[d+2];return y.length>E?y[E]:null}"string"==typeof g&&(d+=2)}return null}(r,i,c,u.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=d,mt.__ngLastListenerFn__=d,B=!1;else{d=id(u,i,R,d,!1);const Lt=o.listen(Oe,c,d);P.push(d,Lt),T&&T.push(c,et,Ee,Ee+1)}}else d=id(u,i,R,d,!0),Oe.addEventListener(c,d,g),P.push(d),T&&T.push(c,et,Ee,g)}else d=id(u,i,R,d,!1);const z=u.outputs;let le;if(B&&null!==z&&(le=z[c])){const te=le.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const or=i[le[Oe]][le[Oe+1]].subscribe(d),$s=P.length;P.push(d,or),T&&T.push(c,u.index,$s,-($s+1))}}}(d,c,c[11],g,r,i,!!o,u),tv}function Cb(r,i,o,u){try{return!1!==o(u)}catch(c){return op(r,c),!1}}function id(r,i,o,u,c){return function d(g){if(g===Function)return u;const y=2&r.flags?Rr(r.index,i):i;0==(32&i[2])&&Dh(y);let E=Cb(i,0,u,g),I=d.__ngNextListenerFn__;for(;I;)E=Cb(i,0,I,g)&&E,I=I.__ngNextListenerFn__;return c&&!1===E&&(g.preventDefault(),g.returnValue=!1),E}}function sd(r,i,o){return wp(r,"",i,"",o),sd}function wp(r,i,o,u,c){const d=Te(),g=Jl(d,i,o,u);return g!==gt&&Fs(At(),_n(),d,r,g,d[11],c,!1),wp}function bp(r,i,o,u,c,d,g,y,E,I,T){const R=Te(),P=Xl(R,i,o,u,c,d,g,y,E,I);return P!==gt&&Fs(At(),_n(),R,r,P,R[11],T,!1),bp}function Cp(r,i,o,u,c){const d=r[o+1],g=null===i;let y=u?Ci(d):Ii(d),E=!1;for(;0!==y&&(!1===E||g);){const T=r[y+1];av(r[y],i)&&(E=!0,r[y+1]=u?Jf(T):__(T)),y=u?Ci(T):Ii(T)}E&&(r[o+1]=u?__(d):Jf(d))}function av(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&M(r,i)>=0}function Ip(r,i){return function(r,i,o,u){const c=Te(),d=At(),g=Is(2);d.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const d=c[wr()],g=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!g&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ot.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=Tp(o=Dp(null,r,i,o,u),i.attrs,u),d=null);else{const g=i.directiveStylingLast;if(-1===g||r[g]!==c)if(o=Dp(c,r,i,o,u),null===d){let E=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Ii(u))return r[Ci(u)]}(r,i,u);void 0!==E&&Array.isArray(E)&&(E=Dp(null,r,i,E[1],u),E=Tp(E,i.attrs,u),function(r,i,o,u){r[Ci(o?i.classBindings:i.styleBindings)]=u}(r,i,u,E))}else d=function(r,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=Tp(u,r[d].hostAttrs,o);return Tp(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function(r,i,o,u,c,d){let g=d?i.classBindings:i.styleBindings,y=Ci(g),E=Ii(g);r[u]=o;let T,I=!1;if(Array.isArray(o)){const R=o;T=R[1],(null===T||M(R,T)>0)&&(I=!0)}else T=o;if(c)if(0!==E){const P=Ci(r[y+1]);r[u+1]=Dr(P,y),0!==P&&(r[P+1]=ir(r[P+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=Dr(y,0),0!==y&&(r[y+1]=ir(r[y+1],u)),y=u;else r[u+1]=Dr(E,0),0===y?y=u:r[E+1]=ir(r[E+1],u),E=u;I&&(r[u+1]=__(r[u+1])),Cp(r,T,u,!0),Cp(r,T,u,!1),function(r,i,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&M(d,i)>=0&&(o[u+1]=Jf(o[u+1]))}(i,T,r,u,d),g=Dr(y,E),d?i.classBindings=g:i.styleBindings=g}(c,d,i,o,g,u)}}(d,r,g,u),i!==gt&&Ai(c,g,i)&&function(r,i,o,u,c,d,g,y){if(!(3&i.type))return;const E=r.data,I=E[y+1];Om(function(r){return 1==(1&r)}(I)?yv(E,i,o,c,Ii(I),g):void 0)||(Om(d)||function(r){return 2==(2&r)}(I)&&(d=yv(E,null,o,c,y,g)),function(r,i,o,u,c){const d=Tn(r);if(i)c?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let g=-1===u.indexOf("-")?void 0:ga.DashCase;if(null==c)d?r.removeStyle(o,u,g):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),g|=ga.Important),d?r.setStyle(o,u,c,g):o.style.setProperty(u,c,y?"important":"")}}}(u,g,Hu(wr(),o),c,d))}(d,d.data[wr()],c,c[11],r,c[g+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Y(Fo(r)))),r}(i,o),u,g)}(r,i,null,!0),Ip}function Dp(r,i,o,u,c){let d=null;const g=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<g&&(d=i[y],u=Tp(u,d.hostAttrs,c),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function Tp(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const g=i[d];"number"==typeof g?c=g:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),b(r,g,!!o||i[++d]))}return void 0===r?null:r}function yv(r,i,o,u,c,d){const g=null===i;let y;for(;c>0;){const E=r[c],I=Array.isArray(E),T=I?E[1]:E,R=null===T;let P=o[c+1];P===gt&&(P=R?Ve:void 0);let B=R?D(P,u):T===u?P:void 0;if(I&&!Om(B)&&(B=D(E,u)),Om(B)&&(y=B,g))return y;const z=r[c+1];c=g?Ci(z):Ii(z)}if(null!==i){let E=d?i.residualClasses:i.residualStyles;null!=E&&(y=D(E,u))}return y}function Om(r){return void 0!==r}function vv(r,i=""){const o=Te(),u=At(),c=r+20,d=u.firstCreatePass?ql(u,c,1,i,null):u.data[c],g=o[c]=function(r,i){return Tn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Uo(u,o,g,d),rs(d,!1)}function Pm(r,i,o){const u=Te(),c=Jl(u,r,i,o);return c!==gt&&Ls(u,wr(),c),Pm}function Mv(r,i,o){const u=Te();return Ai(u,is(),i)&&Fs(At(),_n(),u,r,i,u[11],o,!0),Mv}const ud=void 0;var tA=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let kc={};function Ap(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Wb(i);if(o)return o;const u=i.split("-")[0];if(o=Wb(u),o)return o;if("en"===u)return tA;throw new Error(`Missing locale data for the locale "${r}".`)}function zb(r){return Ap(r)[at.PluralCase]}function Wb(r){return r in kc||(kc[r]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[r]),kc[r]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const Gm="en-US";let xp=Gm;function kv(r){hn(r,"Expected localeId to be defined"),"string"==typeof r&&(xp=r.toLowerCase().replace(/_/g,"-"))}function gd(r,i,o,u,c){if(r=K(r),Array.isArray(r))for(let d=0;d<r.length;d++)gd(r[d],i,o,u,c);else{const d=At(),g=Te();let y=Wl(r)?r:K(r.provide),E=jo(r);const I=An(),T=1048575&I.providerIndexes,R=I.directiveStart,P=I.providerIndexes>>20;if(Wl(r)||!r.multi){const B=new $a(E,c,Nc),z=Zv(y,i,c?T:T+P,R);-1===z?(eo(ln(I,g),d,y),Xm(d,r,i.length),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(B),g.push(B)):(o[z]=B,g[z]=B)}else{const B=Zv(y,i,T+P,R),z=Zv(y,i,T,T+P),le=B>=0&&o[B],te=z>=0&&o[z];if(c&&!te||!c&&!le){eo(ln(I,g),d,y);const Oe=function(r,i,o,u,c){const d=new $a(r,o,Nc);return d.multi=[],d.index=i,d.componentProviders=0,ey(d,c,u&&!o),d}(c?DA:IA,o.length,c,u,E);!c&&te&&(o[z].providerFactory=Oe),Xm(d,r,i.length,0),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(Oe),g.push(Oe)}else Xm(d,r,B>-1?B:z,ey(o[c?z:B],E,!c&&u));!c&&u&&te&&o[z].componentProviders++}}}function Xm(r,i,o,u){const c=Wl(i);if(c||function(r){return!!r.useClass}(i)){const g=(i.useClass||i).prototype.ngOnDestroy;if(g){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const E=y.indexOf(o);-1===E?y.push(o,[u,g]):y[E+1].push(u,g)}else y.push(o,g)}}}function ey(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Zv(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function IA(r,i,o,u){return Op(this.multi,[])}function DA(r,i,o,u){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=As(o,o[1],this.providerFactory.index,u);d=y.slice(0,g),Op(c,d);for(let E=g;E<y.length;E++)d.push(y[E])}else d=[],Op(c,d);return d}function Op(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Wv(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=At();if(u.firstCreatePass){const c=ii(r);gd(o,u.data,u.blueprint,c,!0),gd(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class Kv{}const ty="ngComponent";class TA{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return i[ty]=r,i}(i)}}let Lc=(()=>{class r{}return r.NULL=new TA,r})();function Vc(...r){}function Cu(r,i){return new ci(Gr(r,i))}const Pp=function(){return Cu(An(),Te())};let ci=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Pp,r})();function EC(r){return r instanceof ci?r.nativeElement:r}class kp{}let Fp=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>xA(),r})();const xA=function(){const r=Te(),o=Rr(An().index,r);return function(r){return r[11]}(Es(o)?o:r)};let ry=(()=>{class r{}return r.\u0275prov=fn({token:r,providedIn:"root",factory:()=>null}),r})();class wC{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Jv=new wC("12.2.11");class Xv{constructor(){}supports(i){return pu(i)}create(i){return new bC(i)}}const NA=(r,i)=>i;class bC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||NA}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const g=!u||o&&o.currentIndex<t0(u,c,d)?o:u,y=t0(g,c,d),E=g.currentIndex;if(g===u)c--,u=u._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{d||(d=[]);const I=y-c,T=E-c;if(I!=T){for(let P=0;P<I;P++){const B=P<d.length?d[P]:d[P]=0,z=B+P;T<=z&&z<I&&(d[P]=B+1)}d[g.previousIndex]=T-I}}y!==E&&i(g,y,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!pu(i))throw new Error(`Error trying to diff '${Y(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,g,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],g=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,d,g,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Ho()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{g=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,y,g,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,g,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new OA(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new e0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class OA{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PA{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class e0{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new PA,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function t0(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class n0{constructor(){}supports(i){return i instanceof Map||$_(i)}create(){return new CC}}class CC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||$_(i)))throw new Error(`Error trying to diff '${Y(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const u=new r0(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class r0{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lp(){return new iy([new Xv])}let iy=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Lp()),deps:[[r,new as,new so]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=fn({token:r,providedIn:"root",factory:Lp}),r})();function Iu(){return new sy([new n0])}let sy=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Iu()),deps:[[r,new as,new so]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=fn({token:r,providedIn:"root",factory:Iu}),r})();function Ca(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(yt(d)),cn(d))for(let y=10;y<d.length;y++){const E=d[y],I=E[1].firstChild;null!==I&&Ca(E[1],E,I,u)}const g=o.type;if(8&g)Ca(r,i,o.child,u);else if(32&g){const y=Pl(o,i);let E;for(;E=y();)u.push(E)}else if(16&g){const y=uw(i,o);if(Array.isArray(y))u.push(...y);else{const E=vc(i[16]);Ca(E[1],E,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class Vp{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Ca(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(cn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Wg(i,u),ro(o,u))}this._attachedToViewContainer=!1}Kf(this._lView[1],this._lView)}onDestroy(i){T_(this._lView[1],this._lView,null,i)}markForCheck(){Dh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){am(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Ui(!0);try{am(r,i,o)}finally{Ui(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,jl(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class kA extends Vp{constructor(i){super(i),this._view=i}detectChanges(){Nw(this._view)}checkNoChanges(){!function(r){Ui(!0);try{Nw(r)}finally{Ui(!1)}}(this._view)}get context(){return null}}const FA=function(r){return function(r,i,o){if(Qo(r)&&!o){const u=Rr(r.index,i);return new Vp(u,u)}return 47&r.type?new Vp(i[16],i):null}(An(),Te(),16==(16&r))};let DC=(()=>{class r{}return r.__NG_ELEMENT_ID__=FA,r})();const VA=[new n0],UA=new iy([new Xv]),$h=new sy(VA),BA=function(){return oy(An(),Te())};let Up=(()=>{class r{}return r.__NG_ELEMENT_ID__=BA,r})();const jA=Up,$A=class extends jA{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=ks(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),bc(o,u,i),new Vp(u)}};function oy(r,i){return 4&r.type?new $A(i,r,Cu(r,i)):null}class Hh{}class SC{}const MC=function(){return $p(An(),Te())};let Bp=(()=>{class r{}return r.__NG_ELEMENT_ID__=MC,r})();const o0=Bp,RC=class extends o0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){const i=ss(this._hostTNode,this._hostLView);if(ec(i)){const o=Po(i,this._hostLView),u=Ga(i);return new Ss(o[1].data[u+8],o)}return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=NC(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const g=u||this.parentInjector;if(!d&&null==i.ngModule&&g){const E=g.get(Hh,null);E&&(d=E)}const y=i.create(g,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(cn(u[3])){const T=this.indexOf(i);if(-1!==T)this.detach(T);else{const R=u[3],P=new RC(R,R[6],R[3]);P.detach(P.indexOf(i))}}const d=this._adjustIndex(o),g=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],si(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const g=i[17];null!==g&&o!==g&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(g,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,g,d);const y=ke(d,g),E=u[11],I=Yf(E,g[7]);return null!==I&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,jl(r,u,o,1,c,d)}(c,g[6],E,u,I,y),i.attachToViewContainerRef(),si(ay(g),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=NC(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Wg(this._lContainer,o);u&&(ro(ay(this._lContainer),o),Kf(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Wg(this._lContainer,o);return u&&null!=ro(ay(this._lContainer),o)?new Vp(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function NC(r){return r[8]}function ay(r){return r[8]||(r[8]=[])}function $p(r,i){let o;const u=i[r.index];if(cn(u))o=u;else{let c;if(8&r.type)c=yt(u);else{const d=i[11];c=d.createComment("");const g=Gr(r,i);Vl(d,Yf(d,g),c,function(r,i){return Tn(r)?r.nextSibling(i):i.nextSibling}(d,g),!1)}i[r.index]=o=Ih(u,i,c,r),sr(i,o)}return new RC(o,r,i)}const Qh={};class iI extends Lc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=yr(i);return new oI(o,this.ngModule)}}function Yp(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const sI=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>YE});class oI extends Kv{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(hw).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Yp(this.componentDef.inputs)}get outputs(){return Yp(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,Qh,c);return d!==Qh||u===Qh?d:i.get(o,u,c)}}}(i,c.injector):i,g=d.get(kp,$u),y=d.get(ry,null),E=g.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",T=u?function(r,i,o){if(Tn(r))return r.selectRootElement(i,o===tn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Zg(g.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),R=this.componentDef.onPush?576:528,P=function(r,i){return{components:[],scheduler:r||YE,clean:Ow,playerHandler:i||null,flags:0}}(),B=np(0,null,null,1,0,null,null,null,null,null),z=ks(null,B,P,R,null,null,g,E,y,d);let le,te;Mo(z);try{const Oe=function(r,i,o,u,c,d){const g=o[1];o[20]=r;const E=ql(g,20,2,"#host",null),I=E.mergedAttrs=i.hostAttrs;null!==I&&(zl(E,I,!0),null!==r&&(Ha(c,r,I),null!==E.classes&&Me(c,r,E.classes),null!==E.styles&&fe(c,r,E.styles)));const T=u.createRenderer(r,i),R=ks(o,vh(i),null,i.onPush?64:16,o[20],E,u,T,d||null,null);return g.firstCreatePass&&(eo(ln(E,o),g,i.type),ip(g,E),Tw(E,o.length,1)),sr(o,R),o[20]=R}(T,this.componentDef,z,g,E);if(T)if(u)Ha(E,T,["ng-version",Jv.full]);else{const{attrs:Ee,classes:et}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!qn(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ee&&Ha(E,T,Ee),et&&et.length>0&&Me(E,T,et.join(" "))}if(te=jn(B,20),void 0!==o){const Ee=te.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const mt=o[et];Ee.push(null!=mt?Array.from(mt):null)}}le=function(r,i,o,u,c){const d=o[1],g=function(r,i,o){const u=An();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),M_(r,u,i,du(r,i,1,null),o));const c=As(i,r,u.directiveStart,u);wi(c,i);const d=Gr(u,i);return d&&wi(d,i),c}(d,o,i);if(u.components.push(g),r[8]=g,c&&c.forEach(E=>E(g,i)),i.contentQueries){const E=An();i.contentQueries(1,g,E.directiveStart)}const y=An();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Bi(y.index),S_(o[1],y,0,y.directiveStart,y.directiveEnd,i),fr(i,g)),g}(Oe,this.componentDef,z,P,[Yl]),bc(B,z,null)}finally{Gd()}return new uS(this.componentType,le,Cu(te,z),z,te)}}class uS extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new kA(c),this.componentType=i}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Jh=new Map;class dS extends Hh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iI(this);const u=_r(i),c=i[ee]||null;c&&kv(c),this._bootstrapComponents=Vo(u.bootstrap),this._r3Injector=Uw(i,o,[{provide:Hh,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],Y(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=xn.THROW_IF_NOT_FOUND,u=Se.Default){return i===xn||i===Hh||i===Ah?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class b0 extends SC{constructor(i){super(),this.moduleType=i,null!==_r(i)&&function(r){const i=new Set;!function o(u){const c=_r(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Y(i)} vs ${Y(i.name)}`)}(d,Jh.get(d),u),Jh.set(d,u));const g=Vo(c.imports);for(const y of g)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new dS(this.moduleType,i)}}function _I(r){return i=>{setTimeout(r,void 0,i)}}const Da=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,g;let y=i,E=o||(()=>null),I=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),E=null===(d=R.error)||void 0===d?void 0:d.bind(R),I=null===(g=R.complete)||void 0===g?void 0:g.bind(R)}this.__isAsync&&(E=_I(E),y&&(y=_I(y)),I&&(I=_I(I)));const T=super.subscribe({next:y,error:E,complete:I});return i instanceof j.w&&i.add(T),T}};function wS(){return this._results[Ho()]()}class T0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ho(),u=T0.prototype;u[o]||(u[o]=wS)}get changes(){return this._changes||(this._changes=new Da)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Wr(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class vI{constructor(i){this.queryList=i,this.matches=null}clone(){return new vI(this.queryList)}setDirty(){this.queryList.setDirty()}}class EI{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const g=o.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new EI(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Qp(i,o).matches&&this.queries[o].setDirty()}}class CS{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class wI{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new wI(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class A0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new A0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,IS(o,d)),this.matchTNodeWithReadOption(i,o,dt(o,i,d,!1,!1))}else u===Up?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,dt(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===ci||c===Bp||c===Up&&4&o.type)this.addMatch(o.index,-2);else{const d=dt(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function IS(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function CI(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Cu(r,i):4&r.type?oy(r,i):null}(i,r):-2===o?function(r,i,o){return o===ci?Cu(i,r):o===Up?oy(i,r):o===Bp?$p(i,r):void 0}(r,i,u):As(r,r[1],o,i)}function S0(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,g=o.matches,y=[];for(let E=0;E<g.length;E+=2){const I=g[E];y.push(I<0?null:CI(i,d[I],g[E+1],o.metadata.read))}c.matches=y}return c.matches}function Cy(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const g=S0(r,i,c,o);for(let y=0;y<d.length;y+=2){const E=d[y];if(E>0)u.push(g[y/2]);else{const I=d[y+1],T=i[-E];for(let R=10;R<T.length;R++){const P=T[R];P[17]===P[3]&&Cy(P[1],P,I,u)}if(null!==T[9]){const R=T[9];for(let P=0;P<R.length;P++){const B=R[P];Cy(B[1],B,I,u)}}}}}return u}function x0(r){const i=Te(),o=At(),u=Yu();jd(u+1);const c=Qp(o,u);if(r.dirty&&Jo(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?Cy(o,i,u,[]):S0(o,i,c,u);r.reset(d,EC),r.notifyOnChanges()}return!0}return!1}function M0(r,i,o,u){const c=At();if(c.firstCreatePass){const d=An();(function(r,i,o){null===r.queries&&(r.queries=new wI),r.queries.track(new A0(i,o))})(c,new CS(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new T0(4==(4&o));T_(r,i,u,u.destroy),null===i[19]&&(i[19]=new EI),i[19].queries.push(new vI(u))}(c,Te(),o)}function DS(){return r=Te(),i=Yu(),r[19].queries[i].queryList;var r,i}function Qp(r,i){return r.queries.getByIndex(i)}const ef=new vn("Application Initializer");let Ta=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Vc,this.reject=Vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(rd(d))o.push(d);else if(Am(d)){const g=new Promise((y,E)=>{d.subscribe({complete:y,error:E})});o.push(g)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(On(ef,8))},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();const Xp=new vn("AppId"),ZS={provide:Xp,useFactory:function(){return`${eg()}${eg()}${eg()}`},deps:[]};function eg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tg=new vn("Platform Initializer"),GI=new vn("Platform ID"),qI=new vn("appBootstrapListener");let ZI=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();const ng=new vn("LocaleId"),zI=new vn("DefaultCurrencyCode");class Ry{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const nf=function(r){return new b0(r)},rf=nf,Y0=function(r){return Promise.resolve(nf(r))},Py=function(r){const i=nf(r),u=Vo(_r(r).declarations).reduce((c,d)=>{const g=yr(d);return g&&c.push(new oI(g)),c},[]);return new Ry(i,u)},KI=Py,sf=function(r){return Promise.resolve(Py(r))};let qc=(()=>{class r{constructor(){this.compileModuleSync=rf,this.compileModuleAsync=Y0,this.compileModuleAndAllComponentsSync=KI,this.compileModuleAndAllComponentsAsync=sf}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();const W1=(()=>Promise.resolve(0))();function Dd(r){"undefined"==typeof Zone?W1.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class gs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=$.requestAnimationFrame,i=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call($,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,J0(r),r.isCheckStableRunning=!0,JI(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),J0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,g,y)=>{try{return X0(r),o.invokeTask(c,d,g,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),XI(r)}},onInvoke:(o,u,c,d,g,y,E)=>{try{return X0(r),o.invoke(c,d,g,y,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),XI(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,J0(r),JI(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,i,K1,Vc,Vc);try{return d.runTask(g,o,u)}finally{d.cancelTask(g)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const K1={};function JI(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function J0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function X0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function XI(r){r._nesting--,JI(r)}class J1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let eE=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),Dd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dd(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(On(gs))},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})(),tE=(()=>{class r{constructor(){this._applications=new Map,ky.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return ky.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();class eD{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function XS(r){ky=r}let ky=new eD,tD=!0,ex=!1;function Fy(){return ex=!0,tD}function tx(){if(ex)throw new Error("Cannot enable prod mode after platform setup.");tD=!1}let _o;const rD=new vn("AllowMultipleToken");class iE{constructor(i,o){this.name=i,this.token=o}}function sD(r,i,o=[]){const u=`Platform: ${i}`,c=new vn(u);return(d=[])=>{let g=oE();if(!g||g.injector.get(rD,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:Sh,useValue:"platform"});!function(r){if(_o&&!_o.destroyed&&!_o.injector.get(rD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_o=r.get(oD);const i=r.get(tg,null);i&&i.forEach(o=>o())}(xn.create({providers:y,name:u}))}return function(r){const i=oE();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function oE(){return _o&&!_o.destroyed?_o:null}let oD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new J1:("zone.js"===r?void 0:r)||new gs({enableLongStackTrace:Fy(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:gs,useValue:y}];return y.run(()=>{const I=xn.create({providers:E,parent:this.injector,name:o.moduleType.name}),T=o.create(I),R=T.injector.get(lh,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:B=>{R.handleError(B)}});T.onDestroy(()=>{uE(this._modules,T),P.unsubscribe()})}),function(r,i,o){try{const u=o();return rd(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const P=T.injector.get(Ta);return P.runInitializers(),P.donePromise.then(()=>(kv(T.injector.get(ng,Gm)||Gm),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=aD({},u);return function(r,i,o){const u=new b0(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(of);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(On(xn))},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();function aD(r,i){return Array.isArray(i)?i.reduce(aD,r):Object.assign(Object.assign({},r),i)}let of=(()=>{class r{constructor(o,u,c,d,g){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new O.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),Dd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ae.T)(y,E.pipe(r=>(0,ce.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,oe.N);return d.source=u,d.subjectFactory=c,d}}(re)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof Kv?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Hh),y=c.create(xn.NULL,[],u||c.selector,d),E=y.location.nativeElement,I=y.injector.get(eE,null),T=I&&y.injector.get(tE);return I&&T&&T.registerApplication(E,I),y.onDestroy(()=>{this.detachView(y.hostView),uE(this.components,y),T&&T.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;uE(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(qI,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(On(gs),On(xn),On(lh),On(Lc),On(Ta))},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();function uE(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class ax{}class lx{}const dx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dE=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||dx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),F(8255)(u).then(d=>d[c]).then(d=>hE(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(g=>g[c+d]).then(g=>hE(g,u,c))}}return r.\u0275fac=function(o){return new(o||r)(On(qc),On(lx,8))},r.\u0275prov=fn({token:r,factory:r.\u0275fac}),r})();function hE(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const Ex=function(r){return null},Wi=sD(null,"core",[{provide:GI,useValue:"unknown"},{provide:oD,deps:[xn]},{provide:tE,deps:[]},{provide:ZI,deps:[]}]),js=[{provide:of,useClass:of,deps:[gs,xn,lh,Lc,Ta]},{provide:sI,deps:[gs],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Ta,useClass:Ta,deps:[[new so,ef]]},{provide:qc,useClass:qc,deps:[]},ZS,{provide:iy,useFactory:function(){return UA},deps:[]},{provide:sy,useFactory:function(){return $h},deps:[]},{provide:ng,useFactory:function(r){return kv(r=r||"undefined"!=typeof $localize&&$localize.locale||Gm),r},deps:[[new la(ng),new so,new as]]},{provide:zI,useValue:"USD"}];let Dx=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(On(of))},r.\u0275mod=mr({type:r}),r.\u0275inj=Ur({providers:js}),r})()},8939:(Xe,Ie,F)=>{"use strict";F.d(Ie,{hO:()=>Y,xv:()=>re,Dh:()=>ce,GT:()=>se,cc:()=>de,on:()=>L,pX:()=>oe});var h=F(3018),j=F(7841),O=F(3205);Xe=F.hmd(Xe);const ae=["ngOnDestroy"],oe=(_e,me,pe,Ne={})=>new Proxy(_e,{get:(We,Fe)=>pe.runOutsideAngular(()=>{var St;if(_e[Fe])return(null===(St=null==Ne?void 0:Ne.spy)||void 0===St?void 0:St.get)&&Ne.spy.get(Fe,_e[Fe]),_e[Fe];if(ae.indexOf(Fe)>-1)return()=>{};const ht=me.toPromise().then(mn=>{const Et=mn&&mn[Fe];return"function"==typeof Et?Et.bind(mn):Et&&Et.then?Et.then(bt=>pe.run(()=>bt)):pe.run(()=>Et)});return new Proxy(()=>{},{get:(mn,Et)=>ht[Et],apply:(mn,Et,bt)=>ht.then(ut=>{var it;const Rt=ut&&ut(...bt);return(null===(it=null==Ne?void 0:Ne.spy)||void 0===it?void 0:it.apply)&&Ne.spy.apply(Fe,bt,Rt),Rt})})})}),se=(_e,me)=>{me.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Ne=>{Object.defineProperty(_e.prototype,Ne,Object.getOwnPropertyDescriptor(pe.prototype||pe,Ne))})})};class ye{constructor(me){return me}}const ce=new h.OlP("angularfire2.app.options"),re=new h.OlP("angularfire2.app.name");function L(_e,me,pe){const We="object"==typeof pe&&pe||{};We.name=We.name||"string"==typeof pe&&pe||"[DEFAULT]";const St=j.Z.apps.filter(ht=>ht&&ht.name===We.name)[0]||me.runOutsideAngular(()=>j.Z.initializeApp(_e,We));try{JSON.stringify(_e)!==JSON.stringify(St.options)&&V("error",`${St.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ht){}return new ye(St)}const V=(_e,...me)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[_e](...me)},X={provide:ye,useFactory:L,deps:[ce,h.R0b,[new h.FiY,re]]};let Y=(()=>{class _e{constructor(pe){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",h.q4F.full,pe.toString())}static initializeApp(pe,Ne){return{ngModule:_e,providers:[{provide:ce,useValue:pe},{provide:re,useValue:Ne}]}}}return _e.\u0275fac=function(pe){return new(pe||_e)(h.LFG(h.Lbi))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({providers:[X]}),_e})();function de(_e,me,pe,Ne,We){const[,Fe,St]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===_e)||[];if(Fe)return function(_e,me){try{return _e.toString()===me.toString()}catch(pe){return _e===me}}(We,St)||(K("error",`${me} was already initialized on the ${pe} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:We,was:St})),Fe;{const ht=Ne();return globalThis.\u0275AngularfireInstanceCache.push([_e,ht,We]),ht}}const ge=!!Xe.hot,K=(_e,...me)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[_e](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3205:(Xe,Ie,F)=>{"use strict";F.d(Ie,{q4:()=>oc,iC:()=>wl,HU:()=>_i,vb:()=>Xa,JM:()=>uc});var h=F(3018),j=F(2329),O=F(8239),ae=F(8026),oe=F(3854),se=F(3910),ye=F(5422),ce=F(6676);const re="@firebase/installations",L="0.5.4",X=`w:${L}`,Y="FIS_v2",me=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(b){return b instanceof oe.ZR&&b.code.includes("request-failed")}function Ne({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function We(b){return{token:b.token,requestStatus:2,expiresIn:ut(b.expiresIn),creationTime:Date.now()}}function Fe(b,D){return St.apply(this,arguments)}function St(){return(St=(0,O.Z)(function*(b,D){const U=(yield D.json()).error;return me.create("request-failed",{requestName:b,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ht({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function mn(b,{refreshToken:D}){const M=ht(b);return M.append("Authorization",function(b){return`${Y} ${b}`}(D)),M}function Et(b){return bt.apply(this,arguments)}function bt(){return(bt=(0,O.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function ut(b){return Number(b.replace("s","000"))}function Rt(b,D){return Je.apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(b,{fid:D}){const M=Ne(b),ue={method:"POST",headers:ht(b),body:JSON.stringify({fid:D,authVersion:Y,appId:b.appId,sdkVersion:X})},xe=yield Et(()=>fetch(M,ue));if(xe.ok){const ze=yield xe.json();return{fid:ze.fid||D,registrationStatus:2,refreshToken:ze.refreshToken,authToken:We(ze.authToken)}}throw yield Fe("Create Installation",xe)})).apply(this,arguments)}function Yn(b){return new Promise(D=>{setTimeout(D,b)})}const ms=/^[cdef][\w-]{21}$/;function ar(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function(b){return function(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return ms.test(M)?M:""}catch(b){return""}}function Ki(b){return`${b.appName}!${b.appId}`}const Yi=new Map;function hi(b,D){const M=Ki(b);Cn(M,D),function(b,D){const M=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=b=>{Cn(b.data.key,b.data.fid)}),Qt);M&&M.postMessage({key:b,fid:D}),0===Yi.size&&Qt&&(Qt.close(),Qt=null)}(M,D)}function Cn(b,D){const M=Yi.get(b);if(M)for(const U of M)U(D)}let Qt=null;const pn="firebase-installations-store";let Vn=null;function fi(){return Vn||(Vn=(0,ce.openDb)("firebase-installations-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(pn)}})),Vn}function En(b,D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(b,D){const M=Ki(b),J=(yield fi()).transaction(pn,"readwrite"),ue=J.objectStore(pn),xe=yield ue.get(M);return yield ue.put(D,M),yield J.complete,(!xe||xe.fid!==D.fid)&&hi(b,D.fid),D})).apply(this,arguments)}function Un(b){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(b){const D=Ki(b),U=(yield fi()).transaction(pn,"readwrite");yield U.objectStore(pn).delete(D),yield U.complete})).apply(this,arguments)}function rt(b,D){return Se.apply(this,arguments)}function Se(){return(Se=(0,O.Z)(function*(b,D){const M=Ki(b),J=(yield fi()).transaction(pn,"readwrite"),ue=J.objectStore(pn),xe=yield ue.get(M),ze=D(xe);return void 0===ze?yield ue.delete(M):yield ue.put(ze,M),yield J.complete,ze&&(!xe||xe.fid!==ze.fid)&&hi(b,ze.fid),ze})).apply(this,arguments)}function Pt(b){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(b){let D;const M=yield rt(b,U=>{const J=en(U),ue=Vt(b,J);return D=ue.registrationPromise,ue.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function en(b){return tn(b||{fid:ar(),registrationStatus:0})}function Vt(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(me.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:M,registrationPromise:function(b,D){return Ke.apply(this,arguments)}(b,M)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:gr(b)}:{installationEntry:D}}function Ke(){return(Ke=(0,O.Z)(function*(b,D){try{return En(b,yield Rt(b,D))}catch(M){throw pe(M)&&409===M.customData.serverCode?yield Un(b):yield En(b,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function gr(b){return un.apply(this,arguments)}function un(){return(un=(0,O.Z)(function*(b){let D=yield qt(b);for(;1===D.registrationStatus;)yield Yn(100),D=yield qt(b);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield Pt(b);return U||M}return D})).apply(this,arguments)}function qt(b){return rt(b,D=>{if(!D)throw me.create("installation-not-found");return tn(D)})}function tn(b){return function(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function ys(b,D){return H.apply(this,arguments)}function H(){return(H=(0,O.Z)(function*({appConfig:b,platformLoggerProvider:D},M){const U=Z(b,M),J=mn(b,M),ue=D.getImmediate({optional:!0});ue&&J.append("x-firebase-client",ue.getPlatformInfoString());const ze={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:X}})},Ze=yield Et(()=>fetch(U,ze));if(Ze.ok)return We(yield Ze.json());throw yield Fe("Generate Auth Token",Ze)})).apply(this,arguments)}function Z(b,{fid:D}){return`${Ne(b)}/${D}/authTokens:generate`}function $(b){return we.apply(this,arguments)}function we(){return(we=(0,O.Z)(function*(b,D=!1){let M;const U=yield rt(b.appConfig,ue=>{if(!Dn(ue))throw me.create("not-registered");const xe=ue.authToken;if(!D&&Qn(xe))return ue;if(1===xe.requestStatus)return M=ie(b,D),ue;{if(!navigator.onLine)throw me.create("app-offline");const ze=G(ue);return M=nn(b,ze),ze}});return M?yield M:U.authToken})).apply(this,arguments)}function ie(b,D){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(b,D){let M=yield Ve(b.appConfig);for(;1===M.authToken.requestStatus;)yield Yn(100),M=yield Ve(b.appConfig);const U=M.authToken;return 0===U.requestStatus?$(b,D):U})).apply(this,arguments)}function Ve(b){return rt(b,D=>{if(!Dn(D))throw me.create("not-registered");return function(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function nn(b,D){return In.apply(this,arguments)}function In(){return(In=(0,O.Z)(function*(b,D){try{const M=yield ys(b,D),U=Object.assign(Object.assign({},D),{authToken:M});return yield En(b.appConfig,U),M}catch(M){if(!pe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield En(b.appConfig,U)}else yield Un(b.appConfig);throw M}})).apply(this,arguments)}function Dn(b){return void 0!==b&&2===b.registrationStatus}function Qn(b){return 2===b.requestStatus&&!function(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function G(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function Le(){return(Le=(0,O.Z)(function*(b){const D=b,{installationEntry:M,registrationPromise:U}=yield Pt(D.appConfig);return U?U.catch(console.error):$(D).catch(console.error),M.fid})).apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(b,D=!1){const M=b;return yield Ct(M.appConfig),(yield $(M,D)).token})).apply(this,arguments)}function Ct(b){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(b){const{registrationPromise:D}=yield Pt(b);D&&(yield D)})).apply(this,arguments)}function _r(b){return me.create("missing-app-config-values",{valueName:b})}const Rd="installations";(0,ae._registerComponent)(new se.wA(Rd,b=>{const D=b.getProvider("app").getImmediate();return{app:D,appConfig:function(b){if(!b||!b.options)throw _r("App Configuration");if(!b.name)throw _r("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!b.options[M])throw _r(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D),platformLoggerProvider:(0,ae._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new se.wA("installations-internal",b=>{const D=b.getProvider("app").getImmediate(),M=(0,ae._getProvider)(D,Rd).getImmediate();return{getId:()=>function(b){return Le.apply(this,arguments)}(M),getToken:J=>function(b){return xt.apply(this,arguments)}(M,J)}},"PRIVATE")),(0,ae.registerVersion)(re,L),(0,ae.registerVersion)(re,L,"esm2017");const Hr="@firebase/remote-config",Bn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nd{constructor(D,M,U,J){this.client=D,this.storage=M,this.storageCache=U,this.logger=J}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,J=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${J}.`),J}fetch(D){var M=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(J&&M.isCachedDataFresh(D.cacheMaxAgeMillis,U))return J;D.eTag=J&&J.eTag;const ue=yield M.client.fetch(D),xe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&xe.push(M.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(xe),ue})()}}function Es(b=navigator){return b.languages&&b.languages[0]||b.language}class cn{constructor(D,M,U,J,ue,xe){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=U,this.projectId=J,this.apiKey=ue,this.appId=xe}fetch(D){var M=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ze={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:M.appId,language_code:Es()},Ut={method:"POST",headers:ze,body:JSON.stringify(Ze)},Ft=fetch(xe,Ut),Hn=new Promise((Ms,Rs)=>{D.signal.addEventListener(()=>{const lc=new Error("The operation was aborted.");lc.name="AbortError",Rs(lc)})});let dr;try{yield Promise.race([Ft,Hn]),dr=yield Ft}catch(Ms){let Rs="fetch-client-network";throw"AbortError"===Ms.name&&(Rs="fetch-timeout"),Bn.create(Rs,{originalErrorMessage:Ms.message})}let nr=dr.status;const vi=dr.headers.get("ETag")||void 0;let eu,Ei;if(200===dr.status){let Ms;try{Ms=yield dr.json()}catch(Rs){throw Bn.create("fetch-client-parse",{originalErrorMessage:Rs.message})}eu=Ms.entries,Ei=Ms.state}if("INSTANCE_STATE_UNSPECIFIED"===Ei?nr=500:"NO_CHANGE"===Ei?nr=304:("NO_TEMPLATE"===Ei||"EMPTY_CONFIG"===Ei)&&(eu={}),304!==nr&&200!==nr)throw Bn.create("fetch-status",{httpStatus:nr});return{status:nr,eTag:vi,config:eu}})()}}class Pa{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,O.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:U}){var J=this;return(0,O.Z)(function*(){yield function(b,D){return new Promise((M,U)=>{const J=Math.max(D-Date.now(),0),ue=setTimeout(M,J);b.addEventListener(()=>{clearTimeout(ue),U(Bn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ue=yield J.client.fetch(D);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ue))throw ue;const xe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(xe),J.attemptFetch(D,xe)}})()}}class Od{constructor(D,M,U,J,ue){this.app=D,this._client=M,this._storageCache=U,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vu(b,D){const M=b.target.error||void 0;return Bn.create(D,{originalErrorMessage:M&&M.message})}const ws="app_namespace_store";class kd{constructor(D,M,U,J=function(){return new Promise((b,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{D(Vu(U,"storage-open"))},M.onsuccess=U=>{b(U.target.result)},M.onupgradeneeded=U=>{const J=U.target.result;switch(U.oldVersion){case 0:J.createObjectStore(ws,{keyPath:"compositeKey"})}}}catch(M){D(Bn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=D,this.appName=M,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,O.Z)(function*(){const U=yield M.openDbPromise;return new Promise((J,ue)=>{const ze=U.transaction([ws],"readonly").objectStore(ws),Ze=M.createCompositeKey(D);try{const Ut=ze.get(Ze);Ut.onerror=Ft=>{ue(Vu(Ft,"storage-get"))},Ut.onsuccess=Ft=>{const Hn=Ft.target.result;J(Hn?Hn.value:void 0)}}catch(Ut){ue(Bn.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(D,M){var U=this;return(0,O.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ue,xe)=>{const Ze=J.transaction([ws],"readwrite").objectStore(ws),Ut=U.createCompositeKey(D);try{const Ft=Ze.put({compositeKey:Ut,value:M});Ft.onerror=Hn=>{xe(Vu(Hn,"storage-set"))},Ft.onsuccess=()=>{ue()}}catch(Ft){xe(Bn.create("storage-set",{originalErrorMessage:Ft&&Ft.message}))}})})()}delete(D){var M=this;return(0,O.Z)(function*(){const U=yield M.openDbPromise;return new Promise((J,ue)=>{const ze=U.transaction([ws],"readwrite").objectStore(ws),Ze=M.createCompositeKey(D);try{const Ut=ze.delete(Ze);Ut.onerror=Ft=>{ue(Vu(Ft,"storage-delete"))},Ut.onsuccess=()=>{J()}}catch(Ut){ue(Bn.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Dg{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const M=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),J=D.storage.getActiveConfig(),ue=yield M;ue&&(D.lastFetchStatus=ue);const xe=yield U;xe&&(D.lastSuccessfulFetchTimestampMillis=xe);const ze=yield J;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ff(){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(b){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new se.wA("remote-config",function(D,{instanceIdentifier:M}){const U=D.getProvider("app").getImmediate(),J=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!(0,oe.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:ue,apiKey:xe,appId:ze}=U.options;if(!ue)throw Bn.create("registration-project-id");if(!xe)throw Bn.create("registration-api-key");if(!ze)throw Bn.create("registration-app-id");const Ze=new kd(ze,U.name,M=M||"firebase"),Ut=new Dg(Ze),Ft=new ye.Yd(Hr);Ft.logLevel=ye.in.ERROR;const Hn=new cn(J,ae.SDK_VERSION,M,ue,xe,ze),dr=new Pa(Hn,Ze),nr=new Nd(dr,Ze,Ut,Ft),vi=new Od(U,nr,Ut,Ze,Ft);return function(b){const D=(0,oe.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(vi),vi},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Hr,"0.3.3"),(0,ae.registerVersion)(Hr,"0.3.3","esm2017");const Tg="/firebase-messaging-sw.js",Ld="/firebase-cloud-messaging-push-scope",el="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",Xi="google.c.a.c_l",Vd="google.c.a.ts",pf="google.c.a.e";var pi=(()=>{return(b=pi||(pi={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",pi;var b})();function gi(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ud(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),J=new Uint8Array(U.length);for(let ue=0;ue<U.length;++ue)J[ue]=U.charCodeAt(ue);return J}const To="fcm_token_details_db",tl="fcm_token_object_Store";function gf(b){return ka.apply(this,arguments)}function ka(){return(ka=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(To))return null;let D=null;return(yield(0,ce.openDb)(To,5,function(){var U=(0,O.Z)(function*(J){var ue;if(J.oldVersion<2||!J.objectStoreNames.contains(tl))return;const xe=J.transaction.objectStore(tl),ze=yield xe.index("fcmSenderId").get(b);if(yield xe.clear(),ze)if(2===J.oldVersion){const Ze=ze;if(!Ze.auth||!Ze.p256dh||!Ze.endpoint)return;D={token:Ze.fcmToken,createTime:null!==(ue=Ze.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:Ze.auth,p256dh:Ze.p256dh,endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:"string"==typeof Ze.vapidKey?Ze.vapidKey:gi(Ze.vapidKey)}}}else if(3===J.oldVersion){const Ze=ze;D={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:gi(Ze.auth),p256dh:gi(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:gi(Ze.vapidKey)}}}else if(4===J.oldVersion){const Ze=ze;D={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:gi(Ze.auth),p256dh:gi(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:gi(Ze.vapidKey)}}}});return function(J){return U.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(To),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),nl(D)?D:null})).apply(this,arguments)}function nl(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const cr="firebase-messaging-store";let Zs=null;function rl(){return Zs||(Zs=(0,ce.openDb)("firebase-messaging-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(cr)}})),Zs}function zs(b){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,O.Z)(function*(b){const D=$u(b),U=yield(yield rl()).transaction(cr).objectStore(cr).get(D);if(U)return U;{const J=yield gf(b.appConfig.senderId);if(J)return yield ts(b,J),J}})).apply(this,arguments)}function ts(b,D){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.Z)(function*(b,D){const M=$u(b),J=(yield rl()).transaction(cr,"readwrite");return yield J.objectStore(cr).put(D,M),yield J.complete,D})).apply(this,arguments)}function Tn(b){return il.apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(b){const D=$u(b),U=(yield rl()).transaction(cr,"readwrite");yield U.objectStore(cr).delete(D),yield U.complete})).apply(this,arguments)}function $u({appConfig:b}){return b.appId}const yt=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _f(b,D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*(b,D){const M=yield Rr(b),U=Ao(D),J={method:"POST",headers:M,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(Ws(b.appConfig),J)).json()}catch(xe){throw yt.create("token-subscribe-failed",{errorInfo:xe})}if(ue.error)throw yt.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw yt.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Hu(b,D){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(b,D){const M=yield Rr(b),U=Ao(D.subscriptionOptions),J={method:"PATCH",headers:M,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(`${Ws(b.appConfig)}/${D.token}`,J)).json()}catch(xe){throw yt.create("token-update-failed",{errorInfo:xe})}if(ue.error)throw yt.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw yt.create("token-update-no-token");return ue.token})).apply(this,arguments)}function sl(b,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,O.Z)(function*(b,D){const U={method:"DELETE",headers:yield Rr(b)};try{const ue=yield(yield fetch(`${Ws(b.appConfig)}/${D}`,U)).json();if(ue.error)throw yt.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(J){throw yt.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Ws({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Rr(b){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*({appConfig:b,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Ao({p256dh:b,auth:D,endpoint:M,vapidKey:U}){const J={web:{endpoint:M,auth:D,p256dh:b}};return U!==el&&(J.web.applicationPubKey=U),J}const ol=6048e5;function Cs(b){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,O.Z)(function*(b){const D=yield La(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:gi(D.getKey("auth")),p256dh:gi(D.getKey("p256dh"))},U=yield zs(b.firebaseDependencies);if(U){if(qu(U.subscriptionOptions,M))return Date.now()>=U.createTime+ol?Bd(b,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield sl(b.firebaseDependencies,U.token)}catch(J){console.warn(J)}return So(b.firebaseDependencies,M)}return So(b.firebaseDependencies,M)})).apply(this,arguments)}function Xo(b){return ot.apply(this,arguments)}function ot(){return(ot=(0,O.Z)(function*(b){const D=yield zs(b.firebaseDependencies);D&&(yield sl(b.firebaseDependencies,D.token),yield Tn(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Bd(b,D){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(b,D){try{const M=yield Hu(b.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield ts(b.firebaseDependencies,U),M}catch(M){throw yield Xo(b),M}})).apply(this,arguments)}function So(b,D){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(b,D){const U={token:yield _f(b,D),createTime:Date.now(),subscriptionOptions:D};return yield ts(b,U),U.token})).apply(this,arguments)}function La(b,D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ud(D)})})).apply(this,arguments)}function qu(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function Te(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcm_message_id};return function(b,D){if(!D.notification)return;b.notification={};const M=D.notification.title;M&&(b.notification.title=M);const U=D.notification.body;U&&(b.notification.body=U);const J=D.notification.image;J&&(b.notification.image=J)}(D,b),function(b,D){!D.data||(b.data=D.data)}(D,b),function(b,D){if(!D.fcmOptions)return;b.fcmOptions={};const M=D.fcmOptions.link;M&&(b.fcmOptions.link=M);const U=D.fcmOptions.analytics_label;U&&(b.fcmOptions.analyticsLabel=U)}(D,b),D}function ul(b){return"object"==typeof b&&!!b&&Do in b}function Ys(b,D){const M=[];for(let U=0;U<b.length;U++)M.push(b.charAt(U)),U<D.length&&M.push(D.charAt(U));return M.join("")}function xo(b){return yt.create("missing-app-config-values",{valueName:b})}Ys("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ys("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ta{constructor(D,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(b){if(!b||!b.options)throw xo("App Configuration Object");if(!b.name)throw xo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const U of D)if(!M[U])throw xo(U);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:J,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Zu(b){return Va.apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Tg,{scope:Ld}),b.swRegistration.update().catch(()=>{})}catch(D){throw yt.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Qs(b,D){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,O.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Zu(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function qr(b,D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=el)})).apply(this,arguments)}function is(){return(is=(0,O.Z)(function*(b,D){if(!navigator)throw yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yt.create("permission-blocked");return yield qr(b,null==D?void 0:D.vapidKey),yield Qs(b,null==D?void 0:D.serviceWorkerRegistration),Cs(b)})).apply(this,arguments)}function Is(b,D,M){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(b,D,M){const U=cl(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[Do],message_name:M[Xi],message_time:M[Vd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cl(b){switch(b){case pi.NOTIFICATION_CLICKED:return"notification_open";case pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wu(){return(Wu=(0,O.Z)(function*(b,D){const M=D.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===pi.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Te(M)):b.onMessageHandler.next(Te(M)));const U=M.data;ul(U)&&"1"===U[pf]&&(yield Is(b,M.messageType,U))})).apply(this,arguments)}const na="@firebase/messaging";function Qu(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new se.wA("messaging",b=>{const D=new ta(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(b,D){return Wu.apply(this,arguments)}(D,M)),D},"PUBLIC")),(0,ae._registerComponent)(new se.wA("messaging-internal",b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:U=>function(b,D){return is.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,ae.registerVersion)(na,"0.9.4"),(0,ae.registerVersion)(na,"0.9.4","esm2017");const Bi="analytics",_n="firebase_id",fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xu="https://www.googletagmanager.com/gtag/js",lr=new ye.Yd("@firebase/analytics");function qd(b){return Promise.all(b.map(D=>D.catch(M=>M)))}function ja(b,D){const M=document.createElement("script");M.src=`${Xu}?l=${b}&id=${D}`,M.async=!0,document.head.appendChild(M)}function pl(b,D,M,U,J,ue){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(b,D,M,U,J,ue){const xe=U[J];try{if(xe)yield D[xe];else{const Ze=(yield qd(M)).find(Ut=>Ut.measurementId===J);Ze&&(yield D[Ze.appId])}}catch(ze){lr.error(ze)}b("config",J,ue)})).apply(this,arguments)}function gl(b,D,M,U,J){return ml.apply(this,arguments)}function ml(){return(ml=(0,O.Z)(function*(b,D,M,U,J){try{let ue=[];if(J&&J.send_to){let xe=J.send_to;Array.isArray(xe)||(xe=[xe]);const ze=yield qd(M);for(const Ze of xe){const Ut=ze.find(Hn=>Hn.measurementId===Ze),Ft=Ut&&D[Ut.appId];if(!Ft){ue=[];break}ue.push(Ft)}}0===ue.length&&(ue=Object.values(D)),yield Promise.all(ue),b("event",U,J||{})}catch(ue){lr.error(ue)}})).apply(this,arguments)}function Sg(){const b=window.document.getElementsByTagName("script");for(const D of Object.values(b))if(D.src&&D.src.includes(Xu))return D;return null}const Nr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Mg=new class{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Yy(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Ha(b){return No.apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(b){var D;const{appId:M,apiKey:U}=b,J={method:"GET",headers:Yy(U)},ue=fl.replace("{app-id}",M),xe=yield fetch(ue,J);if(200!==xe.status&&304!==xe.status){let ze="";try{const Ze=yield xe.json();(null===(D=Ze.error)||void 0===D?void 0:D.message)&&(ze=Ze.error.message)}catch(Ze){}throw Nr.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:ze})}return xe.json()})).apply(this,arguments)}function Xs(b){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,O.Z)(function*(b,D=Mg,M){const{appId:U,apiKey:J,measurementId:ue}=b.options;if(!U)throw Nr.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:U};throw Nr.create("no-api-key")}const xe=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Po;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==M?M:6e4),Zd({appId:U,apiKey:J,measurementId:ue},xe,ze,D)})).apply(this,arguments)}function Zd(b,D,M){return ec.apply(this,arguments)}function ec(){return(ec=(0,O.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:M},U,J=Mg){const{appId:ue,measurementId:xe}=b;try{yield Ga(U,D)}catch(ze){if(xe)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:ue,measurementId:xe};throw ze}try{const ze=yield Ha(b);return J.deleteThrottleMetadata(ue),ze}catch(ze){if(!bf(ze)){if(J.deleteThrottleMetadata(ue),xe)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:ue,measurementId:xe};throw ze}const Ze=503===Number(ze.customData.httpStatus)?(0,oe.$s)(M,J.intervalMillis,30):(0,oe.$s)(M,J.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+Ze,backoffCount:M+1};return J.setThrottleMetadata(ue,Ut),lr.debug(`Calling attemptFetch again in ${Ze} millis`),Zd(b,Ut,U,J)}})).apply(this,arguments)}function Ga(b,D){return new Promise((M,U)=>{const J=Math.max(D-Date.now(),0),ue=setTimeout(M,J);b.addEventListener(()=>{clearTimeout(ue),U(Nr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function bf(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Po{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function tc(){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(){if(!(0,oe.hl)())return lr.warn(Nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(b){return lr.warn(Nr.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function nc(){return(nc=(0,O.Z)(function*(b,D,M,U,J,ue,xe){var ze;const Ze=Xs(b);Ze.then(nr=>{M[nr.measurementId]=nr.appId,b.options.measurementId&&nr.measurementId!==b.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nr=>lr.error(nr)),D.push(Ze);const Ut=tc().then(nr=>{if(nr)return U.getId()}),[Ft,Hn]=yield Promise.all([Ze,Ut]);Sg()||ja(ue,Ft.measurementId),J("js",new Date);const dr=null!==(ze=null==xe?void 0:xe.config)&&void 0!==ze?ze:{};return dr.origin="firebase",dr.update=!0,null!=Hn&&(dr[_n]=Hn),J("config",Ft.measurementId,dr),Ft.measurementId})).apply(this,arguments)}class mi{constructor(D){this.app=D}_delete(){return delete Ts[this.app.options.appId],Promise.resolve()}}let Ts={},yi=[];const ln={};let ss,eo,tt="dataLayer",Za=!1;function zt(b,D,M){!function(){const b=[];if((0,oe.ru)()&&b.push("This is a browser extension environment."),(0,oe.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((U,J)=>`(${J+1}) ${U}`).join(" "),M=Nr.create("invalid-analytics-context",{errorInfo:D});lr.warn(M.message)}}();const U=b.options.appId;if(!U)throw Nr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Nr.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ts[U])throw Nr.create("already-exists",{id:U});if(!Za){!function(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(tt);const{wrappedGtag:ue,gtagCore:xe}=function(b,D,M,U,J){let ue=function(...xe){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function(b,D,M,U){function ue(){return(ue=(0,O.Z)(function*(xe,ze,Ze){try{"event"===xe?yield gl(b,D,M,ze,Ze):"config"===xe?yield pl(b,D,M,U,ze,Ze):b("set",ze)}catch(Ut){lr.error(Ut)}})).apply(this,arguments)}return function(xe,ze,Ze){return ue.apply(this,arguments)}}(ue,b,D,M),{gtagCore:ue,wrappedGtag:window[J]}}(Ts,yi,ln,tt,"gtag");eo=ue,ss=xe,Za=!0}return Ts[U]=function(b,D,M,U,J,ue,xe){return nc.apply(this,arguments)}(b,yi,ln,D,ss,tt,M),new mi(b)}function Wa(){return(Wa=(0,O.Z)(function*(b,D,M,U,J){if(J&&J.global)b("event",M,U);else{const ue=yield D;b("event",M,Object.assign(Object.assign({},U),{send_to:ue}))}})).apply(this,arguments)}function aa(){return xs.apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(b){return!1}})).apply(this,arguments)}const Mt="@firebase/analytics";(0,ae._registerComponent)(new se.wA(Bi,(D,{options:M})=>zt(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new se.wA("analytics-internal",function(D){try{const M=D.getProvider(Bi).getImmediate();return{logEvent:(U,J,ue)=>function(b,D,M,U){b=(0,oe.m9)(b),function(b,D,M,U,J){return Wa.apply(this,arguments)}(eo,Ts[b.app.options.appId],D,M,U).catch(J=>lr.error(J))}(M,U,J,ue)}}catch(M){throw Nr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(Mt,"0.7.4"),(0,ae.registerVersion)(Mt,"0.7.4","esm2017");var qe=F(7771),vn=F(3637),ft=F(3342),Ya=F(3101),sc=F(309);const oc=new h.GfV("7.2.0"),Qa="__angularfire_symbol__analyticsIsSupported",Kd="__angularfire_symbol__remoteConfigIsSupported",er="__angularfire_symbol__messagingIsSupported";function uc(b,D,M){if(D){if(1===D.length)return D[0];const ue=D.filter(xe=>xe.app===M);if(1===ue.length)return ue[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[Qa]||(globalThis[Qa]=aa().then(b=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=b)),globalThis[er]||(globalThis[er]=Qu().then(b=>globalThis.__angularfire_symbol__messagingIsSupportedValue=b)),globalThis[Kd]||(globalThis[Kd]=ff().then(b=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=b));const Xa=(b,D)=>{const M=D?[D]:(0,j.C6)(),U=[];return M.forEach(J=>{J.container.getProvider(b).instances.forEach(xe=>{U.includes(xe)||U.push(xe)})}),U};function ca(){}class Yd{constructor(D,M=qe.N){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,U){const J=this.zone;return this.delegate.schedule(function(xe){J.runGuarded(()=>{D.apply(this,[xe])})},M,U)}}class Wr{constructor(D){this.zone=D,this.task=null}call(D,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),M.pipe((0,ft.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _i=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Yd(Zone.current)),this.insideAngular=M.run(()=>new Yd(Zone.current,vn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function si(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function wl(b){return si(),function(b){return function(M){return(M=M.lift(new Wr(b.ngZone))).pipe((0,Ya.R)(b.outsideAngular),(0,sc.QV)(b.insideAngular))}}(si())(b)}},2476:(Xe,Ie,F)=>{"use strict";F.d(Ie,{$:()=>qr,A:()=>wo,E:()=>Gs,G:()=>cn,I:()=>qs,K:()=>Ji,L:()=>zs,M:()=>Tn,N:()=>il,P:()=>J,Q:()=>$u,R:()=>si,T:()=>bs,U:()=>Fa,V:()=>Hu,W:()=>Rr,X:()=>Te,Y:()=>al,Z:()=>ul,_:()=>ta,a:()=>ss,a0:()=>zu,a1:()=>Is,a2:()=>cl,a3:()=>Wu,a4:()=>Ku,a5:()=>jd,a6:()=>vf,a7:()=>Mo,a8:()=>$d,a9:()=>Gd,aA:()=>ru,aB:()=>Il,aC:()=>ur,aG:()=>sa,aJ:()=>yt,aa:()=>Ky,ab:()=>Bi,ae:()=>fl,af:()=>lr,ag:()=>qd,aj:()=>Gu,ak:()=>Ef,am:()=>Zd,an:()=>qa,ao:()=>Na,ap:()=>Vn,aq:()=>Xn,ar:()=>vs,as:()=>Sn,at:()=>Pr,au:()=>eh,av:()=>Qt,aw:()=>Re,ax:()=>En,ay:()=>yn,az:()=>oo,b:()=>tt,c:()=>nr,d:()=>Ms,e:()=>eu,f:()=>nu,g:()=>so,h:()=>Sf,i:()=>qe,j:()=>Rg,k:()=>Vf,l:()=>wl,m:()=>Fg,n:()=>mc,o:()=>Yn,r:()=>Qd,s:()=>El,u:()=>M,z:()=>Ki});var h=F(8239),j=F(3854),O=F(8026);function ye(v,p){var m={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&p.indexOf(w)<0&&(m[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(w=Object.getOwnPropertySymbols(v);A<w.length;A++)p.indexOf(w[A])<0&&Object.prototype.propertyIsEnumerable.call(v,w[A])&&(m[w[A]]=v[w[A]])}return m}var it=F(5422),Rt=F(3910);const Yn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},wo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ki=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Yi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hi=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new it.Yd("@firebase/auth");function Cn(v,...p){Ot.logLevel<=it.in.ERROR&&Ot.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Sn(v,...p){throw Ur(v,...p)}function Qt(v,...p){return Ur(v,...p)}function fn(v,p,m){const w=Object.assign(Object.assign({},Yi()),{[p]:m});return new j.LL("auth","Firebase",w).create(p,{appName:v.name})}function Li(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Sn(v,"argument-error"),fn(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ur(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return hi.create(v,...p)}function Re(v,p,...m){if(!v)throw Ur(p,...m)}function pn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Cn(p),new Error(p)}function Vn(v,p){v||pn(p)}const fi=new Map;function En(v){Vn(v instanceof Function,"Expected a class definition");let p=fi.get(v);return p?(Vn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,fi.set(v,p),p)}function Br(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function rt(){return"http:"===Se()||"https:"===Se()}function Se(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class en{constructor(p,m){this.shortDelay=p,this.longDelay=m,Vn(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Vt(v,p){Vn(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ge{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gr=new en(3e4,6e4);function un(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function qt(v,p,m,w){return tn.apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(v,p,m,w,A={}){return Jt(v,A,()=>{let x={},W={};w&&("GET"===p?W=w:x={body:JSON.stringify(w)});const ve=(0,j.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),He=new(Ge.headers());return He.set("Content-Type","application/json"),He.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&He.set("X-Firebase-Locale",v.languageCode),Ge.fetch()($(v,v.config.apiHost,m,ve),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},x))})})).apply(this,arguments)}function Jt(v,p,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ke),p);try{const A=new we(v),x=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const W=yield x.json();if("needConfirmation"in W)throw ie(v,"account-exists-with-different-credential",W);if(x.ok&&!("errorMessage"in W))return W;{const ve=x.ok?W.errorMessage:W.error.message,[He,Pe]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw ie(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===He)throw ie(v,"email-already-in-use",W);const st=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Pe)throw fn(v,st,Pe);Sn(v,st)}}catch(A){if(A instanceof j.ZR)throw A;Sn(v,"network-request-failed")}})).apply(this,arguments)}function H(v,p,m,w){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(v,p,m,w,A={}){const x=yield qt(v,p,m,w,A);return"mfaPendingCredential"in x&&Sn(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function $(v,p,m,w){const A=`${p}${m}?${w}`;return v.config.emulator?Vt(v.config,A):`${v.config.apiScheme}://${A}`}class we{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Qt(this.auth,"timeout")),gr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ie(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=Qt(v,p,w);return A.customData._tokenResponse=m,A}function Ve(){return(Ve=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function nn(v,p){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dn(v,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ee(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ce(){return(Ce=(0,h.Z)(function*(v,p=!1){const m=(0,j.m9)(v),w=yield m.getIdToken(p),A=ct(w);Re(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const x="object"==typeof A.firebase?A.firebase:void 0,W=null==x?void 0:x.sign_in_provider;return{claims:A,token:w,authTime:ee(Le(A.auth_time)),issuedAtTime:ee(Le(A.iat)),expirationTime:ee(Le(A.exp)),signInProvider:W||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Le(v){return 1e3*Number(v)}function ct(v){const[p,m,w]=v.split(".");if(void 0===p||void 0===m||void 0===w)return Cn("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,j.tV)(m);return A?JSON.parse(A):(Cn("Failed to decode base64 JWT payload"),null)}catch(A){return Cn("Caught error parsing JWT payload as JSON",A),null}}function Ct(v,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof j.ZR&&mr(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function mr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Tt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ee(this.lastLoginAt),this.creationTime=ee(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(v){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),A=yield Ct(v,Dn(m,{idToken:w}));Re(null==A?void 0:A.users.length,m,"internal-error");const x=A.users[0];v._notifyReloadListener(x);const W=(null===(p=x.providerUserInfo)||void 0===p?void 0:p.length)?_r(x.providerUserInfo):[],ve=bo(v.providerData,W),st=!!v.isAnonymous&&!(v.email&&x.passwordHash||(null==ve?void 0:ve.length)),Bt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ve,metadata:new Tt(x.createdAt,x.lastLoginAt),isAnonymous:st};Object.assign(v,Bt)})).apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(v){const p=(0,j.m9)(v);yield jr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function bo(v,p){return[...v.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function _r(v){return v.map(p=>{var{providerId:m}=p,w=ye(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function $r(){return($r=(0,h.Z)(function*(v,p){const m=yield Jt(v,{},()=>{const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:x}=v.config,W=$(v,A,"/v1/token",`key=${x}`);return Ge.fetch()(W,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Re(p.idToken,"internal-error"),Re(void 0!==p.idToken,"internal-error"),Re(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=ct(v);return Re(p,"internal-error"),Re(void 0!==p.exp,"internal-error"),Re(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,h.Z)(function*(){return Re(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:x,expiresIn:W}=yield function(v,p){return $r.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,x,Number(W))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:x}=m,W=new Ue;return w&&(Re("string"==typeof w,"internal-error",{appName:p}),W.refreshToken=w),A&&(Re("string"==typeof A,"internal-error",{appName:p}),W.accessToken=A),x&&(Re("number"==typeof x,"internal-error",{appName:p}),W.expirationTime=x),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return pn("not implemented")}}function lt(v,p){Re("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Zt{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,x=ye(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new Tt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const w=yield Ct(m,m.stsTokenManager.getToken(m.auth,p));return Re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function(v){return Ce.apply(this,arguments)}(this,p)}reload(){return function(v){return Qi.apply(this,arguments)}(this)}_assign(p){this!==p&&(Re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Zt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,h.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield jr(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Ct(p,function(v,p){return Ve.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,x,W,ve,He,Pe,st;const Bt=null!==(w=m.displayName)&&void 0!==w?w:void 0,Xt=null!==(A=m.email)&&void 0!==A?A:void 0,Gn=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,Ns=null!==(W=m.photoURL)&&void 0!==W?W:void 0,au=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,yc=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,Lo=null!==(Pe=m.createdAt)&&void 0!==Pe?Pe:void 0,ah=null!==(st=m.lastLoginAt)&&void 0!==st?st:void 0,{uid:sn,emailVerified:jf,isAnonymous:Lg,providerData:Os,stsTokenManager:Ps}=m;Re(sn&&Ps,p,"internal-error");const uh=Ue.fromJSON(this.name,Ps);Re("string"==typeof sn,p,"internal-error"),lt(Bt,p.name),lt(Xt,p.name),Re("boolean"==typeof jf,p,"internal-error"),Re("boolean"==typeof Lg,p,"internal-error"),lt(Gn,p.name),lt(Ns,p.name),lt(au,p.name),lt(yc,p.name),lt(Lo,p.name),lt(ah,p.name);const _c=new Zt({uid:sn,auth:p,email:Xt,emailVerified:jf,displayName:Bt,isAnonymous:Lg,photoURL:Ns,phoneNumber:Gn,tenantId:au,stsTokenManager:uh,createdAt:Lo,lastLoginAt:ah});return Os&&Array.isArray(Os)&&(_c.providerData=Os.map(ch=>Object.assign({},ch))),yc&&(_c._redirectEventId=yc),_c}static _fromIdTokenResponse(p,m,w=!1){return(0,h.Z)(function*(){const A=new Ue;A.updateFromServerResponse(m);const x=new Zt({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield jr(x),x})()}}const Ji=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,h.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function yn(v,p,m){return`firebase:${v}:${p}:${m}`}class vr{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:x}=this.auth;this.fullUserKey=yn(this.userKey,A.apiKey,x),this.fullPersistenceKey=yn("persistence",A.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Zt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new vr(En(Ji),p,w);const A=(yield Promise.all(m.map(function(){var Pe=(0,h.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let x=A[0]||En(Ji);const W=yn(w,p.config.apiKey,p.name);let ve=null;for(const Pe of m)try{const st=yield Pe._get(W);if(st){const Bt=Zt._fromJSON(p,st);Pe!==x&&(ve=Bt),x=Pe;break}}catch(st){}const He=A.filter(Pe=>Pe._shouldAllowMigration);return x._shouldAllowMigration&&He.length?(x=He[0],ve&&(yield x._set(W,ve.toJSON())),yield Promise.all(m.map(function(){var Pe=(0,h.Z)(function*(st){if(st!==x)try{yield st._remove(W)}catch(Bt){}});return function(st){return Pe.apply(this,arguments)}}())),new vr(x,p,w)):new vr(x,p,w)})()}}function bn(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ra(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Bn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ku(p))return"Blackberry";if(xr(p))return"Webos";if(Co(p))return"Safari";if((p.includes("chrome/")||wt(p))&&!p.includes("edge/"))return"Chrome";if(vs(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Bn(v=(0,j.z$)()){return/firefox\//i.test(v)}function Co(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function wt(v=(0,j.z$)()){return/crios\//i.test(v)}function Ra(v=(0,j.z$)()){return/iemobile/i.test(v)}function vs(v=(0,j.z$)()){return/android/i.test(v)}function ku(v=(0,j.z$)()){return/blackberry/i.test(v)}function xr(v=(0,j.z$)()){return/webos/i.test(v)}function Xn(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)}function Na(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function rn(v=(0,j.z$)()){return Xn(v)||vs(v)||xr(v)||ku(v)||/windows phone/i.test(v)||Ra(v)}function Qc(v,p=[]){let m;switch(v){case"Browser":m=bn((0,j.z$)());break;case"Worker":m=`${bn((0,j.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${w}`}class Jc{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fu(this),this.idTokenSubscription=new Fu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=En(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,x;w._deleted||(w.persistenceManager=yield vr.create(w,p),!w._deleted&&((null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var w;let A=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const x=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,W=null==A?void 0:A._redirectEventId,ve=yield m.tryRedirectSignIn(p);(!x||x===W)&&(null==ve?void 0:ve.user)&&(A=ve.user)}return A?A._redirectEventId?(Re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)):m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield jr(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const w=p?(0,j.m9)(p):null;return w&&Re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return p&&Re(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(En(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,h.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&En(p)||m._popupRedirectResolver;Re(w,m,"argument-error"),m.redirectPersistenceManager=yield vr.create(m,[En(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(W,this,"internal-error"),W.then(()=>x(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Qc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ur(v){return(0,j.m9)(v)}class Fu{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(m=>this.observer=m)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gs(v,p,m){const w=ur(v);Re(w._canInitEmulator,w,"emulator-config-failed"),Re(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),x=Io(p),{host:W,port:ve}=function(v){const p=Io(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const x=A[1];return{host:x,port:Nd(w.substr(x.length+1))}}{const[x,W]=w.split(":");return{host:x,port:Nd(W)}}}(p);w.config.emulator={url:`${x}//${W}${null===ve?"":`:${ve}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:ve,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Io(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Nd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class cn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return pn("not implemented")}_getIdTokenResponse(p){return pn("not implemented")}_linkToIdToken(p,m){return pn("not implemented")}_getReauthenticationResolver(p){return pn("not implemented")}}function Lu(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:resetPassword",un(v,p))})).apply(this,arguments)}function Pa(v,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hf(v,p){return Od.apply(this,arguments)}function Od(){return(Od=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:update",un(v,p))})).apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithPassword",un(v,p))})).apply(this,arguments)}function Xc(v,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:sendOobCode",un(v,p))})).apply(this,arguments)}function Ig(v,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,h.Z)(function*(v,p){return Xc(v,p)})).apply(this,arguments)}function Dg(v,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,h.Z)(function*(v,p){return Xc(v,p)})).apply(this,arguments)}function Wy(v,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,h.Z)(function*(v,p){return Xc(v,p)})).apply(this,arguments)}function ff(v,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,h.Z)(function*(v,p){return Xc(v,p)})).apply(this,arguments)}function Ld(){return(Ld=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithEmailLink",un(v,p))})).apply(this,arguments)}function ju(){return(ju=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithEmailLink",un(v,p))})).apply(this,arguments)}class Do extends cn{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Do(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Do(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function(v,p){return ws.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(v,p){return Ld.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Sn(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return Pa(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,p){return ju.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Sn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xi(v,p){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithIdp",un(v,p))})).apply(this,arguments)}class qs extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new qs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Sn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,x=ye(m,["providerId","signInMethod"]);if(!w||!A)return null;const W=new qs(w,A);return W.idToken=x.idToken||void 0,W.accessToken=x.accessToken||void 0,W.secret=x.secret,W.nonce=x.nonce,W.pendingToken=x.pendingToken||null,W}_getIdTokenResponse(p){return Xi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Xi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,j.xO)(m)}return p}}function pi(v,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:sendVerificationCode",un(v,p))})).apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,p))})).apply(this,arguments)}function tl(){return(tl=(0,h.Z)(function*(v,p){const m=yield H(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,p));if(m.temporaryProof)throw ie(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const gf={USER_NOT_FOUND:"user-not-found"};function nl(){return(nl=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),gf)})).apply(this,arguments)}class es extends cn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new es({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new es({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(v,p){return To.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(v,p){return tl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return nl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:x}=p;return w||m||A||x?new es({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:x}):null}}class Zs{constructor(p){var m,w,A,x,W,ve;const He=(0,j.zd)((0,j.pd)(p)),Pe=null!==(m=He.apiKey)&&void 0!==m?m:null,st=null!==(w=He.oobCode)&&void 0!==w?w:null,Bt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=He.mode)&&void 0!==A?A:null);Re(Pe&&st&&Bt,"argument-error"),this.apiKey=Pe,this.operation=Bt,this.code=st,this.continueUrl=null!==(x=He.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(W=He.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ve=He.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const m=function(v){const p=(0,j.zd)((0,j.pd)(v)).link,m=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||m||p||v}(p);try{return new Zs(m)}catch(w){return null}}}let zs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Do._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=Zs.parseLink(w);return Re(A,"argument-error"),Do._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Mr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ts extends Mr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class bs extends ts{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Re("providerId"in m&&"signInMethod"in m,"argument-error"),qs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Re(p.idToken||p.accessToken,"argument-error"),qs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return bs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return bs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:x,nonce:W,providerId:ve}=p;if(!w&&!A&&!m&&!x||!ve)return null;try{return new bs(ve)._credential({idToken:m,accessToken:w,nonce:W,pendingToken:x})}catch(He){return null}}}let Tn=(()=>{class v extends ts{constructor(){super("facebook.com")}static credential(m){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),il=(()=>{class v extends ts{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return v.credential(w,A)}catch(x){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),$u=(()=>{class v extends ts{constructor(){super("github.com")}static credential(m){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class yt extends cn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Xi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Xi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:x}=m;return w&&A&&x&&w===A?new yt(w,x):null}static _create(p,m){return new yt(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fa extends Mr{constructor(p){Re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Fa.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Fa.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=yt.fromJSON(p);return Re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return yt._create(w,m)}catch(A){return null}}}let Hu=(()=>{class v extends ts{constructor(){super("twitter.com")}static credential(m,w){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return v.credential(w,A)}catch(x){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Gr(v,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signUp",un(v,p))})).apply(this,arguments)}class jn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,h.Z)(function*(){const x=yield Zt._fromIdTokenResponse(p,w,A),W=Ws(w);return new jn({user:x,providerId:W,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=Ws(w);return new jn({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function Ws(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Rr(v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(v){var p;const m=ur(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new jn({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Gr(m,{returnSecureToken:!0}),A=yield jn._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ao extends j.ZR{constructor(p,m,w,A){var x;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Ao.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new Ao(p,m,w,A)}}function ol(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ao._fromErrorAndOperation(v,x,p,w):x})}function Cs(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Gu(v,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(v,p){const m=(0,j.m9)(v);yield ns(!0,m,p);const{providerUserInfo:w}=yield nn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=Cs(w||[]);return m.providerData=m.providerData.filter(x=>A.has(x.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ot(v,p){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,h.Z)(function*(v,p,m=!1){const w=yield Ct(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return jn._forOperation(v,"link",w)})).apply(this,arguments)}function ns(v,p,m){return So.apply(this,arguments)}function So(){return(So=(0,h.Z)(function*(v,p,m){yield jr(p);const A=!1===v?"provider-already-linked":"no-such-provider";Re(Cs(p.providerData).has(m)===v,p.auth,A)})).apply(this,arguments)}function ea(v,p){return La.apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(v,p,m=!1){const{auth:w}=v,A="reauthenticate";try{const x=yield Ct(v,ol(w,A,p,v),m);Re(x.idToken,w,"internal-error");const W=ct(x.idToken);Re(W,w,"internal-error");const{sub:ve}=W;return Re(v.uid===ve,w,"user-mismatch"),jn._forOperation(v,A,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Sn(w,"user-mismatch"),x}})).apply(this,arguments)}function Ks(v,p){return qu.apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(v,p,m=!1){const w="signIn",A=yield ol(v,w,p),x=yield jn._fromIdTokenResponse(v,w,A);return m||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Te(v,p){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(v,p){return Ks(ur(v),p)})).apply(this,arguments)}function al(v,p){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v,p){const m=(0,j.m9)(v);return yield ns(!1,m,p.providerId),ot(m,p)})).apply(this,arguments)}function ul(v,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(v,p){return ea((0,j.m9)(v),p)})).apply(this,arguments)}function rs(v,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithCustomToken",un(v,p))})).apply(this,arguments)}function ta(v,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,h.Z)(function*(v,p){const m=ur(v),w=yield rs(m,{token:p,returnSecureToken:!0}),A=yield jn._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Va{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Qs._fromServerResponse(p,m):Sn(p,"internal-error")}}class Qs extends Va{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Qs(m)}}function Ui(v,p,m){var w;Re((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Re(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Re(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function qr(v,p,m){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v),A={requestType:"PASSWORD_RESET",email:p};m&&Ui(w,A,m),yield Dg(w,A)})).apply(this,arguments)}function zu(v,p,m){return is.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(v,p,m){yield Lu((0,j.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Is(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(v,p){yield hf((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function cl(v,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,h.Z)(function*(v,p){const m=(0,j.m9)(v),w=yield Lu(m,{oobCode:p}),A=w.requestType;switch(Re(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(w.mfaInfo,m,"internal-error");default:Re(w.email,m,"internal-error")}let x=null;return w.mfaInfo&&(x=Va._fromServerResponse(ur(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:A}})).apply(this,arguments)}function Wu(v,p){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(v,p){const{data:m}=yield cl((0,j.m9)(v),p);return m.email})).apply(this,arguments)}function Ku(v,p,m){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,h.Z)(function*(v,p,m){const w=ur(v),A=yield Gr(w,{returnSecureToken:!0,email:p,password:m}),x=yield jn._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(x.user),x})).apply(this,arguments)}function jd(v,p,m){return Te((0,j.m9)(v),zs.credential(p,m))}function vf(v,p,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v),A={requestType:"EMAIL_SIGNIN",email:p};Re(m.handleCodeInApp,w,"argument-error"),m&&Ui(w,A,m),yield Wy(w,A)})).apply(this,arguments)}function Mo(v,p){const m=Zs.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function $d(v,p,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v),A=zs.credentialWithLink(p,m||Br());return Re(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Te(w,A)})).apply(this,arguments)}function ll(v,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:createAuthUri",un(v,p))})).apply(this,arguments)}function Gd(v,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,h.Z)(function*(v,p){const w={identifier:p,continueUri:rt()?Br():"http://localhost"},{signinMethods:A}=yield ll((0,j.m9)(v),w);return A||[]})).apply(this,arguments)}function Ky(v,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(v,p){const m=(0,j.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ui(m.auth,A,p);const{email:x}=yield Ig(m.auth,A);x!==v.email&&(yield v.reload())})).apply(this,arguments)}function Bi(v,p,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ui(w.auth,x,m);const{email:W}=yield ff(w.auth,x);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function dl(v,p){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(v,p){return qt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fl(v,p){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,h.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,j.m9)(v),x={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},W=yield Ct(w,dl(w.auth,x));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const ve=w.providerData.find(({providerId:He})=>"password"===He);ve&&(ve.displayName=w.displayName,ve.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)})).apply(this,arguments)}function lr(v,p){return ja((0,j.m9)(v),p,null)}function qd(v,p){return ja((0,j.m9)(v),null,p)}function ja(v,p,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(v,p,m){const{auth:w}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(x.email=p),m&&(x.password=m);const W=yield Ct(v,Pa(w,x));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Ds{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class gl extends Ds{constructor(p,m,w,A){super(p,m,w),this.username=A}}class ml extends Ds{constructor(p,m){super(p,"facebook.com",m)}}class Js extends gl{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class $a extends Ds{constructor(p,m){super(p,"google.com",m)}}class Sg extends gl{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Ef(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,m;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const W=null===(m=null===(p=ct(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new Ds(x,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new ml(x,A);case"github.com":return new Js(x,A);case"google.com":return new $a(x,A);case"twitter.com":return new Sg(x,A,v.screenName||null);case"custom":case"anonymous":return new Ds(x,null);default:return new Ds(x,w,A)}}(m)}class Xs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Xs("enroll",p)}static _fromMfaPendingCredential(p){return new Xs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Xs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Xs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Oo{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=ur(p),A=m.customData._serverResponse,x=(A.mfaInfo||[]).map(ve=>Va._fromServerResponse(w,ve));Re(A.mfaPendingCredential,w,"internal-error");const W=Xs._fromMfaPendingCredential(A.mfaPendingCredential);return new Oo(W,x,function(){var ve=(0,h.Z)(function*(He){const Pe=yield He._process(w,W);delete A.mfaInfo,delete A.mfaPendingCredential;const st=Object.assign(Object.assign({},A),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(m.operationType){case"signIn":const Bt=yield jn._fromIdTokenResponse(w,m.operationType,st);return yield w._updateCurrentUser(Bt.user),Bt;case"reauthenticate":return Re(m.user,w,"internal-error"),jn._forOperation(m.user,m.operationType,st);default:Sn(w,"internal-error")}});return function(He){return ve.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}function Zd(v,p){var m;const w=(0,j.m9)(v),A=p;return Re(p.customData.operationType,w,"argument-error"),Re(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Oo._fromError(w,A)}function ec(v,p){return qt(v,"POST","/v2/accounts/mfaEnrollment:start",un(v,p))}class Po{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Va._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Po(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Xs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,h.Z)(function*(){const A=p,x=yield w.getSession(),W=yield Ct(w.user,A._process(w.user.auth,x,m));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),x=yield Ct(m.user,function(v,p){return qt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",un(v,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==w),yield m.user._updateTokensIfNecessary(x);try{yield m.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const tc=new WeakMap;function qa(v){const p=(0,j.m9)(v);return tc.has(p)||tc.set(p,Po._fromUser(p)),tc.get(p)}const yl="__sak";class nc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(yl,"1"),this.storage.removeItem(yl),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const tt=(()=>{class v extends nc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,j.z$)();return Co(v)||Xn(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=rn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),x=this.localCache[w];A!==x&&m(w,x,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ve,He,Pe)=>{this.notifyListeners(ve,Pe)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(A);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const x=()=>{const ve=this.storage.getItem(A);!w&&this.localCache[A]===ve||this.notifyListeners(A,ve)},W=this.storage.getItem(A);(0,j.w1)()&&10===document.documentMode&&W!==m.newValue&&m.newValue!==m.oldValue?setTimeout(x,10):x()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const x of Array.from(A))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,x=this;return(0,h.Z)(function*(){yield A().call(x,m,w),x.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,h.Z)(function*(){const x=yield w().call(A,m);return A.localCache[m]=JSON.stringify(x),x})()}_remove(m){var w=()=>super._remove,A=this;return(0,h.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),ss=(()=>{class v extends nc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Za=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(x=>x.isListeningto(m));if(w)return w;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const A=m,{eventId:x,eventType:W,data:ve}=A.data,He=w.handlersMap[W];if(!(null==He?void 0:He.size))return;A.ports[0].postMessage({status:"ack",eventId:x,eventType:W});const Pe=Array.from(He).map(function(){var Bt=(0,h.Z)(function*(Xt){return Xt(A.origin,ve)});return function(Xt){return Bt.apply(this,arguments)}}()),st=yield function(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(Pe);A.ports[0].postMessage({status:"done",eventId:x,eventType:W,response:st})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function sa(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class za{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,h.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let W,ve;return new Promise((He,Pe)=>{const st=sa("",20);x.port1.start();const Bt=setTimeout(()=>{Pe(new Error("unsupported_event"))},w);ve={messageChannel:x,onMessage(Xt){const Gn=Xt;if(Gn.data.eventId===st)switch(Gn.data.status){case"ack":clearTimeout(Bt),W=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),He(Gn.data.response);break;default:clearTimeout(Bt),clearTimeout(W),Pe(new Error("invalid_response"))}}},A.handlers.add(ve),x.port1.addEventListener("message",ve.onMessage),A.target.postMessage({eventType:p,eventId:st,data:m},[x.port2])}).finally(()=>{ve&&A.removeMessageHandler(ve)})})()}}function zt(){return window}function Wa(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function dt(){return(dt=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const vl="firebaseLocalStorageDb",Ss="firebaseLocalStorage",Ka="fbase_key";class zr{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function oa(v,p){return v.transaction([Ss],p?"readwrite":"readonly").objectStore(Ss)}function xs(){const v=indexedDB.open(vl,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Ss,{keyPath:Ka})}catch(A){m(A)}}),v.addEventListener("success",(0,h.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Ss)?p(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(vl);return new zr(v).toPromise()}(),p(yield xs()))}))})}function ua(v,p,m){return he.apply(this,arguments)}function he(){return(he=(0,h.Z)(function*(v,p,m){const w=oa(v,!0).put({[Ka]:p,value:m});return new zr(w).toPromise()})).apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(v,p){const m=oa(v,!1).get(p),w=yield new zr(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function to(v,p){const m=oa(v,!0).delete(p);return new zr(m).toPromise()}const qe=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield xs()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const x=yield w._openDb();return yield m(x)}catch(x){if(A++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Wa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Za._getInstance(Wa()?self:null),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(A,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(A,x){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(A,x){return["keyChanged"]});return function(A,x){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function(){return dt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new za(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);!x||(null===(w=x[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=x[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield xs();return yield ua(m,yl,"1"),yield to(m,yl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(x=>ua(x,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const A=yield w._withRetries(x=>function(v,p){return $i.apply(this,arguments)}(x,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>to(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(W=>{const ve=oa(W,!1).getAll();return new zr(ve).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],x=new Set;for(const{fbase_key:W,value:ve}of w)x.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(ve)&&(m.notifyListeners(W,ve),A.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!x.has(W)&&(m.notifyListeners(W,null),A.push(W));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const x of Array.from(A))x(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function vn(v,p){return qt(v,"POST","/v2/accounts/mfaSignIn:start",un(v,p))}function sc(){return(sc=(0,h.Z)(function*(v){return(yield qt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wd(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=A=>{const x=Qt("internal-error");x.customData=A,m(x)},w.type="text/javascript",w.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Qa(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ac=1e12;class er{constructor(p){this.auth=p,this.counter=ac,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ja(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ac;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ac))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(p||ac))||void 0===w||w.execute(),""})()}}class Ja{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;Re(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const no=Qa("rcb"),tr=new en(3e4,6e4);class Xa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zt().grecaptcha}load(p,m=""){return Re((v=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(zt().grecaptcha):new Promise((w,A)=>{const x=zt().setTimeout(()=>{A(Qt(p,"network-request-failed"))},tr.get());zt()[no]=()=>{zt().clearTimeout(x),delete zt()[no];const ve=zt().grecaptcha;if(!ve)return void A(Qt(p,"internal-error"));const He=ve.render;ve.render=(Pe,st)=>{const Bt=He(Pe,st);return this.counter++,Bt},this.hostLanguage=m,w(ve)},Wd(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:no,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),A(Qt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yd{load(p){return(0,h.Z)(function*(){return new er(p)})()}clearedOneInstance(){}}const Wr="recaptcha",_i={theme:"light",type:"image"};class si{constructor(p,m=Object.assign({},_i),w){this.parameters=m,this.type=Wr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(w),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;Re(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yd:new Xa,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(x=>{const W=ve=>{!ve||(p.tokenChangeListeners.delete(W),x(ve))};p.tokenChangeListeners.add(W),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=zt()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){Re(rt()&&!Wa(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(v){return sc.apply(this,arguments)}(p.auth);Re(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wt{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=es._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function El(v,p,m){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(v,p,m){const w=ur(v),A=yield b(w,p,(0,j.m9)(m));return new Wt(A,x=>Te(w,x))})).apply(this,arguments)}function wl(v,p,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v);yield ns(!1,w,"phone");const A=yield b(w.auth,p,(0,j.m9)(m));return new Wt(A,x=>al(w,x))})).apply(this,arguments)}function Qd(v,p,m){return cc.apply(this,arguments)}function cc(){return(cc=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v),A=yield b(w.auth,p,(0,j.m9)(m));return new Wt(A,x=>ul(w,x))})).apply(this,arguments)}function b(v,p,m){return D.apply(this,arguments)}function D(){return(D=(0,h.Z)(function*(v,p,m){var w;const A=yield m.verify();try{let x;if(Re("string"==typeof A,v,"argument-error"),Re(m.type===Wr,v,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const W=x.session;if("phoneNumber"in x)return Re("enroll"===W.type,v,"internal-error"),(yield ec(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Re("signin"===W.type,v,"internal-error");const ve=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return Re(ve,v,"missing-multi-factor-info"),(yield vn(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield pi(v,{phoneNumber:x.phoneNumber,recaptchaToken:A});return W}}finally{m._reset()}})).apply(this,arguments)}function M(v,p){return U.apply(this,arguments)}function U(){return(U=(0,h.Z)(function*(v,p){yield ot((0,j.m9)(v),p)})).apply(this,arguments)}let J=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=ur(m)}verifyPhoneNumber(m,w){return b(this.auth,m,(0,j.m9)(w))}static credential(m,w){return es._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?es._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ue(v,p){return p?En(p):(Re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class xe extends cn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Xi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Xi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ze(v){return Ks(v.auth,new xe(v),v.bypassAuthState)}function Ze(v){const{auth:p,user:m}=v;return Re(m,p,"internal-error"),ea(m,new xe(v),v.bypassAuthState)}function Ut(v){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(v){const{auth:p,user:m}=v;return Re(m,p,"internal-error"),ot(m,new xe(v),v.bypassAuthState)})).apply(this,arguments)}class Hn{constructor(p,m,w,A,x=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:x,tenantId:W,error:ve,type:He}=p;if(ve)return void m.reject(ve);const Pe={auth:m.auth,requestUri:w,sessionId:A,tenantId:W||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(Pe))}catch(st){m.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ze;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return Ze;default:Sn(this.auth,"internal-error")}}resolve(p){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dr=new en(2e3,1e4);function nr(v,p,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(v,p,m){const w=ur(v);Li(v,p,Mr);const A=ue(w,m);return new lc(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function eu(v,p,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v);Li(w.auth,p,Mr);const A=ue(w.auth,m);return new lc(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Ms(v,p,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v);Li(w.auth,p,Mr);const A=ue(w.auth,m);return new lc(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class v extends Hn{constructor(m,w,A,x,W){super(m,w,x,W),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return Re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){Vn(1===m.filter.length,"Popup operations only handle one event");const w=sa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Qt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,dr.get())};m()}}return v.currentPopupAction=null,v})();const Cr=new Map;class tu extends Hn{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=Cr.get(m.auth._key());if(!w){try{const x=(yield function(v,p){return os.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(x)}catch(A){w=()=>Promise.reject(A)}Cr.set(m.auth._key(),w)}return m.bypassAuthState||Cr.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function os(){return(os=(0,h.Z)(function*(v,p){const m=io(p),w=Jd(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function Tf(v,p){return On.apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(v,p){return Jd(v)._set(io(p),"true")})).apply(this,arguments)}function Il(){Cr.clear()}function Jd(v){return En(v._redirectPersistence)}function io(v){return yn("pendingRedirect",v.config.apiKey,v.name)}function nu(v,p,m){return function(v,p,m){return dc.apply(this,arguments)}(v,p,m)}function dc(){return(dc=(0,h.Z)(function*(v,p,m){const w=ur(v);Li(v,p,Mr);const A=ue(w,m);return yield Tf(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Sf(v,p,m){return function(v,p,m){return la.apply(this,arguments)}(v,p,m)}function la(){return(la=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v);Li(w.auth,p,Mr);const A=ue(w.auth,m);yield Tf(A,w.auth);const x=yield Tl(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function so(v,p,m){return function(v,p,m){return as.apply(this,arguments)}(v,p,m)}function as(){return(as=(0,h.Z)(function*(v,p,m){const w=(0,j.m9)(v);Li(w.auth,p,Mr);const A=ue(w.auth,m);yield ns(!1,w,p.providerId),yield Tf(A,w.auth);const x=yield Tl(w);return A._openRedirect(w.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function Rg(v,p){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,h.Z)(function*(v,p){return yield ur(v)._initializationPromise,ru(v,p,!1)})).apply(this,arguments)}function ru(v,p){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(v,p,m=!1){const w=ur(v),A=ue(w,p),W=yield new tu(w,A,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,p)),W})).apply(this,arguments)}function Tl(v){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(v){const p=sa(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class oo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ng(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Ng(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Qt(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ha(p))}saveEventToCache(p){this.cachedEventUids.add(ha(p)),this.lastProcessedEventTime=Date.now()}}function ha(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ng({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function eh(v){return xf.apply(this,arguments)}function xf(){return(xf=(0,h.Z)(function*(v,p={}){return qt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const $E=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Nf(){return(Nf=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield eh(v);for(const m of p)try{if(hc(m))return}catch(w){}Sn(v,"unauthorized-domain")})).apply(this,arguments)}function hc(v){const p=Br(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===w}if(!Mf.test(m))return!1;if($E.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const th=new en(3e4,6e4);function iu(){const v=zt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let fc=null;function Og(v){return fc=fc||function(v){return new Promise((p,m)=>{var w,A,x;function W(){iu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{iu(),m(Qt(v,"network-request-failed"))},timeout:th.get()})}if(null===(A=null===(w=zt().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(x=zt().gapi)||void 0===x?void 0:x.load)){const ve=Qa("iframefcb");return zt()[ve]=()=>{gapi.load?W():m(Qt(v,"network-request-failed"))},Wd(`https://apis.google.com/js/api.js?onload=${ve}`)}W()}}).catch(p=>{throw fc=null,p})}(v),fc}const Al=new en(5e3,15e3),Pf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fa(v){const p=v.config;Re(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Vt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},A=kf.get(v.config.apiHost);A&&(w.eid=A);const x=v._getFrameworks();return x.length&&(w.fw=x.join(",")),`${m}?${(0,j.xO)(w).slice(1)}`}function Ff(){return(Ff=(0,h.Z)(function*(v){const p=yield Og(v),m=zt().gapi;return Re(m,v,"internal-error"),p.open({where:document.body,url:fa(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pf,dontclear:!0},w=>new Promise(function(){var A=(0,h.Z)(function*(x,W){yield w.restyle({setHideOnLeave:!1});const ve=Qt(v,"network-request-failed"),He=zt().setTimeout(()=>{W(ve)},Al.get());function Pe(){zt().clearTimeout(He),x(w)}w.ping(Pe).then(Pe,()=>{W(ve)})});return function(x,W){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const Jy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ih{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Pr(v,p,m,w,A,x){Re(v.config.authDomain,v,"auth-domain-config-required"),Re(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:O.SDK_VERSION,eventId:A};if(p instanceof Mr){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,Pe]of Object.entries(x||{}))W[He]=Pe}if(p instanceof ts){const He=p.getScopes().filter(Pe=>""!==Pe);He.length>0&&(W.scopes=He.join(","))}v.tenantId&&(W.tid=v.tenantId);const ve=W;for(const He of Object.keys(ve))void 0===ve[He]&&delete ve[He];return`${function({config:v}){return v.emulator?Vt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(ve).slice(1)}`}const su="webStorageSupport",Vf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ss,this._completeRedirectFn=ru}_openPopup(p,m,w,A){var x=this;return(0,h.Z)(function*(){var W;Vn(null===(W=x.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ve=Pr(p,m,w,Br(),A);return function(v,p,m,w=500,A=600){const x=Math.max((window.screen.availHeight-A)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let ve="";const He=Object.assign(Object.assign({},Jy),{width:w.toString(),height:A.toString(),top:x,left:W}),Pe=(0,j.z$)().toLowerCase();m&&(ve=wt(Pe)?"_blank":m),Bn(Pe)&&(p=p||"http://localhost",He.scrollbars="yes");const st=Object.entries(He).reduce((Xt,[Gn,Ns])=>`${Xt}${Gn}=${Ns},`,"");if(function(v=(0,j.z$)()){var p;return Xn(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Pe)&&"_self"!==ve)return function(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ve),new ih(null);const Bt=window.open(p||"",ve,st);Re(Bt,v,"popup-blocked");try{Bt.focus()}catch(Xt){}return new ih(Bt)}(p,ve,sa())})()}_openRedirect(p,m,w,A){var x=this;return(0,h.Z)(function*(){return yield x._originValidation(p),v=Pr(p,m,w,Br(),A),zt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:x}=this.eventManagers[m];return A?Promise.resolve(A):(Vn(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const w=yield function(v){return Ff.apply(this,arguments)}(p),A=new oo(p);return w.register("authEvent",x=>(Re(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:A.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(su,{type:su},A=>{var x;const W=null===(x=null==A?void 0:A[0])||void 0===x?void 0:x[su];void 0!==W&&m(!!W),Sn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return Nf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return rn()||Co()||Xn()}};class Bf extends class{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return pn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Bf(p)}_finalizeEnroll(p,m,w){return function(v,p){return qt(v,"POST","/v2/accounts/mfaEnrollment:finalize",un(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(v,p){return qt(v,"POST","/v2/accounts/mfaSignIn:finalize",un(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fg=(()=>{class v{constructor(){}static assertion(m){return Bf._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var v,ao="@firebase/auth";class cs{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mc(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const m=(0,O._getProvider)(v,"auth");if(m.isInitialized()){const A=m.getImmediate(),x=m.getOptions();if((0,j.vZ)(x,null!=p?p:{}))return A;Sn(A,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:Vf,persistence:[qe,tt,ss]})}v="Browser",(0,O._registerComponent)(new Rt.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:x}=w.options;return(W=>{Re(A&&!A.includes(":"),"invalid-api-key",{appName:W.name}),Re(!(null==x?void 0:x.includes(":")),"argument-error",{appName:W.name});const ve={apiKey:A,authDomain:x,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qc(v)},He=new Jc(W,ve);return function(v,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(En);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(He,m),He})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Rt.wA("auth-internal",p=>{const m=ur(p.getProvider("auth").getImmediate());return new cs(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(ao,"0.19.3",void 0),(0,O.registerVersion)(ao,"0.19.3","esm2017")},3854:(Xe,Ie,F)=>{"use strict";F.d(Ie,{BH:()=>Y,LL:()=>Je,ZR:()=>Rt,zI:()=>bt,US:()=>se,tV:()=>re,$s:()=>qt,r3:()=>hn,Sg:()=>de,ne:()=>Vn,vZ:()=>Qt,ZB:()=>V,pd:()=>Re,m9:()=>ys,z$:()=>be,jU:()=>_e,ru:()=>me,d:()=>Ne,xb:()=>Cn,w1:()=>We,hl:()=>mn,uI:()=>ge,UG:()=>K,b$:()=>pe,G6:()=>ht,Mn:()=>Fe,xO:()=>Li,zd:()=>Ur,eu:()=>Et});const ae=function(H){const Z=[];let $=0;for(let we=0;we<H.length;we++){let ie=H.charCodeAt(we);ie<128?Z[$++]=ie:ie<2048?(Z[$++]=ie>>6|192,Z[$++]=63&ie|128):55296==(64512&ie)&&we+1<H.length&&56320==(64512&H.charCodeAt(we+1))?(ie=65536+((1023&ie)<<10)+(1023&H.charCodeAt(++we)),Z[$++]=ie>>18|240,Z[$++]=ie>>12&63|128,Z[$++]=ie>>6&63|128,Z[$++]=63&ie|128):(Z[$++]=ie>>12|224,Z[$++]=ie>>6&63|128,Z[$++]=63&ie|128)}return Z},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,Z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ie=0;ie<H.length;ie+=3){const $e=H[ie],Ve=ie+1<H.length,nn=Ve?H[ie+1]:0,In=ie+2<H.length,Dn=In?H[ie+2]:0;let G=(15&nn)<<2|Dn>>6,q=63&Dn;In||(q=64,Ve||(G=64)),we.push($[$e>>2],$[(3&$e)<<4|nn>>4],$[G],$[q])}return we.join("")},encodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(H):this.encodeByteArray(ae(H),Z)},decodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(H):function(H){const Z=[];let $=0,we=0;for(;$<H.length;){const ie=H[$++];if(ie<128)Z[we++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const $e=H[$++];Z[we++]=String.fromCharCode((31&ie)<<6|63&$e)}else if(ie>239&&ie<365){const In=((7&ie)<<18|(63&H[$++])<<12|(63&H[$++])<<6|63&H[$++])-65536;Z[we++]=String.fromCharCode(55296+(In>>10)),Z[we++]=String.fromCharCode(56320+(1023&In))}else{const $e=H[$++],Ve=H[$++];Z[we++]=String.fromCharCode((15&ie)<<12|(63&$e)<<6|63&Ve)}}return Z.join("")}(this.decodeStringToByteArray(H,Z))},decodeStringToByteArray(H,Z){this.init_();const $=Z?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ie=0;ie<H.length;){const $e=$[H.charAt(ie++)],nn=ie<H.length?$[H.charAt(ie)]:0;++ie;const Dn=ie<H.length?$[H.charAt(ie)]:64;++ie;const ee=ie<H.length?$[H.charAt(ie)]:64;if(++ie,null==$e||null==nn||null==Dn||null==ee)throw Error();we.push($e<<2|nn>>4),64!==Dn&&(we.push(nn<<4&240|Dn>>2),64!==ee&&we.push(Dn<<6&192|ee))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ce=function(H){return function(H){const Z=ae(H);return se.encodeByteArray(Z,!0)}(H).replace(/\./g,"")},re=function(H){try{return se.decodeString(H,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function V(H,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return Z}for(const $ in Z)!Z.hasOwnProperty($)||!X($)||(H[$]=V(H[$],Z[$]));return H}function X(H){return"__proto__"!==H}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,$)=>{this.resolve=Z,this.reject=$})}wrapCallback(Z){return($,we)=>{$?this.reject($):this.resolve(we),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z($):Z($,we))}}}function de(H,Z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=Z||"demo-project",ie=H.iat||0,$e=H.sub||H.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ie,exp:ie+3600,auth_time:ie,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ve)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function _e(){return"object"==typeof self&&self.self===self}function me(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return be().indexOf("Electron/")>=0}function We(){const H=be();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Fe(){return be().indexOf("MSAppHost/")>=0}function ht(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mn(){return"object"==typeof indexedDB}function Et(){return new Promise((H,Z)=>{try{let $=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(we);ie.onsuccess=()=>{ie.result.close(),$||self.indexedDB.deleteDatabase(we),H(!0)},ie.onupgradeneeded=()=>{$=!1},ie.onerror=()=>{var $e;Z((null===($e=ie.error)||void 0===$e?void 0:$e.message)||"")}}catch($){Z($)}})}function bt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Rt extends Error{constructor(Z,$,we){super($),this.code=Z,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(Z,$,we){this.service=Z,this.serviceName=$,this.errors=we}create(Z,...$){const we=$[0]||{},ie=`${this.service}/${Z}`,$e=this.errors[Z],Ve=$e?function(H,Z){return H.replace(Ma,($,we)=>{const ie=Z[we];return null!=ie?String(ie):`<${we}?>`})}($e,we):"Error";return new Rt(ie,`${this.serviceName}: ${Ve} (${ie}).`,we)}}const Ma=/\{\$([^}]+)}/g;function hn(H,Z){return Object.prototype.hasOwnProperty.call(H,Z)}function Cn(H){for(const Z in H)if(Object.prototype.hasOwnProperty.call(H,Z))return!1;return!0}function Qt(H,Z){if(H===Z)return!0;const $=Object.keys(H),we=Object.keys(Z);for(const ie of $){if(!we.includes(ie))return!1;const $e=H[ie],Ve=Z[ie];if(fn($e)&&fn(Ve)){if(!Qt($e,Ve))return!1}else if($e!==Ve)return!1}for(const ie of we)if(!$.includes(ie))return!1;return!0}function fn(H){return null!==H&&"object"==typeof H}function Li(H){const Z=[];for(const[$,we]of Object.entries(H))Array.isArray(we)?we.forEach(ie=>{Z.push(encodeURIComponent($)+"="+encodeURIComponent(ie))}):Z.push(encodeURIComponent($)+"="+encodeURIComponent(we));return Z.length?"&"+Z.join("&"):""}function Ur(H){const Z={};return H.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ie,$e]=we.split("=");Z[decodeURIComponent(ie)]=decodeURIComponent($e)}}),Z}function Re(H){const Z=H.indexOf("?");if(!Z)return"";const $=H.indexOf("#",Z);return H.substring(Z,$>0?$:void 0)}function Vn(H,Z){const $=new fi(H,Z);return $.subscribe.bind($)}class fi{constructor(Z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{Z(this)}).catch(we=>{this.error(we)})}next(Z){this.forEachObserver($=>{$.next(Z)})}error(Z){this.forEachObserver($=>{$.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,$,we){let ie;if(void 0===Z&&void 0===$&&void 0===we)throw new Error("Missing Observer.");ie=function(H,Z){if("object"!=typeof H||null===H)return!1;for(const $ of["next","error","complete"])if($ in H&&"function"==typeof H[$])return!0;return!1}(Z)?Z:{next:Z,error:$,complete:we},void 0===ie.next&&(ie.next=Un),void 0===ie.error&&(ie.error=Un),void 0===ie.complete&&(ie.complete=Un);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Ve){}}),this.observers.push(ie),$e}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,Z)}sendOne(Z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{$(this.observers[Z])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function qt(H,Z=1e3,$=2){const we=Z*Math.pow($,H),ie=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+ie)}function ys(H){return H&&H._delegate?H._delegate:H}},2329:(Xe,Ie,F)=>{"use strict";F.d(Ie,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=F(8026);(0,h.registerVersion)("firebase","9.4.1","app")},7841:(Xe,Ie,F)=>{"use strict";F.d(Ie,{Z:()=>h.Z});var h=F(3394);h.Z.registerVersion("firebase","9.4.1","app-compat")},4828:(Xe,Ie,F)=>{"use strict";F.r(Ie);var h=F(8239),j=F(3394),O=F(2476),ae=F(3854),ye=(F(8026),F(5422),F(3910));function ce(){return window}function V(){return(V=(0,h.Z)(function*(ee,G,q){var Ce;const{BuildInfo:Le}=ce();(0,O.ap)(G.sessionId,"AuthEvent did not contain a session ID");const ct=yield _e(G.sessionId),xt={};return(0,O.aq)()?xt.ibi=Le.packageName:(0,O.ar)()?xt.apn=Le.packageName:(0,O.as)(ee,"operation-not-supported-in-this-environment"),Le.displayName&&(xt.appDisplayName=Le.displayName),xt.sessionId=ct,(0,O.at)(ee,q,G.type,void 0,null!==(Ce=G.eventId)&&void 0!==Ce?Ce:void 0,xt)})).apply(this,arguments)}function Y(){return(Y=(0,h.Z)(function*(ee){const{BuildInfo:G}=ce(),q={};(0,O.aq)()?q.iosBundleId=G.packageName:(0,O.ar)()?q.androidPackageName=G.packageName:(0,O.as)(ee,"operation-not-supported-in-this-environment"),yield(0,O.au)(ee,q)})).apply(this,arguments)}function ge(){return(ge=(0,h.Z)(function*(ee,G,q){const{cordova:Ce}=ce();let Le=()=>{};try{yield new Promise((ct,xt)=>{let Ct=null;function wn(){var Tt;ct();const jr=null===(Tt=Ce.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof jr&&jr(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function mr(){Ct||(Ct=window.setTimeout(()=>{xt((0,O.av)(ee,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===(null==document?void 0:document.visibilityState)&&mr()}G.addPassiveListener(wn),document.addEventListener("resume",mr,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",Jn,!1),Le=()=>{G.removePassiveListener(wn),document.removeEventListener("resume",mr,!1),document.removeEventListener("visibilitychange",Jn,!1),Ct&&window.clearTimeout(Ct)}})}finally{Le()}})).apply(this,arguments)}function _e(ee){return me.apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(ee){const G=pe(ee),q=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(q)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pe(ee){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ee);const G=new ArrayBuffer(ee.length),q=new Uint8Array(G);for(let Ce=0;Ce<ee.length;Ce++)q[Ce]=ee.charCodeAt(Ce);return q}class We extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(G)),super.onEvent(G)}initialized(){var G=this;return(0,h.Z)(function*(){yield G.initPromise})()}}function ht(ee){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(ee){const G=yield ut()._get(it(ee));return G&&(yield ut()._remove(it(ee))),G})).apply(this,arguments)}function bt(){const ee=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Ce=Math.floor(Math.random()*G.length);ee.push(G.charAt(Ce))}return ee.join("")}function ut(){return(0,O.ax)(O.b)}function it(ee){return(0,O.ay)("authEvent",ee.config.apiKey,ee.name)}function Yn(ee){if(!(null==ee?void 0:ee.includes("?")))return{};const[G,...q]=ee.split("?");return(0,ae.zd)(q.join("?"))}function ar(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function hn(){var ee;return(null===(ee=null==self?void 0:self.location)||void 0===ee?void 0:ee.protocol)||null}function Cn(ee=(0,ae.z$)()){return!("file:"!==hn()&&"ionic:"!==hn()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ur(){try{const ee=self.localStorage,G=O.aG();if(ee)return ee.setItem(G,"1"),ee.removeItem(G),!function(ee=(0,ae.z$)()){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)||function(ee=(0,ae.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,ae.hl)()}catch(ee){return Re()&&(0,ae.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function pn(){return("http:"===hn()||"https:"===hn()||(0,ae.ru)()||Cn())&&!((0,ae.b$)()||(0,ae.UG)())&&Ur()&&!Re()}function Vn(){return Cn()&&"undefined"!=typeof document}function En(){return(En=(0,h.Z)(function*(){return!!Vn()&&new Promise(ee=>{const G=setTimeout(()=>{ee(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ee(!0)})})})).apply(this,arguments)}const Nt={LOCAL:"local",NONE:"none",SESSION:"session"},Un=O.aw,Br="persistence";function Se(ee){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(ee){yield ee._initializationPromise;const G=en(),q=O.ay(Br,ee.config.apiKey,ee.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(q,ee._getPersistence())})).apply(this,arguments)}function en(){return"undefined"!=typeof window?window:null}const Vt=O.aw;class Ge{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(G){var q=this;return(0,h.Z)(function*(){const Ce=G._key();let Le=q.eventManagers.get(Ce);return Le||(Le=new We(G),q.eventManagers.set(Ce,Le),q.attachCallbackListeners(G,Le)),Le})()}_openPopup(G){(0,O.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,q,Ce,Le){var ct=this;return(0,h.Z)(function*(){!function(ee){var G,q,Ce,Le,ct,xt,Ct,wn,mr,Jn;const Tt=ce();(0,O.aw)("function"==typeof(null===(G=null==Tt?void 0:Tt.universalLinks)||void 0===G?void 0:G.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(q=null==Tt?void 0:Tt.BuildInfo)||void 0===q?void 0:q.packageName),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(ct=null===(Le=null===(Ce=null==Tt?void 0:Tt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ct?void 0:ct.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(wn=null===(Ct=null===(xt=null==Tt?void 0:Tt.cordova)||void 0===xt?void 0:xt.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===wn?void 0:wn.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Jn=null===(mr=null==Tt?void 0:Tt.cordova)||void 0===mr?void 0:mr.InAppBrowser)||void 0===Jn?void 0:Jn.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const xt=yield ct._initialize(G);yield xt.initialized(),xt.resetRedirect(),(0,O.aB)(),yield ct._originValidation(G);const Ct=function(ee,G,q=null){return{type:G,eventId:q,urlResponse:null,sessionId:bt(),postBody:null,tenantId:ee.tenantId,error:(0,O.av)(ee,"no-auth-event")}}(G,Ce,Le);yield function(ee,G){return ut()._set(it(ee),G)}(G,Ct);const wn=yield function(ee,G,q){return V.apply(this,arguments)}(G,Ct,q),mr=yield function(ee){const{cordova:G}=ce();return new Promise(q=>{G.plugins.browsertab.isAvailable(Ce=>{let Le=null;Ce?G.plugins.browsertab.openUrl(ee):Le=G.InAppBrowser.open(ee,(0,O.ao)()?"_blank":"_system","location=yes"),q(Le)})})}(wn);return function(ee,G,q){return ge.apply(this,arguments)}(G,xt,mr)})()}_isIframeWebStorageSupported(G,q){throw new Error("Method not implemented.")}_originValidation(G){const q=G._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function(ee){return Y.apply(this,arguments)}(G)),this.originValidationPromises[q]}attachCallbackListeners(G,q){const{universalLinks:Ce,handleOpenURL:Le,BuildInfo:ct}=ce(),xt=setTimeout((0,h.Z)(function*(){yield ht(G),q.onEvent(ar())}),500),Ct=function(){var Jn=(0,h.Z)(function*(Tt){clearTimeout(xt);const jr=yield ht(G);let _s=null;jr&&(null==Tt?void 0:Tt.url)&&(_s=function(ee,G){var q,Ce;const Le=function(ee){const G=Yn(ee),q=G.link?decodeURIComponent(G.link):void 0,Ce=Yn(q).link,Le=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Yn(Le).link||Le||Ce||q||ee}(G);if(Le.includes("/__/auth/callback")){const ct=Yn(Le),xt=ct.firebaseError?function(ee){try{return JSON.parse(ee)}catch(G){return null}}(decodeURIComponent(ct.firebaseError)):null,Ct=null===(Ce=null===(q=null==xt?void 0:xt.code)||void 0===q?void 0:q.split("auth/"))||void 0===Ce?void 0:Ce[1],wn=Ct?(0,O.av)(Ct):null;return wn?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:Le,postBody:null}}return null}(jr,Tt.url)),q.onEvent(_s||ar())});return function(jr){return Jn.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Ct);const wn=Le,mr=`${ct.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var Jn=(0,h.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(mr)&&Ct({url:Tt}),"function"==typeof wn)try{wn(Tt)}catch(jr){console.error(jr)}});return function(Tt){return Jn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(G){var q=this;return(0,h.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,q,Ce,Le){var ct=this;return(0,h.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(G,q,Ce,Le)})()}_openRedirect(G,q,Ce,Le){var ct=this;return(0,h.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(G,q,Ce,Le)})()}_isIframeWebStorageSupported(G,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,q)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Vn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,h.Z)(function*(){if(G.underlyingResolver)return;const q=yield function(){return En.apply(this,arguments)}();G.underlyingResolver=q?G.cordovaResolver:G.browserResolver})()}}function Ke(ee){return ee.unwrap()}function un(ee){return tn(ee)}function tn(ee){const{_tokenResponse:G}=ee instanceof ae.ZR?ee.customData:ee;if(!G)return null;if(!(ee instanceof ae.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return O.P.credentialFromResult(ee);const q=G.providerId;if(!q||q===O.o.PASSWORD)return null;let Ce;switch(q){case O.o.GOOGLE:Ce=O.N;break;case O.o.FACEBOOK:Ce=O.M;break;case O.o.GITHUB:Ce=O.Q;break;case O.o.TWITTER:Ce=O.V;break;default:const{oauthIdToken:Le,oauthAccessToken:ct,oauthTokenSecret:xt,pendingToken:Ct,nonce:wn}=G;return ct||xt||Le||Ct?Ct?q.startsWith("saml.")?O.aJ._create(q,Ct):O.I._fromParams({providerId:q,signInMethod:q,pendingToken:Ct,idToken:Le,accessToken:ct}):new O.T(q).credential({idToken:Le,accessToken:ct,rawNonce:wn}):null}return ee instanceof ae.ZR?Ce.credentialFromError(ee):Ce.credentialFromResult(ee)}function Jt(ee,G){return G.catch(q=>{throw q instanceof ae.ZR&&function(ee,G){var q;const Ce=null===(q=G.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new Z(ee,O.am(ee,G));else if(Ce){const Le=tn(G),ct=G;Le&&(ct.credential=Le,ct.tenantId=Ce.tenantId||void 0,ct.email=Ce.email||void 0,ct.phoneNumber=Ce.phoneNumber||void 0)}}(ee,q),q}).then(q=>{const Le=q.user;return{operationType:q.operationType,credential:un(q),additionalUserInfo:O.ak(q),user:$.getOrCreate(Le)}})}function ys(ee,G){return H.apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(ee,G){const q=yield G;return{verificationId:q.verificationId,confirm:Ce=>Jt(ee,q.confirm(Ce))}})).apply(this,arguments)}class Z{constructor(G,q){this.resolver=q,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return Jt(Ke(this.auth),this.resolver.resolveSignIn(G))}}class ${constructor(G){this._delegate=G,this.multiFactor=O.an(G)}static getOrCreate(G){return $.USER_MAP.has(G)||$.USER_MAP.set(G,new $(G)),$.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var q=this;return(0,h.Z)(function*(){return Jt(q.auth,O.Y(q._delegate,G))})()}linkWithPhoneNumber(G,q){var Ce=this;return(0,h.Z)(function*(){return ys(Ce.auth,O.l(Ce._delegate,G,q))})()}linkWithPopup(G){var q=this;return(0,h.Z)(function*(){return Jt(q.auth,O.d(q._delegate,G,Ge))})()}linkWithRedirect(G){var q=this;return(0,h.Z)(function*(){return yield Se(O.aC(q.auth)),O.g(q._delegate,G,Ge)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var q=this;return(0,h.Z)(function*(){return Jt(q.auth,O.Z(q._delegate,G))})()}reauthenticateWithPhoneNumber(G,q){return ys(this.auth,O.r(this._delegate,G,q))}reauthenticateWithPopup(G){return Jt(this.auth,O.e(this._delegate,G,Ge))}reauthenticateWithRedirect(G){var q=this;return(0,h.Z)(function*(){return yield Se(O.aC(q.auth)),O.h(q._delegate,G,Ge)})()}sendEmailVerification(G){return O.aa(this._delegate,G)}unlink(G){var q=this;return(0,h.Z)(function*(){return yield O.aj(q._delegate,G),q})()}updateEmail(G){return O.af(this._delegate,G)}updatePassword(G){return O.ag(this._delegate,G)}updatePhoneNumber(G){return O.u(this._delegate,G)}updateProfile(G){return O.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,q){return O.ab(this._delegate,G,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const we=O.aw;let ie=(()=>{class ee{constructor(q,Ce){if(this.app=q,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=q.options;we(Le,"invalid-api-key",{appName:q.name});let ct=[O.K];if("undefined"!=typeof window){ct=function(ee,G){const q=en();if(!(null==q?void 0:q.sessionStorage))return[];const Ce=O.ay(Br,ee,G);switch(q.sessionStorage.getItem(Ce)){case Nt.NONE:return[O.K];case Nt.LOCAL:return[O.i,O.a];case Nt.SESSION:return[O.a];default:return[]}}(Le,q.name);for(const Ct of[O.i,O.b,O.a])ct.includes(Ct)||ct.push(Ct)}we(Le,"invalid-api-key",{appName:q.name});const xt="undefined"!=typeof window?Ge:void 0;this._delegate=Ce.initialize({options:{persistence:ct,popupRedirectResolver:xt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Ce){O.E(this._delegate,q,Ce)}applyActionCode(q){return O.a1(this._delegate,q)}checkActionCode(q){return O.a2(this._delegate,q)}confirmPasswordReset(q,Ce){return O.a0(this._delegate,q,Ce)}createUserWithEmailAndPassword(q,Ce){var Le=this;return(0,h.Z)(function*(){return Jt(Le._delegate,O.a4(Le._delegate,q,Ce))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return O.a9(this._delegate,q)}isSignInWithEmailLink(q){return O.a7(this._delegate,q)}getRedirectResult(){var q=this;return(0,h.Z)(function*(){we(pn(),q._delegate,"operation-not-supported-in-this-environment");const Ce=yield O.j(q._delegate,Ge);return Ce?Jt(q._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function(ee,G){(0,O.aC)(ee)._logFramework(G)}(this._delegate,q)}onAuthStateChanged(q,Ce,Le){const{next:ct,error:xt,complete:Ct}=$e(q,Ce,Le);return this._delegate.onAuthStateChanged(ct,xt,Ct)}onIdTokenChanged(q,Ce,Le){const{next:ct,error:xt,complete:Ct}=$e(q,Ce,Le);return this._delegate.onIdTokenChanged(ct,xt,Ct)}sendSignInLinkToEmail(q,Ce){return O.a6(this._delegate,q,Ce)}sendPasswordResetEmail(q,Ce){return O.$(this._delegate,q,Ce||void 0)}setPersistence(q){var Ce=this;return(0,h.Z)(function*(){let Le;switch(function(ee,G){Un(Object.values(Nt).includes(G),ee,"invalid-persistence-type"),(0,ae.b$)()?Un(G!==Nt.SESSION,ee,"unsupported-persistence-type"):(0,ae.UG)()?Un(G===Nt.NONE,ee,"unsupported-persistence-type"):Re()?Un(G===Nt.NONE||G===Nt.LOCAL&&(0,ae.hl)(),ee,"unsupported-persistence-type"):Un(G===Nt.NONE||Ur(),ee,"unsupported-persistence-type")}(Ce._delegate,q),q){case Nt.SESSION:Le=O.a;break;case Nt.LOCAL:Le=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Nt.NONE:Le=O.K;break;default:return O.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Jt(this._delegate,O.W(this._delegate))}signInWithCredential(q){return Jt(this._delegate,O.X(this._delegate,q))}signInWithCustomToken(q){return Jt(this._delegate,O._(this._delegate,q))}signInWithEmailAndPassword(q,Ce){return Jt(this._delegate,O.a5(this._delegate,q,Ce))}signInWithEmailLink(q,Ce){return Jt(this._delegate,O.a8(this._delegate,q,Ce))}signInWithPhoneNumber(q,Ce){return ys(this._delegate,O.s(this._delegate,q,Ce))}signInWithPopup(q){var Ce=this;return(0,h.Z)(function*(){return we(pn(),Ce._delegate,"operation-not-supported-in-this-environment"),Jt(Ce._delegate,O.c(Ce._delegate,q,Ge))})()}signInWithRedirect(q){var Ce=this;return(0,h.Z)(function*(){return we(pn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield Se(Ce._delegate),O.f(Ce._delegate,q,Ge)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return O.a3(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=Nt,ee})();function $e(ee,G,q){let Ce=ee;"function"!=typeof ee&&({next:Ce,error:G,complete:q}=ee);const Le=Ce;return{next:xt=>Le(xt&&$.getOrCreate(xt)),error:G,complete:q}}class Ve{constructor(){this.providerId="phone",this._delegate=new O.P(Ke(j.Z.auth()))}static credential(G,q){return O.P.credential(G,q)}verifyPhoneNumber(G,q){return this._delegate.verifyPhoneNumber(G,q)}unwrap(){return this._delegate}}Ve.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Ve.PROVIDER_ID=O.P.PROVIDER_ID;const nn=O.aw;var ee;(ee=j.Z).INTERNAL.registerComponent(new ye.wA("auth-compat",G=>{const q=G.getProvider("app-compat").getImmediate(),Ce=G.getProvider("auth");return new ie(q,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:Ve,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(G,q,Ce=j.Z.app()){var Le;nn(null===(Le=Ce.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new O.R(G,q,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:ie,AuthCredential:O.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(Xe,Ie){!function(F){"use strict";function h(K){return Array.prototype.slice.call(K)}function j(K){return new Promise(function(_e,me){K.onsuccess=function(){_e(K.result)},K.onerror=function(){me(K.error)}})}function O(K,_e,me){var pe,Ne=new Promise(function(We,Fe){j(pe=K[_e].apply(K,me)).then(We,Fe)});return Ne.request=pe,Ne}function ae(K,_e,me){var pe=O(K,_e,me);return pe.then(function(Ne){if(Ne)return new L(Ne,pe.request)})}function oe(K,_e,me){me.forEach(function(pe){Object.defineProperty(K.prototype,pe,{get:function(){return this[_e][pe]},set:function(Ne){this[_e][pe]=Ne}})})}function se(K,_e,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(K.prototype[Ne]=function(){return O(this[_e],Ne,arguments)})})}function ye(K,_e,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(K.prototype[Ne]=function(){return this[_e][Ne].apply(this[_e],arguments)})})}function ce(K,_e,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(K.prototype[Ne]=function(){return ae(this[_e],Ne,arguments)})})}function re(K){this._index=K}function L(K,_e){this._cursor=K,this._request=_e}function V(K){this._store=K}function X(K){this._tx=K,this.complete=new Promise(function(_e,me){K.oncomplete=function(){_e()},K.onerror=function(){me(K.error)},K.onabort=function(){me(K.error)}})}function Y(K,_e,me){this._db=K,this.oldVersion=_e,this.transaction=new X(me)}function de(K){this._db=K}oe(re,"_index",["name","keyPath","multiEntry","unique"]),se(re,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(re,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(L,"_cursor",["direction","key","primaryKey","value"]),se(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(L.prototype[K]=function(){var _e=this,me=arguments;return Promise.resolve().then(function(){return _e._cursor[K].apply(_e._cursor,me),j(_e._request).then(function(pe){if(pe)return new L(pe,_e._request)})})})}),V.prototype.createIndex=function(){return new re(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new re(this._store.index.apply(this._store,arguments))},oe(V,"_store",["name","keyPath","indexNames","autoIncrement"]),se(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ye(V,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},oe(X,"_tx",["objectStoreNames","mode"]),ye(X,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},oe(Y,"_db",["name","version","objectStoreNames"]),ye(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),de.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},oe(de,"_db",["name","version","objectStoreNames"]),ye(de,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[V,re].forEach(function(_e){K in _e.prototype&&(_e.prototype[K.replace("open","iterate")]=function(){var me=h(arguments),pe=me[me.length-1],Ne=this._store||this._index,We=Ne[K].apply(Ne,me.slice(0,-1));We.onsuccess=function(){pe(We.result)}})})}),[re,V].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(_e,me){var pe=this,Ne=[];return new Promise(function(We){pe.iterateCursor(_e,function(Fe){Fe?(Ne.push(Fe.value),void 0===me||Ne.length!=me?Fe.continue():We(Ne)):We(Ne)})})})}),F.openDb=function(K,_e,me){var pe=O(indexedDB,"open",[K,_e]),Ne=pe.request;return Ne&&(Ne.onupgradeneeded=function(We){me&&me(new Y(Ne.result,We.oldVersion,Ne.transaction))}),pe.then(function(We){return new de(We)})},F.deleteDb=function(K){return O(indexedDB,"deleteDatabase",[K])},Object.defineProperty(F,"__esModule",{value:!0})}(Ie)},7574:(Xe,Ie,F)=>{"use strict";F.d(Ie,{y:()=>V});var h=F(7393),O=F(9181),ae=F(6490),se=F(6554),ye=F(4487);var L=F(2494);let V=(()=>{class Y{constructor(be){this._isScalar=!1,be&&(this._subscribe=be)}lift(be){const ge=new Y;return ge.source=this,ge.operator=be,ge}subscribe(be,ge,K){const{operator:_e}=this,me=function(Y,de,be){if(Y){if(Y instanceof h.L)return Y;if(Y[O.b])return Y[O.b]()}return Y||de||be?new h.L(Y,de,be):new h.L(ae.c)}(be,ge,K);if(me.add(_e?_e.call(me,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!me.syncErrorThrowable?this._subscribe(me):this._trySubscribe(me)),L.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable&&(me.syncErrorThrowable=!1,me.syncErrorThrown))throw me.syncErrorValue;return me}_trySubscribe(be){try{return this._subscribe(be)}catch(ge){L.v.useDeprecatedSynchronousErrorHandling&&(be.syncErrorThrown=!0,be.syncErrorValue=ge),function(Y){for(;Y;){const{closed:de,destination:be,isStopped:ge}=Y;if(de||ge)return!1;Y=be&&be instanceof h.L?be:null}return!0}(be)?be.error(ge):console.warn(ge)}}forEach(be,ge){return new(ge=X(ge))((K,_e)=>{let me;me=this.subscribe(pe=>{try{be(pe)}catch(Ne){_e(Ne),me&&me.unsubscribe()}},_e,K)})}_subscribe(be){const{source:ge}=this;return ge&&ge.subscribe(be)}[se.L](){return this}pipe(...be){return 0===be.length?this:function(Y){return 0===Y.length?ye.y:1===Y.length?Y[0]:function(be){return Y.reduce((ge,K)=>K(ge),be)}}(be)(this)}toPromise(be){return new(be=X(be))((ge,K)=>{let _e;this.subscribe(me=>_e=me,me=>K(me),()=>ge(_e))})}}return Y.create=de=>new Y(de),Y})();function X(Y){if(Y||(Y=L.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Xe,Ie,F)=>{"use strict";F.d(Ie,{c:()=>O});var h=F(2494),j=F(4449);const O={closed:!0,next(ae){},error(ae){if(h.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,j.z)(ae)},complete(){}}},9765:(Xe,Ie,F)=>{"use strict";F.d(Ie,{Yc:()=>ye,xQ:()=>ce});var h=F(7574),j=F(7393),O=F(5319),ae=F(7971),oe=F(8858),se=F(9181);class ye extends j.L{constructor(V){super(V),this.destination=V}}let ce=(()=>{class L extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new ye(this)}lift(X){const Y=new re(this,this);return Y.operator=X,Y}next(X){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:Y}=this,de=Y.length,be=Y.slice();for(let ge=0;ge<de;ge++)be[ge].next(X)}}error(X){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:Y}=this,de=Y.length,be=Y.slice();for(let ge=0;ge<de;ge++)be[ge].error(X);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:X}=this,Y=X.length,de=X.slice();for(let be=0;be<Y;be++)de[be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new ae.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new ae.N;return this.hasError?(X.error(this.thrownError),O.w.EMPTY):this.isStopped?(X.complete(),O.w.EMPTY):(this.observers.push(X),new oe.W(this,X))}asObservable(){const X=new h.y;return X.source=this,X}}return L.create=(V,X)=>new re(V,X),L})();class re extends ce{constructor(V,X){super(),this.destination=V,this.source=X}next(V){const{destination:X}=this;X&&X.next&&X.next(V)}error(V){const{destination:X}=this;X&&X.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:X}=this;return X?this.source.subscribe(V):O.w.EMPTY}}},8858:(Xe,Ie,F)=>{"use strict";F.d(Ie,{W:()=>j});var h=F(5319);class j extends h.w{constructor(ae,oe){super(),this.subject=ae,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,oe=ae.observers;if(this.subject=null,!oe||0===oe.length||ae.isStopped||ae.closed)return;const se=oe.indexOf(this.subscriber);-1!==se&&oe.splice(se,1)}}},7393:(Xe,Ie,F)=>{"use strict";F.d(Ie,{L:()=>ye});var h=F(9105),j=F(6490),O=F(5319),ae=F(9181),oe=F(2494),se=F(4449);class ye extends O.w{constructor(L,V,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!L){this.destination=j.c;break}if("object"==typeof L){L instanceof ye?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ce(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ce(this,L,V,X)}}[ae.b](){return this}static create(L,V,X){const Y=new ye(L,V,X);return Y.syncErrorThrowable=!1,Y}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ce extends ye{constructor(L,V,X,Y){super(),this._parentSubscriber=L;let de,be=this;(0,h.m)(V)?de=V:V&&(de=V.next,X=V.error,Y=V.complete,V!==j.c&&(be=Object.create(V),(0,h.m)(be.unsubscribe)&&this.add(be.unsubscribe.bind(be)),be.unsubscribe=this.unsubscribe.bind(this))),this._context=be,this._next=de,this._error=X,this._complete=Y}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;oe.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:X}=oe.v;if(this._error)X&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(V.syncErrorThrowable)X?(V.syncErrorValue=L,V.syncErrorThrown=!0):(0,se.z)(L),this.unsubscribe();else{if(this.unsubscribe(),X)throw L;(0,se.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const V=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,V){try{L.call(this._context,V)}catch(X){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw X;(0,se.z)(X)}}__tryOrSetError(L,V,X){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,X)}catch(Y){return oe.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=Y,L.syncErrorThrown=!0,!0):((0,se.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Xe,Ie,F)=>{"use strict";F.d(Ie,{w:()=>se});var h=F(9796),j=F(1555),O=F(9105);const oe=(()=>{function ce(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((L,V)=>`${V+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return ce.prototype=Object.create(Error.prototype),ce})();class se{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:V,_unsubscribe:X,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof se)L.remove(this);else if(null!==L)for(let de=0;de<L.length;++de)L[de].remove(this);if((0,O.m)(X)){V&&(this._unsubscribe=void 0);try{X.call(this)}catch(de){re=de instanceof oe?ye(de.errors):[de]}}if((0,h.k)(Y)){let de=-1,be=Y.length;for(;++de<be;){const ge=Y[de];if((0,j.K)(ge))try{ge.unsubscribe()}catch(K){re=re||[],K instanceof oe?re=re.concat(ye(K.errors)):re.push(K)}}}if(re)throw new oe(re)}add(re){let L=re;if(!re)return se.EMPTY;switch(typeof re){case"function":L=new se(re);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof se)){const Y=L;L=new se,L._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:V}=L;if(null===V)L._parentOrParents=this;else if(V instanceof se){if(V===this)return L;L._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return L;V.push(this)}const X=this._subscriptions;return null===X?this._subscriptions=[L]:X.push(L),L}remove(re){const L=this._subscriptions;if(L){const V=L.indexOf(re);-1!==V&&L.splice(V,1)}}}var ce;function ye(ce){return ce.reduce((re,L)=>re.concat(L instanceof oe?L.errors:L),[])}se.EMPTY=((ce=new se).closed=!0,ce)},2494:(Xe,Ie,F)=>{"use strict";F.d(Ie,{v:()=>j});let h=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=O},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(Xe,Ie,F)=>{"use strict";F.d(Ie,{IY:()=>ae,Ds:()=>se,ft:()=>ce});var h=F(7393),j=F(7574),O=F(7444);class ae extends h.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends h.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ce(re,L){if(L.closed)return;if(re instanceof j.y)return re.subscribe(L);let V;try{V=(0,O.s)(re)(L)}catch(X){L.error(X)}return V}},2441:(Xe,Ie,F)=>{"use strict";F.d(Ie,{c:()=>oe,N:()=>se});var h=F(9765),j=F(7574),O=F(5319),ae=F(1307);class oe extends j.y{constructor(V,X){super(),this.source=V,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new O.w,V.add(this.source.subscribe(new ye(this.getSubject(),this))),V.closed&&(this._connection=null,V=O.w.EMPTY)),V}refCount(){return(0,ae.x)()(this)}}const se=(()=>{const L=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ye extends h.Yc{constructor(V,X){super(V),this.connectable=X}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const X=V._connection;V._refCount=0,V._subject=null,V._connection=null,X&&X.unsubscribe()}}}},9193:(Xe,Ie,F)=>{"use strict";F.d(Ie,{E:()=>j,c:()=>O});var h=F(7574);const j=new h.y(oe=>oe.complete());function O(oe){return oe?function(oe){return new h.y(se=>oe.schedule(()=>se.complete()))}(oe):j}},4402:(Xe,Ie,F)=>{"use strict";F.d(Ie,{D:()=>be});var h=F(7574),j=F(7444),O=F(5319),ae=F(6554),ye=F(4087),ce=F(377),V=F(4072),X=F(9489);function be(ge,K){return K?function(ge,K){if(null!=ge){if(function(ge){return ge&&"function"==typeof ge[ae.L]}(ge))return function(ge,K){return new h.y(_e=>{const me=new O.w;return me.add(K.schedule(()=>{const pe=ge[ae.L]();me.add(pe.subscribe({next(Ne){me.add(K.schedule(()=>_e.next(Ne)))},error(Ne){me.add(K.schedule(()=>_e.error(Ne)))},complete(){me.add(K.schedule(()=>_e.complete()))}}))})),me})}(ge,K);if((0,V.t)(ge))return function(ge,K){return new h.y(_e=>{const me=new O.w;return me.add(K.schedule(()=>ge.then(pe=>{me.add(K.schedule(()=>{_e.next(pe),me.add(K.schedule(()=>_e.complete()))}))},pe=>{me.add(K.schedule(()=>_e.error(pe)))}))),me})}(ge,K);if((0,X.z)(ge))return(0,ye.r)(ge,K);if(function(ge){return ge&&"function"==typeof ge[ce.hZ]}(ge)||"string"==typeof ge)return function(ge,K){if(!ge)throw new Error("Iterable cannot be null");return new h.y(_e=>{const me=new O.w;let pe;return me.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),me.add(K.schedule(()=>{pe=ge[ce.hZ](),me.add(K.schedule(function(){if(_e.closed)return;let Ne,We;try{const Fe=pe.next();Ne=Fe.value,We=Fe.done}catch(Fe){return void _e.error(Fe)}We?_e.complete():(_e.next(Ne),this.schedule())}))})),me})}(ge,K)}throw new TypeError((null!==ge&&typeof ge||ge)+" is not observable")}(ge,K):ge instanceof h.y?ge:new h.y((0,j.s)(ge))}},6693:(Xe,Ie,F)=>{"use strict";F.d(Ie,{n:()=>ae});var h=F(7574),j=F(5015),O=F(4087);function ae(oe,se){return se?(0,O.r)(oe,se):new h.y((0,j.V)(oe))}},6682:(Xe,Ie,F)=>{"use strict";F.d(Ie,{T:()=>oe});var h=F(7574),j=F(4869),O=F(3282),ae=F(6693);function oe(...se){let ye=Number.POSITIVE_INFINITY,ce=null,re=se[se.length-1];return(0,j.K)(re)?(ce=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(ye=se.pop())):"number"==typeof re&&(ye=se.pop()),null===ce&&1===se.length&&se[0]instanceof h.y?se[0]:(0,O.J)(ye)((0,ae.n)(se,ce))}},5917:(Xe,Ie,F)=>{"use strict";F.d(Ie,{of:()=>ae});var h=F(4869),j=F(6693),O=F(4087);function ae(...oe){let se=oe[oe.length-1];return(0,h.K)(se)?(oe.pop(),(0,O.r)(oe,se)):(0,j.n)(oe)}},8002:(Xe,Ie,F)=>{"use strict";F.d(Ie,{U:()=>j});var h=F(7393);function j(oe,se){return function(ce){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ce.lift(new O(oe,se))}}class O{constructor(se,ye){this.project=se,this.thisArg=ye}call(se,ye){return ye.subscribe(new ae(se,this.project,this.thisArg))}}class ae extends h.L{constructor(se,ye,ce){super(se),this.project=ye,this.count=0,this.thisArg=ce||this}_next(se){let ye;try{ye=this.project.call(this.thisArg,se,this.count++)}catch(ce){return void this.destination.error(ce)}this.destination.next(ye)}}},3282:(Xe,Ie,F)=>{"use strict";F.d(Ie,{J:()=>O});var h=F(9773),j=F(4487);function O(ae=Number.POSITIVE_INFINITY){return(0,h.zg)(j.y,ae)}},9773:(Xe,Ie,F)=>{"use strict";F.d(Ie,{zg:()=>ae});var h=F(8002),j=F(4402),O=F(5345);function ae(ce,re,L=Number.POSITIVE_INFINITY){return"function"==typeof re?V=>V.pipe(ae((X,Y)=>(0,j.D)(ce(X,Y)).pipe((0,h.U)((de,be)=>re(X,de,Y,be))),L)):("number"==typeof re&&(L=re),V=>V.lift(new oe(ce,L)))}class oe{constructor(re,L=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=L}call(re,L){return L.subscribe(new se(re,this.project,this.concurrent))}}class se extends O.Ds{constructor(re,L,V=Number.POSITIVE_INFINITY){super(re),this.project=L,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let L;const V=this.index++;try{L=this.project(re,V)}catch(X){return void this.destination.error(X)}this.active++,this._innerSub(L)}_innerSub(re){const L=new O.IY(this),V=this.destination;V.add(L);const X=(0,O.ft)(re,L);X!==L&&V.add(X)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Ie,F)=>{"use strict";F.d(Ie,{ht:()=>V,QV:()=>re});var h=F(7393),j=F(9193),O=F(5917),ae=F(7574);class ce{constructor(de,be,ge){this.kind=de,this.value=be,this.error=ge,this.hasValue="N"===de}observe(de){switch(this.kind){case"N":return de.next&&de.next(this.value);case"E":return de.error&&de.error(this.error);case"C":return de.complete&&de.complete()}}do(de,be,ge){switch(this.kind){case"N":return de&&de(this.value);case"E":return be&&be(this.error);case"C":return ge&&ge()}}accept(de,be,ge){return de&&"function"==typeof de.next?this.observe(de):this.do(de,be,ge)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return Y=this.error,new ae.y(be=>be.error(Y));case"C":return(0,j.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(de){return void 0!==de?new ce("N",de):ce.undefinedValueNotification}static createError(de){return new ce("E",void 0,de)}static createComplete(){return ce.completeNotification}}function re(Y,de=0){return function(ge){return ge.lift(new L(Y,de))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class L{constructor(de,be=0){this.scheduler=de,this.delay=be}call(de,be){return be.subscribe(new V(de,this.scheduler,this.delay))}}class V extends h.L{constructor(de,be,ge=0){super(de),this.scheduler=be,this.delay=ge}static dispatch(de){const{notification:be,destination:ge}=de;be.observe(ge),this.unsubscribe()}scheduleMessage(de){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new X(de,this.destination)))}_next(de){this.scheduleMessage(ce.createNext(de))}_error(de){this.scheduleMessage(ce.createError(de)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class X{constructor(de,be){this.notification=de,this.destination=be}}},1307:(Xe,Ie,F)=>{"use strict";F.d(Ie,{x:()=>j});var h=F(7393);function j(){return function(se){return se.lift(new O(se))}}class O{constructor(se){this.connectable=se}call(se,ye){const{connectable:ce}=this;ce._refCount++;const re=new ae(se,ce),L=ye.subscribe(re);return re.closed||(re.connection=ce.connect()),L}}class ae extends h.L{constructor(se,ye){super(se),this.connectable=ye}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const ye=se._refCount;if(ye<=0)return void(this.connection=null);if(se._refCount=ye-1,ye>1)return void(this.connection=null);const{connection:ce}=this,re=se._connection;this.connection=null,re&&(!ce||re===ce)&&re.unsubscribe()}}},3101:(Xe,Ie,F)=>{"use strict";F.d(Ie,{R:()=>K});var h=F(7574);let j=1;const O=Promise.resolve(),ae={};function oe(me){return me in ae&&(delete ae[me],!0)}const se={setImmediate(me){const pe=j++;return ae[pe]=!0,O.then(()=>oe(pe)&&me()),pe},clearImmediate(me){oe(me)}};var ce=F(6465),L=F(6102);const Y=new class extends L.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:Ne}=this;let We,Fe=-1,St=Ne.length;pe=pe||Ne.shift();do{if(We=pe.execute(pe.state,pe.delay))break}while(++Fe<St&&(pe=Ne.shift()));if(this.active=!1,We){for(;++Fe<St&&(pe=Ne.shift());)pe.unsubscribe();throw We}}}(class extends ce.o{constructor(pe,Ne){super(pe,Ne),this.scheduler=pe,this.work=Ne}requestAsyncId(pe,Ne,We=0){return null!==We&&We>0?super.requestAsyncId(pe,Ne,We):(pe.actions.push(this),pe.scheduled||(pe.scheduled=se.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,Ne,We=0){if(null!==We&&We>0||null===We&&this.delay>0)return super.recycleAsyncId(pe,Ne,We);0===pe.actions.length&&(se.clearImmediate(Ne),pe.scheduled=void 0)}});var de=F(9796);class ge extends h.y{constructor(pe,Ne=0,We=Y){var me;super(),this.source=pe,this.delayTime=Ne,this.scheduler=We,(!(!(0,de.k)(me=Ne)&&me-parseFloat(me)+1>=0)||Ne<0)&&(this.delayTime=0),(!We||"function"!=typeof We.schedule)&&(this.scheduler=Y)}static create(pe,Ne=0,We=Y){return new ge(pe,Ne,We)}static dispatch(pe){const{source:Ne,subscriber:We}=pe;return this.add(Ne.subscribe(We))}_subscribe(pe){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function K(me,pe=0){return function(We){return We.lift(new _e(me,pe))}}class _e{constructor(pe,Ne){this.scheduler=pe,this.delay=Ne}call(pe,Ne){return new ge(Ne,this.delay,this.scheduler).subscribe(pe)}}},3342:(Xe,Ie,F)=>{"use strict";F.d(Ie,{b:()=>ae});var h=F(7393);function j(){}var O=F(9105);function ae(ye,ce,re){return function(V){return V.lift(new oe(ye,ce,re))}}class oe{constructor(ce,re,L){this.nextOrObserver=ce,this.error=re,this.complete=L}call(ce,re){return re.subscribe(new se(ce,this.nextOrObserver,this.error,this.complete))}}class se extends h.L{constructor(ce,re,L,V){super(ce),this._tapNext=j,this._tapError=j,this._tapComplete=j,this._tapError=L||j,this._tapComplete=V||j,(0,O.m)(re)?(this._context=this,this._tapNext=re):re&&(this._context=re,this._tapNext=re.next||j,this._tapError=re.error||j,this._tapComplete=re.complete||j)}_next(ce){try{this._tapNext.call(this._context,ce)}catch(re){return void this.destination.error(re)}this.destination.next(ce)}_error(ce){try{this._tapError.call(this._context,ce)}catch(re){return void this.destination.error(re)}this.destination.error(ce)}_complete(){try{this._tapComplete.call(this._context)}catch(ce){return void this.destination.error(ce)}return this.destination.complete()}}},4087:(Xe,Ie,F)=>{"use strict";F.d(Ie,{r:()=>O});var h=F(7574),j=F(5319);function O(ae,oe){return new h.y(se=>{const ye=new j.w;let ce=0;return ye.add(oe.schedule(function(){ce!==ae.length?(se.next(ae[ce++]),se.closed||ye.add(this.schedule())):se.complete()})),ye})}},6465:(Xe,Ie,F)=>{"use strict";F.d(Ie,{o:()=>O});var h=F(5319);class j extends h.w{constructor(oe,se){super()}schedule(oe,se=0){return this}}class O extends j{constructor(oe,se){super(oe,se),this.scheduler=oe,this.work=se,this.pending=!1}schedule(oe,se=0){if(this.closed)return this;this.state=oe;const ye=this.id,ce=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(ce,ye,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(ce,this.id,se),this}requestAsyncId(oe,se,ye=0){return setInterval(oe.flush.bind(oe,this),ye)}recycleAsyncId(oe,se,ye=0){if(null!==ye&&this.delay===ye&&!1===this.pending)return se;clearInterval(se)}execute(oe,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(oe,se);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,se){let ce,ye=!1;try{this.work(oe)}catch(re){ye=!0,ce=!!re&&re||new Error(re)}if(ye)return this.unsubscribe(),ce}_unsubscribe(){const oe=this.id,se=this.scheduler,ye=se.actions,ce=ye.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ce&&ye.splice(ce,1),null!=oe&&(this.id=this.recycleAsyncId(se,oe,null)),this.delay=null}}},6102:(Xe,Ie,F)=>{"use strict";F.d(Ie,{v:()=>j});let h=(()=>{class O{constructor(oe,se=O.now){this.SchedulerAction=oe,this.now=se}schedule(oe,se=0,ye){return new this.SchedulerAction(this,oe).schedule(ye,se)}}return O.now=()=>Date.now(),O})();class j extends h{constructor(ae,oe=h.now){super(ae,()=>j.delegate&&j.delegate!==this?j.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,oe=0,se){return j.delegate&&j.delegate!==this?j.delegate.schedule(ae,oe,se):super.schedule(ae,oe,se)}flush(ae){const{actions:oe}=this;if(this.active)return void oe.push(ae);let se;this.active=!0;do{if(se=ae.execute(ae.state,ae.delay))break}while(ae=oe.shift());if(this.active=!1,se){for(;ae=oe.shift();)ae.unsubscribe();throw se}}}},3637:(Xe,Ie,F)=>{"use strict";F.d(Ie,{z:()=>O});var h=F(6465);const O=new(F(6102).v)(h.o)},7771:(Xe,Ie,F)=>{"use strict";F.d(Ie,{c:()=>se,N:()=>oe});var h=F(6465),O=F(6102);const oe=new class extends O.v{}(class extends h.o{constructor(ce,re){super(ce,re),this.scheduler=ce,this.work=re}schedule(ce,re=0){return re>0?super.schedule(ce,re):(this.delay=re,this.state=ce,this.scheduler.flush(this),this)}execute(ce,re){return re>0||this.closed?super.execute(ce,re):this._execute(ce,re)}requestAsyncId(ce,re,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ce,re,L):ce.flush(this)}}),se=oe},377:(Xe,Ie,F)=>{"use strict";F.d(Ie,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Ie,F)=>{"use strict";F.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Ie,F)=>{"use strict";F.d(Ie,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Ie,F)=>{"use strict";F.d(Ie,{N:()=>j});const j=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(Xe,Ie,F)=>{"use strict";function h(j){setTimeout(()=>{throw j},0)}F.d(Ie,{z:()=>h})},4487:(Xe,Ie,F)=>{"use strict";function h(j){return j}F.d(Ie,{y:()=>h})},9796:(Xe,Ie,F)=>{"use strict";F.d(Ie,{k:()=>h});const h=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(Xe,Ie,F)=>{"use strict";F.d(Ie,{z:()=>h});const h=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(Xe,Ie,F)=>{"use strict";function h(j){return"function"==typeof j}F.d(Ie,{m:()=>h})},1555:(Xe,Ie,F)=>{"use strict";function h(j){return null!==j&&"object"==typeof j}F.d(Ie,{K:()=>h})},4072:(Xe,Ie,F)=>{"use strict";function h(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(Ie,{t:()=>h})},4869:(Xe,Ie,F)=>{"use strict";function h(j){return j&&"function"==typeof j.schedule}F.d(Ie,{K:()=>h})},7444:(Xe,Ie,F)=>{"use strict";F.d(Ie,{s:()=>V});var h=F(5015),j=F(4449),ae=F(377),se=F(6554),ce=F(9489),re=F(4072),L=F(1555);const V=X=>{if(X&&"function"==typeof X[se.L])return(X=>Y=>{const de=X[se.L]();if("function"!=typeof de.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return de.subscribe(Y)})(X);if((0,ce.z)(X))return(0,h.V)(X);if((0,re.t)(X))return(X=>Y=>(X.then(de=>{Y.closed||(Y.next(de),Y.complete())},de=>Y.error(de)).then(null,j.z),Y))(X);if(X&&"function"==typeof X[ae.hZ])return(X=>Y=>{const de=X[ae.hZ]();for(;;){let be;try{be=de.next()}catch(ge){return Y.error(ge),Y}if(be.done){Y.complete();break}if(Y.next(be.value),Y.closed)break}return"function"==typeof de.return&&Y.add(()=>{de.return&&de.return()}),Y})(X);{const de=`You provided ${(0,L.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(de)}}},5015:(Xe,Ie,F)=>{"use strict";F.d(Ie,{V:()=>h});const h=j=>O=>{for(let ae=0,oe=j.length;ae<oe&&!O.closed;ae++)O.next(j[ae]);O.complete()}},8935:(Xe,Ie,F)=>{"use strict";var h=F(3018);let j=null;function O(){return j}const ye=new h.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:re,token:n,providedIn:"platform"}),n})();function re(){return(0,h.LFG)(V)}const L=new h.OlP("Location Initialized");let V=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){X()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){X()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye))},n.\u0275prov=(0,h.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Y(){return new V((0,h.LFG)(ye))}function de(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ge(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,h.LFG)(ye).location;return new pe((0,h.LFG)(ce),e&&e.origin||"")}const me=new h.OlP("appBaseHref");let pe=(()=>{class n extends K{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return de(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+ge(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const f=this.prepareExternalUrl(a+ge(l));this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){const f=this.prepareExternalUrl(a+ge(l));this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce),h.LFG(me,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends K{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=de(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let f=this.prepareExternalUrl(a+ge(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){let f=this.prepareExternalUrl(a+ge(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce),h.LFG(me,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n{constructor(t,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=be(ht(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+ge(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ht(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ge(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ge(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(K),h.LFG(ce))},n.normalizeQueryParams=ge,n.joinWithSlash=de,n.stripTrailingSlash=be,n.\u0275prov=(0,h.Yz7)({factory:Fe,token:n,providedIn:"root"}),n})();function Fe(){return new We((0,h.LFG)(K),(0,h.LFG)(ce))}function ht(n){return n.replace(/\/index.html$/,"")}var bt=(()=>((bt=bt||{})[bt.Zero=0]="Zero",bt[bt.One=1]="One",bt[bt.Two=2]="Two",bt[bt.Few=3]="Few",bt[bt.Many=4]="Many",bt[bt.Other=5]="Other",bt))();const Re=h.kL8;class vr{}let Bn=(()=>{class n extends vr{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Re(s||this.locale)(t)){case bt.Zero:return"zero";case bt.One:return"one";case bt.Two:return"two";case bt.Few:return"few";case bt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ku{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xr=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,f)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new ku(null,this._ngForOf,-1,-1),null===f?void 0:f),C=new Xn(a,_);s.push(C)}else if(null==f)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const _=this._viewContainer.get(l);this._viewContainer.move(_,f);const C=new Xn(a,_);s.push(C)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=l,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Xn{constructor(e,t){this.record=e,this.view=t}}let Vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:vr,useClass:Bn}]}),n})();function To(n){return"server"===n}let ka=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new nl((0,h.LFG)(ye),window)}),n})();class nl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new zs,j||(j=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Mr=Mr||document.querySelector("base"),Mr?Mr.getAttribute("href"):null);return null==t?null:function(n){bs=bs||document.createElement("a"),bs.setAttribute("href",n);const e=bs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Mr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let bs,Mr=null;const il=new h.OlP("TRANSITION_ID"),yf=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const s=O(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[il,ye,h.zs3],multi:!0}];class yt{static init(){(0,h.VLi)(new yt)}addToWindow(e){h.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const a=h.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const _=function(C){f=f||C,l--,0==l&&s(f)};a.forEach(function(C){C.whenStable(_)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let _f=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ns=new h.OlP("EventManagerPlugins");let So=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const f=a[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ns),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=O().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let La=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ks=(()=>{class n extends La{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,a.push(s.appendChild(f))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(qu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qu))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qu(n){O().remove(n)}const Te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function ta(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?ta(n,a,t):(a=a.replace(At,n),t.push(a))}return t}function Zu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qs=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ui(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new is(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case h.ifc.ShadowDom:return new Is(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=ta(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(So),h.LFG(Ks),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ui{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Te[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Te[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Te[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,s,a&h.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zu(s)):this.eventManager.addEventListener(e,t,Zu(s))}}class is extends Ui{constructor(e,t,s,a){super(e),this.component=s;const l=ta(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(At,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(At,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class Is extends Ui{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ta(a.id,a.styles,[]);for(let f=0;f<l.length;f++){const _=document.createElement("style");_.textContent=l[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ua=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Mo=["alt","control","meta","shift"],ra={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ll={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bi=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),f=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let f="";if(Mo.forEach(C=>{const S=s.indexOf(C);S>-1&&(s.splice(S,1),f+=C+".")}),f+=l,0!=s.length||0===l.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ll.hasOwnProperty(e)&&(e=ll[e]))}return ra[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Mo.forEach(l=>{l!=a&&wr[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){zs.makeCurrent(),yt.init()},multi:!0},{provide:ye,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Js=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:ns,useClass:Ua,multi:!0,deps:[ye,h.R0b,h.Lbi]},{provide:ns,useClass:Bi,multi:!0,deps:[ye]},[],{provide:Qs,useClass:Qs,deps:[So,Ks,h.AFp]},{provide:h.FYo,useExisting:Qs},{provide:La,useExisting:Ks},{provide:Ks,useClass:Ks,deps:[ye]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:So,useClass:So,deps:[ns,h.R0b]},{provide:class{},useClass:_f,deps:[]},[]];let $a=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:il,useExisting:h.AFp},yf]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Js,imports:[Vd,h.hGG]}),n})();"undefined"!=typeof window&&window;var mi=F(8939),Ts=F(3637),yi=F(7574),ln=F(4402),tt=F(5917),$n=F(3205),ss=F(3282);function Za(...n){return(0,ss.J)(1)((0,tt.of)(...n))}var sa=F(4869);function za(...n){const e=n[n.length-1];return(0,sa.K)(e)?(n.pop(),t=>Za(n,t,e)):t=>Za(n,t)}var zt=F(7393);function rc(){return n=>n.lift(new Wa)}class Wa{call(e,t){return t.subscribe(new Cf(e))}}class Cf extends zt.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var dt=F(8002);function As(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new _l(n,e,t))}}class _l{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new vl(e,this.accumulator,this.seed,this.hasSeed))}}class vl extends zt.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}class Ss{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ka(e,this.compare,this.keySelector))}}class Ka extends zt.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}function zr(n,e){return function(s){return s.lift(new oa(n,e))}}class oa{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new aa(e,this.predicate,this.thisArg))}}class aa extends zt.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}F(4828);var qe,ua=F(3394),he=F(8239),ji=F(8026),$i=F(3910),to=F(5422),Mt=F(3854),zd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ko={},vn=vn||{},ft=zd||self;function Ya(){}function sc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function oc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qa="closure_uid_"+(1e9*Math.random()>>>0),If=0;function Kd(n,e,t){return n.call.apply(n.bind,arguments)}function ac(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function er(n,e,t){return(er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kd:ac).apply(null,arguments)}function Ja(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Nn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return e.prototype[a].apply(s,f)}}function no(){this.s=this.s,this.o=this.o}var uc={};no.prototype.s=!1,no.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Qa)&&n[Qa]||(n[Qa]=++If)}(this);delete uc[n]}},no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xa=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},ca=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function Wr(n){return Array.prototype.concat.apply([],arguments)}function _i(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function si(n){return/^[\s\xa0]*$/.test(n)}var br,ro=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wt(n,e){return-1!=n.indexOf(e)}function El(n,e){return n<e?-1:n>e?1:0}e:{var wl=ft.navigator;if(wl){var bl=wl.userAgent;if(bl){br=bl;break e}}br=""}function Qd(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function cc(n){const e={};for(const t in n)e[t]=n[t];return e}var b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<b.length;l++)t=b[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function M(n){return M[" "](n),n}M[" "]=Ya;var Hn,n,J=Wt(br,"Opera"),ue=Wt(br,"Trident")||Wt(br,"MSIE"),xe=Wt(br,"Edge"),ze=xe||ue,Ze=Wt(br,"Gecko")&&!(Wt(br.toLowerCase(),"webkit")&&!Wt(br,"Edge"))&&!(Wt(br,"Trident")||Wt(br,"MSIE"))&&!Wt(br,"Edge"),Ut=Wt(br.toLowerCase(),"webkit")&&!Wt(br,"Edge");function Ft(){var n=ft.document;return n?n.documentMode:void 0}e:{var dr="",nr=(n=br,Ze?/rv:([^\);]+)(\)|;)/.exec(n):xe?/Edge\/([\d\.]+)/.exec(n):ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ut?/WebKit\/(\S+)/.exec(n):J?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nr&&(dr=nr?nr[1]:""),ue){var vi=Ft();if(null!=vi&&vi>parseFloat(dr)){Hn=String(vi);break e}}Hn=dr}var eu={};function Ei(){return e=eu,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=ro(String(Hn)).split("."),t=ro("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==n&&f<s;f++){var a=e[f]||"",l=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=El(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||El(0==a[2].length,0==l[2].length)||El(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var lc=ft.document&&ue&&(Ft()||parseInt(Hn,10))||void 0,Df=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ft.addEventListener("test",Ya,e),ft.removeEventListener("test",Ya,e)}catch(t){}return n}();function Cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function tu(n,e){if(Cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ze){e:{try{M(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Cl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tu.Z.h.call(this)}}Cr.prototype.h=function(){this.defaultPrevented=!0},Nn(tu,Cr);var Cl={2:"touch",3:"pen",4:"mouse"};tu.prototype.h=function(){tu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var os="closure_listenable_"+(1e6*Math.random()|0),Tf=0;function On(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Tf,this.ca=this.fa=!1}function Il(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Jd(n){this.src=n,this.g={},this.h=0}function io(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=Xa(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Il(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function nu(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}Jd.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=nu(n,e,s,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new On(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var Af="closure_lm_"+(1e6*Math.random()|0),dc={};function Sf(n,e,t,s,a){if(s&&s.once)return so(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sf(n,e[l],t,s,a);return null}return t=Tl(t),n&&n[os]?n.N(e,t,oc(s)?!!s.capture:!!s,a):Qy(n,e,t,!1,s,a)}function Qy(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=oc(a)?!!a.capture:!!a,_=ru(n);if(_||(n[Af]=_=new Jd(n)),(t=_.add(e,t,s,f,l)).proxy)return t;if(s=function(){var e=Xd;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)Df||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(Rg(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function so(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)so(n,e[l],t,s,a);return null}return t=Tl(t),n&&n[os]?n.O(e,t,oc(s)?!!s.capture:!!s,a):Qy(n,e,t,!0,s,a)}function Dl(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Dl(n,e[l],t,s,a);else s=oc(s)?!!s.capture:!!s,t=Tl(t),n&&n[os]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=nu(l=n.g[e],t,s,a))&&(Il(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=ru(n))&&(e=n.g[e.toString()],n=-1,e&&(n=nu(e,t,s,a)),(t=-1<n?e[n]:null)&&as(t))}function as(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[os])io(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(Rg(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=ru(e))?(io(t,n),0==t.h&&(t.src=null,e[Af]=null)):Il(n)}}}function Rg(n){return n in dc?dc[n]:dc[n]="on"+n}function Xd(n,e){if(n.ca)n=!0;else{e=new tu(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&as(n),n=t.call(s,e)}return n}function ru(n){return(n=n[Af])instanceof Jd?n:null}var da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(n){return"function"==typeof n?n:(n[da]||(n[da]=function(e){return n.handleEvent(e)}),n[da])}function rr(){no.call(this),this.i=new Jd(this),this.P=this,this.I=null}function Or(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Cr(e,n);else if(e instanceof Cr)e.target=e.target||n;else{var a=e;D(e=new Cr(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=oo(f,s,!0,e)&&a}if(a=oo(f=e.g=n,s,!0,e)&&a,a=oo(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=oo(f=e.g=t[l],s,!1,e)&&a}function oo(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var _=f.listener,C=f.ia||f.src;f.fa&&io(n.i,f),a=!1!==_.call(C,s)&&a}}return a&&!s.defaultPrevented}Nn(rr,no),rr.prototype[os]=!0,rr.prototype.removeEventListener=function(n,e,t,s){Dl(this,n,e,t,s)},rr.prototype.M=function(){if(rr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Il(t[s]);delete n.g[e],n.h--}}this.I=null},rr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},rr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var ha=ft.JSON.stringify;function Ng(){var n=th;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Rf,eh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new xf,n=>n.reset());class xf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $E(n){ft.setTimeout(()=>{throw n},0)}function Mf(n,e){Rf||function(){var n=ft.Promise.resolve(void 0);Rf=function(){n.then(iu)}}(),hc||(Rf(),hc=!0),th.add(n,e)}var hc=!1,th=new class{constructor(){this.h=this.g=null}add(e,t){const s=eh.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function iu(){for(var n;n=Ng();){try{n.h.call(n.g)}catch(t){$E(t)}var e=eh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hc=!1}function nh(n,e){rr.call(this),this.h=n||1,this.g=e||ft,this.j=er(this.kb,this),this.l=Date.now()}function fc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Og(n,e,t){if("function"==typeof n)t&&(n=er(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=er(n.handleEvent,n)}return 2147483647<Number(e)?-1:ft.setTimeout(n,e||0)}function Al(n){n.g=Og(()=>{n.g=null,n.i&&(n.i=!1,Al(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Nn(nh,rr),(qe=nh.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Or(this,"tick"),this.da&&(fc(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){nh.Z.M.call(this),fc(this),delete this.g};class Of extends no{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Al(this)}M(){super.M(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(n){no.call(this),this.h=n,this.g={}}Nn(pc,no);var Pf=[];function kf(n,e,t,s){Array.isArray(t)||(t&&(Pf[0]=t.toString()),t=Pf);for(var a=0;a<t.length;a++){var l=Sf(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function fa(n){Qd(n.g,function(e,t){this.g.hasOwnProperty(t)&&as(e)},n),n.g={}}function rh(){this.g=!0}function gc(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return ha(t)}catch(_){return e}}(n,t)+(s?" "+s:"")})}pc.prototype.M=function(){pc.Z.M.call(this),fa(this)},pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rh.prototype.Aa=function(){this.g=!1},rh.prototype.info=function(){};var us={},ih=null;function sh(){return ih=ih||new rr}function Pg(n){Cr.call(this,us.Ma,n)}function Sl(n){const e=sh();Or(e,new Pg(e,n))}function kg(n,e){Cr.call(this,us.STAT_EVENT,n),this.stat=e}function Pr(n){const e=sh();Or(e,new kg(e,n))}function Lf(n,e){Cr.call(this,us.Na,n),this.size=e}function su(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){n()},e)}us.Ma="serverreachability",Nn(Pg,Cr),us.STAT_EVENT="statevent",Nn(kg,Cr),us.Na="timingevent",Nn(Lf,Cr);var oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Uf(){}function Fg(){}Uf.prototype.h=null;var ou,ao={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xl(){Cr.call(this,"d")}function cs(){Cr.call(this,"c")}function Ml(){}function mc(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new pc(this),this.P=p,this.W=new nh(n=ze?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new v}function v(){this.i=null,this.g="",this.h=!1}Nn(xl,Cr),Nn(cs,Cr),Nn(Ml,Uf),Ml.prototype.g=function(){return new XMLHttpRequest},Ml.prototype.i=function(){return{}},ou=new Ml;var p=45e3,m={},w={};function A(n,e,t){n.K=1,n.v=e_(Ps(e)),n.s=t,n.U=!0,x(n,null)}function x(n,e){n.F=Date.now(),Pe(n),n.A=Ps(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),ZE(t.h,"t",s),n.C=0,t=n.l.H,n.h=new v,n.g=g_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Of(er(n.Ia,n,n.g),n.O)),kf(n.V,n.g,"readystatechange",n.gb),e=n.H?cc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Sl(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var f="",_=l.split("&"),C=0;C<_.length;C++){var S=_[C].split("=");if(1<S.length){var N=S[0];S=S[1];var k=N.split("_");f=2<=k.length&&"type"==k[1]?f+(N+"=")+S+"&":f+(N+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function W(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ve(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=He(n,t),a==w){4==e&&(n.o=4,Pr(14),s=!1),gc(n.j,n.m,null,"[Incomplete Response]");break}if(a==m){n.o=4,Pr(15),gc(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}gc(n.j,n.m,a,null),Ns(n,a)}W(n)&&a!=w&&a!=m&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),p_(e),e.L=!0,Pr(11))):(gc(n.j,n.m,t,"[Invalid Chunked Response]"),Gn(n),Xt(n))}function He(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?w:(t=Number(e.substring(t,s)),isNaN(t)?m:(s+=1)+t>e.length?w:(e=e.substr(s,t),n.C=s+t,e))}function Pe(n){n.Y=Date.now()+n.P,st(n,n.P)}function st(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=su(er(n.eb,n),e)}function Bt(n){n.B&&(ft.clearTimeout(n.B),n.B=null)}function Xt(n){0==n.l.G||n.I||XE(n.l,n)}function Gn(n){Bt(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,fc(n.W),fa(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ns(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||s_(t.i,n)))if(t.I=n.N,!n.J&&s_(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=su(er(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;zg(t),vc(t)}qg(t),Pr(18)}if(1>=i_(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else Fl(t,11)}else if((n.J||t.g==n)&&zg(t),!si(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const N=S[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const k=S[4];null!=k&&(t.za=k,t.h.info("SVER="+t.za));const Q=S[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.K=s=1.5*Q,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const ne=n.g;if(ne){const Ae=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ae){var l=s.i;!l.g&&(Wt(Ae,"spdy")||Wt(Ae,"quic")||Wt(Ae,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(KE(l,l.h),l.h=null))}if(s.D){const Be=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Be&&(s.sa=Be,Pn(s.F,s.D,Be))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((s=t).oa=nw(s,s.H?s.la:null,s.W),f.J){o_(s.i,f);var _=f,C=s.K;C&&_.setTimeout(C),_.B&&(Bt(_),Pe(_)),s.g=f}else Gg(s);0<t.l.length&&hh(t)}else"stop"!=S[0]&&"close"!=S[0]||Fl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Fl(t,7):jg(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Sl(4)}catch(S){}}function yc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sc(n)||"string"==typeof n)ca(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(sc(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(sc(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function Lo(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Lo)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function ah(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];sn(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)sn(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function sn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(qe=mc.prototype).setTimeout=function(n){this.P=n},qe.gb=function(n){n=n.target;const e=this.L;e&&3==pa(n)?e.l():this.Ia(n)},qe.Ia=function(n){try{if(n==this.g)e:{const N=pa(this.g);var e=this.g.Da();const k=this.g.ba();if(!(3>N)&&(3!=N||ze||this.g&&(this.h.h||this.g.ga()||qD(this.g)))){this.I||4!=N||7==e||Sl(8==e||0>=k?3:2),Bt(this);var t=this.g.ba();this.N=t;t:if(W(this)){var s=qD(this.g);n="";var a=s.length,l=4==pa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gn(this),Xt(this);var f="";break t}this.h.i=new ft.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,f){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,C=this.g;if((_=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!si(_)){var S=_;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Pr(12),Gn(this),Xt(this);break e}gc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ns(this,t)}this.U?(ve(this,N,f),ze&&this.i&&3==N&&(kf(this.V,this.W,"tick",this.fb),this.W.start())):(gc(this.j,this.m,f,null),Ns(this,f)),4==N&&Gn(this),this.i&&!this.I&&(4==N?XE(this.l,this):(this.i=!1,Pe(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Gn(this),Xt(this)}}}catch(N){}},qe.fb=function(){if(this.g){var n=pa(this.g),e=this.g.ga();this.C<e.length&&(Bt(this),ve(this,n,e),this.i&&4!=n&&Pe(this))}},qe.cancel=function(){this.I=!0,Gn(this)},qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sl(3),Pr(17)),Gn(this),this.o=2,Xt(this)):st(this,this.Y-n)},(qe=Lo.prototype).R=function(){ah(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},qe.T=function(){return ah(this),this.g.concat()},qe.get=function(n,e){return sn(this.h,n)?this.h[n]:e},qe.set=function(n,e){sn(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},qe.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var jf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Os(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Os){this.g=void 0!==e?e:n.g,uh(this,n.j),this.s=n.s,_c(this,n.i),ch(this,n.m),this.l=n.l,e=n.h;var t=new Gf;t.i=e.i,e.g&&(t.g=new Lo(e.g),t.h=e.h),HE(this,t),this.o=n.o}else n&&(t=String(n).match(jf))?(this.g=!!e,uh(this,t[1]||"",!0),this.s=kr(t[2]||""),_c(this,t[3]||"",!0),ch(this,t[4]),this.l=kr(t[5]||"",!0),HE(this,t[6]||"",!0),this.o=kr(t[7]||"")):(this.g=!!e,this.h=new Gf(null,this.g))}function Ps(n){return new Os(n)}function uh(n,e,t){n.j=t?kr(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _c(n,e,t){n.i=t?kr(e,!0):e}function ch(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HE(n,e,t){e instanceof Gf?(n.h=e,function(n,e){e&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(qE(this,s),ZE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Rl(e,n_)),n.h=new Gf(e,n.g))}function Pn(n,e,t){n.h.set(e,t)}function e_(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kr(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Os.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rl(e,t_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rl(e,t_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rl(t,"/"==t.charAt(0)?Hf:wi,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rl(t,FD)),n.join("")};var t_=/[#\/\?@]/g,wi=/[#\?:]/g,Hf=/[#\?]/g,n_=/[#\?@]/g,FD=/#/g;function Gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uu(n){n.g||(n.g=new Lo,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qE(n,e){uu(n),e=Nl(n,e),sn(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,sn((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ah(n)))}function r_(n,e){return uu(n),e=Nl(n,e),sn(n.g.h,e)}function ZE(n,e,t){qE(n,e),0<t.length&&(n.i=null,n.g.set(Nl(n,e),_i(t)),n.h+=t.length)}function Nl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zE(n){this.l=n||WE,n=ft.PerformanceNavigationTiming?0<(n=ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ft.g&&ft.g.Ea&&ft.g.Ea()&&ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=Gf.prototype).add=function(n,e){uu(this),this.i=null,n=Nl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){uu(this),this.g.forEach(function(t,s){ca(t,function(a){n.call(e,a,s,this)},this)},this)},qe.T=function(){uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},qe.R=function(n){uu(this);var e=[];if("string"==typeof n)r_(this,n)&&(e=Wr(e,this.g.get(Nl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Wr(e,n[t])}return e},qe.set=function(n,e){return uu(this),this.i=null,r_(this,n=Nl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var f=a;""!==s[l]&&(f+="="+encodeURIComponent(String(s[l]))),n.push(f)}}return this.i=n.join("&")};var WE=10;function Vg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function i_(n){return n.h?1:n.g?n.g.size:0}function s_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function KE(n,e){n.g?n.g.add(e):n.h=e}function o_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return _i(n.i)}function a_(){}function UD(){this.g=new a_}function lh(n,e,t){const s=t||"";try{yc(n,function(a,l){let f=a;oc(a)&&(f=ha(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ug(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function Zf(n){this.l=n.$b||null,this.j=n.ib||!1}function Bg(n,e){rr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=u_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zE.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},a_.prototype.stringify=function(n){return ft.JSON.stringify(n,void 0)},a_.prototype.parse=function(n){return ft.JSON.parse(n,void 0)},Nn(Zf,Uf),Zf.prototype.g=function(){return new Bg(this.l,this.j)},Zf.prototype.i=function(n){return function(){return n}}({}),Nn(Bg,rr);var u_=0;function zf(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function bi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dh(n)}function dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=Bg.prototype).open=function(n,e){if(this.readyState!=u_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dh(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bi(this)),this.readyState=u_},qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zf(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bi(this):dh(this),3==this.readyState&&zf(this)}},qe.Ua=function(n){this.g&&(this.response=this.responseText=n,bi(this))},qe.Ta=function(n){this.g&&(this.response=n,bi(this))},qe.ha=function(){this.g&&bi(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jD=ft.JSON.parse;function Ir(n){rr.call(this),this.headers=new Lo,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=c_,this.K=this.L=!1}Nn(Ir,rr);var c_="",c1=/^https?$/i,YE=["POST","PUT"];function HD(n){return"content-type"==n.toLowerCase()}function QE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ol(n),l_(n)}function Ol(n){n.D||(n.D=!0,Or(n,"complete"),Or(n,"error"))}function Vo(n){if(n.h&&void 0!==vn&&(!n.C[1]||4!=pa(n)||2!=n.ba()))if(n.v&&4==pa(n))Og(n.Fa,0,n);else if(Or(n,"readystatechange"),4==pa(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===_){var a=String(n.H).match(jf)[1]||null;if(!a&&ft.self&&ft.self.location){var l=ft.self.location.protocol;a=l.substr(0,l.length-1)}s=!c1.test(a?a.toLowerCase():"")}t=s}if(t)Or(n,"complete"),Or(n,"success");else{n.m=6;try{var f=2<pa(n)?n.g.statusText:""}catch(C){f=""}n.j=f+" ["+n.ba()+"]",Ol(n)}}finally{l_(n)}}}function l_(n,e){if(n.g){GD(n);const t=n.g,s=n.C[0]?Ya:null;n.g=null,n.C=null,e||Or(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function GD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ft.clearTimeout(n.A),n.A=null)}function pa(n){return n.g?n.g.readyState:0}function qD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case c_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wf(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return Qd(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Pl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function JE(n){this.za=0,this.l=[],this.h=new rh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pl("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pl("baseRetryDelayMs",5e3,n),this.$a=Pl("retryDelaySeedMs",1e4,n),this.Ya=Pl("forwardChannelMaxRetries",2,n),this.ra=Pl("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new zE(n&&n.concurrentRequestLimit),this.Ca=new UD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function jg(n){if(d_(n),3==n.G){var e=n.V++,t=Ps(n.F);Pn(t,"SID",n.J),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),Hg(n,t),(e=new mc(n,n.h,e,void 0)).K=2,e.v=e_(Ps(t)),t=!1,ft.navigator&&ft.navigator.sendBeacon&&(t=ft.navigator.sendBeacon(e.v.toString(),"")),!t&&ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=g_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pe(e)}tw(n)}function vc(n){n.g&&(p_(n),n.g.cancel(),n.g=null)}function d_(n){vc(n),n.u&&(ft.clearTimeout(n.u),n.u=null),zg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ft.clearTimeout(n.m),n.m=null)}function $g(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hh(n)}function hh(n){Vg(n.i)||n.m||(n.m=!0,Mf(n.Ha,n),n.C=0)}function f_(n,e){var t;t=e?e.m:n.V++;const s=Ps(n.F);Pn(s,"SID",n.J),Pn(s,"RID",t),Pn(s,"AID",n.U),Hg(n,s),n.o&&n.s&&Wf(s,n.o,n.s),t=new mc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=kl(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),KE(n.i,t),A(t,s,e)}function Hg(n,e){n.j&&yc({},function(t,s){Pn(e,s,t)})}function kl(n,e,t){t=Math.min(n.l.length,t);var s=n.j?er(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let _=!0;for(let C=0;C<t;C++){let S=a[C].h;const N=a[C].g;if(S-=l,0>S)l=Math.max(0,a[C].h-100),_=!1;else try{lh(N,f,"req"+S+"_")}catch(k){s&&s(N)}}if(_){s=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function Gg(n){n.g||n.u||(n.Y=1,Mf(n.Ga,n),n.A=0)}function qg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=su(er(n.Ga,n),ew(n,n.A)),n.A++,0))}function p_(n){null!=n.B&&(ft.clearTimeout(n.B),n.B=null)}function Zg(n){n.g=new mc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ps(n.oa);Pn(e,"RID","rpc"),Pn(e,"SID",n.J),Pn(e,"CI",n.N?"0":"1"),Pn(e,"AID",n.U),Hg(n,e),Pn(e,"TYPE","xmlhttp"),n.o&&n.s&&Wf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=e_(Ps(e)),t.s=null,t.U=!0,x(t,n)}function zg(n){null!=n.v&&(ft.clearTimeout(n.v),n.v=null)}function XE(n,e){var t=null;if(n.g==e){zg(n),p_(n),n.g=null;var s=2}else{if(!s_(n.i,e))return;t=e.D,o_(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Or(s=sh(),new Lf(s,t,e,a)),hh(n)}else Gg(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(i_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=su(er(n.Ha,n,e),ew(n,n.C)),n.C++,0)))}(n,e)||2==s&&qg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Fl(n,5);break;case 4:Fl(n,10);break;case 3:Fl(n,6);break;default:Fl(n,2)}}function ew(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Fl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=er(n.jb,n);t||(t=new Os("//www.google.com/images/cleardot.gif"),ft.location&&"http"==ft.location.protocol||uh(t,"https"),e_(t)),function(n,e){const t=new rh;if(ft.Image){const s=new Image;s.onload=Ja(Ug,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ja(Ug,t,s,"TestLoadImage: error",!1,e),s.onabort=Ja(Ug,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ja(Ug,t,s,"TestLoadImage: timeout",!1,e),ft.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Pr(2);n.G=0,n.j&&n.j.va(e),tw(n),d_(n)}function tw(n){n.G=0,n.I=-1,n.j&&((0!=qf(n.i).length||0!=n.l.length)&&(n.i.i.length=0,_i(n.l),n.l.length=0),n.j.ua())}function nw(n,e,t){let s=function(n){return n instanceof Os?Ps(n):new Os(n,void 0)}(t);if(""!=s.i)e&&_c(s,e+"."+s.i),ch(s,s.m);else{const a=ft.location;s=function(n,e,t,s){var a=new Os(null,void 0);return n&&uh(a,n),e&&_c(a,e),t&&ch(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Qd(n.aa,function(a,l){Pn(s,l,a)}),t=n.sa,(e=n.D)&&t&&Pn(s,e,t),Pn(s,"VER",n.ma),Hg(n,s),s}function g_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(t&&n.Ba&&!n.qa?new Zf({ib:!0}):n.qa)).L=n.H,e}function Wg(){}function Kf(){if(ue&&!(10<=Number(lc)))throw Error("Environmental error: no available transport.")}function Hi(n,e){rr.call(this),this.g=new JE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!si(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!si(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ll(this)}function rw(n){xl.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iw(){cs.call(this),this.status=1}function Ll(n){this.g=n}(qe=Ir.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ou.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:ou),this.g.onreadystatechange=er(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void QE(this,l)}n=t||"";const a=new Lo(this.headers);s&&yc(s,function(l,f){a.set(f,l)}),s=function(n){e:{var e=HD;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=ft.FormData&&n instanceof ft.FormData,!(0<=Xa(YE,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GD(this),0<this.B&&((this.K=function(n){return ue&&Ei()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=er(this.pa,this)):this.A=Og(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){QE(this,l)}},qe.pa=function(){void 0!==vn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Or(this,"complete"),Or(this,"abort"),l_(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),l_(this,!0)),Ir.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?Vo(this):this.cb())},qe.cb=function(){Vo(this)},qe.ba=function(){try{return 2<pa(this)?this.g.status:-1}catch(n){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jD(e)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=JE.prototype).ma=8,qe.G=1,qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new mc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=cc(l),D(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=kl(this,a,e),Pn(t=Ps(this.F),"RID",n),Pn(t,"CVER",22),this.D&&Pn(t,"X-HTTP-Session-Id",this.D),Hg(this,t),this.o&&l&&Wf(t,this.o,l),KE(this.i,a),this.Ra&&Pn(t,"TYPE","init"),this.ja?(Pn(t,"$req",e),Pn(t,"SID","null"),a.$=!0,A(a,t,null)):A(a,t,e),this.G=2}}else 3==this.G&&(n?f_(this,n):0==this.l.length||Vg(this.i)||f_(this))},qe.Ga=function(){if(this.u=null,Zg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=su(er(this.bb,this),n)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),vc(this),Zg(this))},qe.ab=function(){null!=this.v&&(this.v=null,vc(this),qg(this),Pr(19))},qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(qe=Wg.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},Kf.prototype.g=function(n,e){return new Hi(n,e)},Nn(Hi,rr),Hi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Mf(er(n.hb,n,e))),Pr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=nw(n,null,n.W),hh(n)},Hi.prototype.close=function(){jg(this.g)},Hi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,$g(this.g,e)}else this.v?((e={}).__data__=ha(n),$g(this.g,e)):$g(this.g,n)},Hi.prototype.M=function(){this.g.j=null,delete this.j,jg(this.g),delete this.g,Hi.Z.M.call(this)},Nn(rw,xl),Nn(iw,cs),Nn(Ll,Wg),Ll.prototype.xa=function(){Or(this.g,"a")},Ll.prototype.wa=function(n){Or(this.g,new rw(n))},Ll.prototype.va=function(n){Or(this.g,new iw(n))},Ll.prototype.ua=function(){Or(this.g,"b")},Kf.prototype.createWebChannel=Kf.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,oh.NO_ERROR=0,oh.TIMEOUT=8,oh.HTTP_ERROR=6,Vf.COMPLETE="complete",Fg.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",rr.prototype.listen=rr.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var sw=ko.createWebChannelTransport=function(){return new Kf},Vl=ko.getStatEventTarget=function(){return sh()},Kg=ko.ErrorCode=oh,ow=ko.EventType=Vf,ZD=ko.Event=us,Yf=ko.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zD=ko.FetchXmlHttpFactory=Zf,Qf=ko.WebChannel=Fg,aw=ko.XhrIo=Ir;const m_="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Ul="9.4.0";const Uo=new to.Yd("@firebase/firestore");function fh(){return Uo.logLevel}function ke(n,...e){if(Uo.logLevel<=to.in.DEBUG){const t=e.map(jl);Uo.debug(`Firestore (${Ul}): ${n}`,...t)}}function hr(n,...e){if(Uo.logLevel<=to.in.ERROR){const t=e.map(jl);Uo.error(`Firestore (${Ul}): ${n}`,...t)}}function Bl(n,...e){if(Uo.logLevel<=to.in.WARN){const t=e.map(jl);Uo.warn(`Firestore (${Ul}): ${n}`,...t)}}function jl(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function pt(n,e){n||nt()}function je(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class KD{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class YD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lw{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let f=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Lr,e.enqueueRetryable(()=>l(this.currentUser))};const _=()=>{const S=f;e.enqueueRetryable((0,he.Z)(function*(){yield S.promise,yield l(s.currentUser)}))},C=S=>{ke("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(S=>C(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?C(S):(ke("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Lr)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ke("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pt("string"==typeof s.accessToken),new KD(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new Fr(e)}}class QD{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Fr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class JD{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new QD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function XD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}qn.T=-1;class y_{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=XD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function jt(n,e){return n<e?-1:n>e?1:0}function ph(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function dw(n){return n+"\0"}class Kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Kr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Kr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function hw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $l(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gt{constructor(e,t,s){void 0===t?t=0:t>e.length&&nt(),void 0===s?s=e.length-t:s>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===gt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gt?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends gt{construct(e,t,s){return new on(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Me(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new on(t)}static emptyPath(){return new on([])}}const pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends gt{construct(e,t,s){return new Dr(e,t,s)}static isValidIdentifier(e){return pw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Me(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Me(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[a+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Me(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=C,a+=2}else"`"===_?(f=!f,a++):"."!==_||f?(s+=_,a++):(l(),a++)}if(l(),f)throw new Me(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(t)}static emptyPath(){return new Dr([])}}class Ci{constructor(e){this.fields=e,e.sort(Dr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ph(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Yr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const __=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(pt(!!n),"string"==typeof n){let e=0;const t=__.exec(n);if(pt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hl(n){return"string"==typeof n?Yr.fromBase64String(n):Yr.fromUint8Array(n)}function Jf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eT(n){const e=n.mapValue.fields.__previous_value__;return Jf(e)?eT(e):e}function gh(n){const e=Ii(n.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}function mh(n){return null==n}function uo(n){return 0===n&&1/n==-1/0}function Xf(n){return"number"==typeof n&&Number.isInteger(n)&&!uo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(on.fromString(e))}static fromName(e){return new Qe(on.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new on(e.slice()))}}function cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jf(n)?4:10:nt()}function lu(n,e){const t=cu(n);if(t!==cu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gh(n).isEqual(gh(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ii(s.timestampValue),f=Ii(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Hl(n.bytesValue).isEqual(Hl(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ir(s.geoPointValue.latitude)===ir(a.geoPointValue.latitude)&&ir(s.geoPointValue.longitude)===ir(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ir(s.integerValue)===ir(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ir(s.doubleValue),f=ir(a.doubleValue);return l===f?uo(l)===uo(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return ph(n.arrayValue.values||[],e.arrayValue.values||[],lu);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(hw(l)!==hw(f))return!1;for(const _ in l)if(l.hasOwnProperty(_)&&(void 0===f[_]||!lu(l[_],f[_])))return!1;return!0}(n,e);default:return nt()}var a}function ep(n,e){return void 0!==(n.values||[]).find(t=>lu(t,e))}function Gl(n,e){const t=cu(n),s=cu(e);if(t!==s)return jt(t,s);switch(t){case 0:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=ir(a.integerValue||a.doubleValue),_=ir(l.integerValue||l.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(n,e);case 3:return tT(n.timestampValue,e.timestampValue);case 4:return tT(gh(n),gh(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(a,l){const f=Hl(a),_=Hl(l);return f.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),_=l.split("/");for(let C=0;C<f.length&&C<_.length;C++){const S=jt(f[C],_[C]);if(0!==S)return S}return jt(f.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=jt(ir(a.latitude),ir(l.latitude));return 0!==f?f:jt(ir(a.longitude),ir(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],_=l.values||[];for(let C=0;C<f.length&&C<_.length;++C){const S=Gl(f[C],_[C]);if(S)return S}return jt(f.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const f=a.fields||{},_=Object.keys(f),C=l.fields||{},S=Object.keys(C);_.sort(),S.sort();for(let N=0;N<_.length&&N<S.length;++N){const k=jt(_[N],S[N]);if(0!==k)return k;const Q=Gl(f[_[N]],C[S[N]]);if(0!==Q)return Q}return jt(_.length,S.length)}(n.mapValue,e.mapValue);default:throw nt()}}function tT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Ii(n),s=Ii(e),a=jt(t.seconds,s.seconds);return 0!==a?a:jt(t.nanos,s.nanos)}function v_(n){return mw(n)}function mw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Ii(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hl(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=mw(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const _ of a)f?f=!1:l+=",",l+=`${_}:${mw(s.fields[_])}`;return l+"}"}(n.mapValue):nt();var e}function tp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yg(n){return!!n&&"integerValue"in n}function E_(n){return!!n&&"arrayValue"in n}function Qg(n){return!!n&&"nullValue"in n}function nT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w_(n){return!!n&&"mapValue"in n}function Jg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $l(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Jg(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jg(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!w_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jg(t)}setAll(e){let t=Dr.emptyPath(),s={},a=[];e.forEach((f,_)=>{if(!t.isImmediateParentOf(_)){const C=this.getFieldsMap(t);this.applyChanges(C,s,a),s={},a=[],t=_.popLast()}f?s[_.lastSegment()]=Jg(f):a.push(_.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());w_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];w_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){$l(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Gi(Jg(this.value))}}function rT(n){const e=[];return $l(n.fields,(t,s)=>{const a=new Dr([t]);if(w_(s)){const l=rT(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Ci(e)}class Zn{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Zn(e,0,Dt.min(),Gi.empty(),0)}static newFoundDocument(e,t,s){return new Zn(e,1,t,s,0)}static newNoDocument(e,t){return new Zn(e,2,t,Gi.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,Gi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Zn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class l1{constructor(e,t=null,s=[],a=[],l=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=_,this.A=null}}function iT(n,e=null,t=[],s=[],a=null,l=null,f=null){return new l1(n,e,t,s,a,l,f)}function Xg(n){const e=je(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+v_(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=yh(e.startAt)),e.endAt&&(t+="|ub:",t+=yh(e.endAt)),e.A=t}return e.A}function b_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!Ew(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!lu(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bw(n.startAt,e.startAt)&&bw(n.endAt,e.endAt)}function Bo(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class oi extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new yw(e,t,s):"array-contains"===t?new oT(e,s):"in"===t?new Ec(e,s):"not-in"===t?new vw(e,s):"array-contains-any"===t?new aT(e,s):new oi(e,t,s)}static R(e,t,s){return"in"===t?new C_(e,s):new _w(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Gl(t,this.value)):null!==t&&cu(this.value)===cu(t)&&this.P(Gl(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class yw extends oi{constructor(e,t,s){super(e,t,s),this.key=Qe.fromName(s.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.P(t)}}class C_ extends oi{constructor(e,t){super(e,"in",t),this.keys=em(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _w extends oi{constructor(e,t){super(e,"not-in",t),this.keys=em(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function em(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Qe.fromName(s.referenceValue))}class oT extends oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return E_(t)&&ep(t.arrayValue,this.value)}}class Ec extends oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ep(this.value.arrayValue,t)}}class vw extends oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ep(this.value.arrayValue,t)}}class aT extends oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!E_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ep(this.value.arrayValue,s))}}class tm{constructor(e,t){this.position=e,this.before=t}}function yh(n){return`${n.before?"b":"a"}:${n.position.map(e=>v_(e)).join(",")}`}class _h{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ew(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ww(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(s=l.field.isKeyField()?Qe.comparator(Qe.fromName(f.referenceValue),t.key):Gl(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function bw(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lu(n.position[t],e.position[t]))return!1;return!0}class ks{constructor(e,t=null,s=[],a=[],l=null,f="F",_=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=_,this.endAt=C,this.V=null,this.S=null}}function ql(n,e,t,s,a,l,f,_){return new ks(n,e,t,s,a,l,f,_)}function wc(n){return new ks(n)}function du(n){return!mh(n.limit)&&"F"===n.limitType}function bc(n){return!mh(n.limit)&&"L"===n.limitType}function Cc(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function I_(n){for(const e of n.filters)if(e.v())return e.field;return null}function nm(n){return null!==n.collectionGroup}function Zl(n){const e=je(n);if(null===e.V){e.V=[];const t=I_(e),s=Cc(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new _h(t)),e.V.push(new _h(Dr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new _h(Dr.keyField(),l))}}}return e.V}function ls(n){const e=je(n);if(!e.S)if("F"===e.limitType)e.S=iT(e.path,e.collectionGroup,Zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Zl(e))t.push(new _h(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new tm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new tm(e.startAt.position,!e.startAt.before):null;e.S=iT(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function rm(n,e,t){return new ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vh(n,e){return b_(ls(n),ls(e))&&n.limitType===e.limitType}function np(n){return`${Xg(ls(n))}|lt:${n.limitType}`}function D_(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${v_(s.value)}`;var s}).join(", ")}]`),mh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+yh(n.startAt)),n.endAt&&(e+=", endAt: "+yh(n.endAt)),`Target(${e})`}(ls(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Qe.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!ww(t.startAt,Zl(t),s)||t.endAt&&ww(t.endAt,Zl(t),s)));var t,s}function uT(n){return(e,t)=>{let s=!1;for(const a of Zl(n)){const l=Cw(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function Cw(n,e,t){const s=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(a,l,f){const _=l.data.field(a),C=f.data.field(a);return null!==_&&null!==C?Gl(_,C):nt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return nt()}}function T_(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(e)?"-0":e}}function Iw(n){return{integerValue:""+n}}function A_(n,e){return Xf(e)?Iw(e):T_(n,e)}class im{constructor(){this._=void 0}}function cT(n,e,t){return n instanceof wh?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof bh?lT(n,e):n instanceof Ic?dT(n,e):function(s,a){const l=Dw(s,a),f=sm(l)+sm(s.C);return Yg(l)&&Yg(s.C)?Iw(f):T_(s.N,f)}(n,e)}function Fs(n,e,t){return n instanceof bh?lT(n,e):n instanceof Ic?dT(n,e):t}function Dw(n,e){return n instanceof Ch?Yg(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class wh extends im{}class bh extends im{constructor(e){super(),this.elements=e}}function lT(n,e){const t=S_(e);for(const s of n.elements)t.some(a=>lu(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ic extends im{constructor(e){super(),this.elements=e}}function dT(n,e){let t=S_(e);for(const s of n.elements)t=t.filter(a=>!lu(a,s));return{arrayValue:{values:t}}}class Ch extends im{constructor(e,t){super(),this.N=e,this.C=t}}function sm(n){return ir(n.integerValue||n.doubleValue)}function S_(n){return E_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rp{constructor(e,t){this.field=e,this.transform=t}}class fT{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function om(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ip{}function pT(n,e,t){n instanceof ds?function(s,a,l){const f=s.value.clone(),_=xw(s.fieldTransforms,a,l.transformResults);f.setAll(_),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ma?function(s,a,l){if(!om(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=xw(s.fieldTransforms,a,l.transformResults),_=a.data;_.setAll(Sw(s)),_.setAll(f),a.convertToFoundDocument(l.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function x_(n,e,t){var a;n instanceof ds?function(s,a,l){if(!om(s.precondition,a))return;const f=s.value.clone(),_=gT(s.fieldTransforms,l,a);f.setAll(_),a.convertToFoundDocument(Aw(a),f).setHasLocalMutations()}(n,e,t):n instanceof ma?function(s,a,l){if(!om(s.precondition,a))return;const f=gT(s.fieldTransforms,l,a),_=a.data;_.setAll(Sw(s)),_.setAll(f),a.convertToFoundDocument(Aw(a),_).setHasLocalMutations()}(n,e,t):om(n.precondition,a=e)&&a.convertToNoDocument(Dt.min())}function Tw(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=Dw(s.transform,a||null);null!=l&&(null==t&&(t=Gi.empty()),t.set(s.field,l))}return t||null}function M_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&ph(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof bh&&s instanceof bh||t instanceof Ic&&s instanceof Ic?ph(t.elements,s.elements,lu):t instanceof Ch&&s instanceof Ch?lu(t.C,s.C):t instanceof wh&&s instanceof wh);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function Aw(n){return n.isFoundDocument()?n.version:Dt.min()}class ds extends ip{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class ma extends ip{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function Sw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function xw(n,e,t){const s=new Map;pt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,_=e.data.field(l.field);s.set(l.field,Fs(f,_,t[a]))}return s}function gT(n,e,t){const s=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);s.set(a.field,cT(l,f,e))}return s}class Ih extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class R_ extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class mT{constructor(e){this.count=e}}var Tr,$t;function Mw(n){switch(n){default:return nt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Rw(n){if(void 0===n)return hr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Tr.OK:return fe.OK;case Tr.CANCELLED:return fe.CANCELLED;case Tr.UNKNOWN:return fe.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return fe.INTERNAL;case Tr.UNAVAILABLE:return fe.UNAVAILABLE;case Tr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Tr.NOT_FOUND:return fe.NOT_FOUND;case Tr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Tr.ABORTED:return fe.ABORTED;case Tr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Tr.DATA_LOSS:return fe.DATA_LOSS;default:return nt()}}($t=Tr||(Tr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class sr{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:ai.RED,this.left=null!=a?a:ai.EMPTY,this.right=null!=l?l:ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new ai(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ai.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new am(this.data.getIterator())}getIteratorFrom(e){return new am(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class am{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Nw=new sr(Qe.comparator);function co(){return Nw}const yT=new sr(Qe.comparator);function sp(){return yT}const h1=new sr(Qe.comparator);function Ow(){return h1}const Pw=new kn(Qe.comparator);function dn(...n){let e=Pw;for(const t of n)e=e.add(t);return e}const kw=new kn(jt);function op(){return kw}class Th{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ls.createSynthesizedTargetChangeForCurrentChange(e,t)),new Th(Dt.min(),s,op(),co(),dn())}}class Ls{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ls(Yr.EMPTY_BYTE_STRING,t,dn(),dn(),dn())}}class zl{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class Fw{constructor(e,t){this.targetId=e,this.O=t}}class Lw{constructor(e,t,s=Yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class _T{constructor(){this.F=0,this.M=Sh(),this.L=Yr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=dn(),t=dn(),s=dn();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:nt()}}),new Ls(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=Sh()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Ah{constructor(e){this.tt=e,this.et=new Map,this.nt=co(),this.st=N_(),this.it=new kn(jt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(Bo(l))if(0===s){const f=new Qe(l.path);this.ct(t,f,Zn.newNoDocument(f,Dt.min()))}else pt(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,f)=>{const _=this.dt(f);if(_){if(l.current&&Bo(_.target)){const C=new Qe(_.target.path);null!==this.nt.get(C)||this.gt(f,C)||this.ct(f,C,Zn.newNoDocument(C,e))}l.K&&(t.set(f,l.W()),l.G())}});let s=dn();this.st.forEach((l,f)=>{let _=!0;f.forEachWhile(C=>{const S=this.dt(C);return!S||2===S.purpose||(_=!1,!1)}),_&&(s=s.add(l))});const a=new Th(e,t,this.it,this.nt,s);return this.nt=co(),this.st=N_(),this.it=new kn(jt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new _T,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new kn(jt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new _T),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function N_(){return new sr(Qe.comparator)}function Sh(){return new sr(Qe.comparator)}const ap={asc:"ASCENDING",desc:"DESCENDING"},vT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class O_{constructor(e,t){this.databaseId=e,this.D=t}}function xh(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vw(n,e){return n.D?e.toBase64():e.toUint8Array()}function Uw(n,e){return xh(n,e.toTimestamp())}function Qr(n){return pt(!!n),Dt.fromTimestamp(function(e){const t=Ii(e);return new Kr(t.seconds,t.nanos)}(n))}function up(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Bw(n){const e=on.fromString(n);return pt(Zw(e)),e}function cp(n,e){return up(n.databaseId,e.path)}function jo(n,e){const t=Bw(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(jw(t))}function Dc(n,e){return up(n.databaseId,e)}function P_(n){const e=Bw(n);return 4===e.length?on.emptyPath():jw(e)}function lp(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jw(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Wl(n,e,t){return{name:cp(n,e),fields:t.value.mapValue.fields}}function $w(n,e,t){const s=jo(n,e.name),a=Qr(e.updateTime),l=new Gi({mapValue:{fields:e.fields}}),f=Zn.newFoundDocument(s,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function um(n,e){let t;if(e instanceof ds)t={update:Wl(n,e.key,e.value)};else if(e instanceof Ih)t={delete:cp(n,e.key)};else if(e instanceof ma)t={update:Wl(n,e.key,e.data),updateMask:qw(e.fieldMask)};else{if(!(e instanceof R_))return nt();t={verify:cp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof wh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ic)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ch)return{fieldPath:l.field.canonicalString(),increment:f.C};throw nt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Uw(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:nt()),t;var a}function bT(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?fr.updateTime(Qr(a.updateTime)):void 0!==a.exists?fr.exists(a.exists):fr.none():fr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let _=null;"setToServerValue"in f?(pt("REQUEST_TIME"===f.setToServerValue),_=new wh):"appendMissingElements"in f?_=new bh(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new Ic(f.removeAllFromArray.values||[]):"increment"in f?_=new Ch(l,f.increment):nt();const C=Dr.fromServerFormat(f.fieldPath);return new rp(C,_)}(n,a)):[];var a;if(e.update){const a=jo(n,e.update.name),l=new Gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Ci((e.updateMask.fieldPaths||[]).map(S=>Dr.fromServerFormat(S)));return new ma(a,l,f,t,s)}return new ds(a,l,t,s)}if(e.delete){const a=jo(n,e.delete);return new Ih(a,t)}if(e.verify){const a=jo(n,e.verify);return new R_(a,t)}return nt()}function k_(n,e){return{documents:[Dc(n,e.path)]}}function xn(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Dc(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dc(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(_){if(0===_.length)return;const C=_.map(S=>function(N){if("=="===N.op){if(nT(N.value))return{unaryFilter:{field:Mh(N.field),op:"IS_NAN"}};if(Qg(N.value))return{unaryFilter:{field:Mh(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(nT(N.value))return{unaryFilter:{field:Mh(N.field),op:"IS_NOT_NAN"}};if(Qg(N.value))return{unaryFilter:{field:Mh(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mh(N.field),op:IT(N.op),value:N.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(_){if(0!==_.length)return _.map(C=>{return{field:Mh((S=C).field),direction:p1(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(C=e.limit,n.D||mh(C)?C:{value:C});var C;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=lm(e.startAt)),e.endAt&&(t.structuredQuery.endAt=lm(e.endAt)),t}function cm(n){let e=P_(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){pt(1===s);const N=t.from[0];N.allDescendants?a=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=ya(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(N=>{return new _h(Kl((k=N).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let _=null;t.limit&&(_=function(N){let k;return k="object"==typeof N?N.value:N,mh(k)?null:k}(t.limit));let C=null;t.startAt&&(C=dm(t.startAt));let S=null;return t.endAt&&(S=dm(t.endAt)),ql(e,a,f,l,_,"F",C,S)}function ya(n){return n?void 0!==n.unaryFilter?[Gw(n)]:void 0!==n.fieldFilter?[Hw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ya(e)).reduce((e,t)=>e.concat(t)):nt():[]}function lm(n){return{before:n.before,values:n.position}}function dm(n){return new tm(n.values||[],!!n.before)}function p1(n){return ap[n]}function IT(n){return vT[n]}function Mh(n){return{fieldPath:n.canonicalString()}}function Kl(n){return Dr.fromServerFormat(n.fieldPath)}function Hw(n){return oi.create(Kl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Gw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Kl(n.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Kl(n.unaryFilter.field);return oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Kl(n.unaryFilter.field);return oi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Kl(n.unaryFilter.field);return oi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function qw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $o(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hm(e)),e=dp(n.get(t),e);return hm(e)}function dp(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function hm(n){return n+"\x01\x01"}function _a(n){const e=n.length;if(pt(e>=2),2===e)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&nt(),n.charAt(f+1)){case"\x01":const _=n.substring(l,f);let C;0===a.length?C=_:(a+=_,C=a,a=""),s.push(C);break;case"\x10":a+=n.substring(l,f),a+="\0";break;case"\x11":a+=n.substring(l,f+1);break;default:nt()}l=f+2}return new on(s)}class zw{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class hs{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}hs.store="owner",hs.key="owner";class hu{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}hu.store="mutationQueues",hu.keyPath="userId";class Mn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}Mn.store="mutations",Mn.keyPath="batchId",Mn.userMutationsIndex="userMutationsIndex",Mn.userMutationsKeyPath=["userId","batchId"];class Di{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,$o(t)]}static key(e,t,s){return[e,$o(t),s]}}Di.store="documentMutations",Di.PLACEHOLDER=new Di;class DT{constructor(e,t){this.path=e,this.readTime=t}}class TT{constructor(e,t){this.path=e,this.version=t}}class zn{constructor(e,t,s,a,l,f){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=f}}zn.store="remoteDocuments",zn.readTimeIndex="readTimeIndex",zn.readTimeIndexPath="readTime",zn.collectionReadTimeIndex="collectionReadTimeIndex",zn.collectionReadTimeIndexPath=["parentPath","readTime"];class fu{constructor(e){this.byteSize=e}}fu.store="remoteDocumentGlobal",fu.key="remoteDocumentGlobalKey";class qi{constructor(e,t,s,a,l,f,_){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=f,this.query=_}}qi.store="targets",qi.keyPath="targetId",qi.queryTargetsIndexName="queryTargetsIndex",qi.queryTargetsKeyPath=["canonicalId","targetId"];class ui{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}ui.store="targetDocuments",ui.keyPath=["targetId","path"],ui.documentTargetsIndex="documentTargetsIndex",ui.documentTargetsKeyPath=["path","targetId"];class Vs{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}Vs.key="targetGlobalKey",Vs.store="targetGlobal";class Rh{constructor(e,t){this.collectionId=e,this.parent=t}}Rh.store="collectionParents",Rh.keyPath=["collectionId","parent"];class Tc{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}Tc.store="clientMetadata",Tc.keyPath="clientId";class Ac{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Ac.store="bundles",Ac.keyPath="bundleId";class Nh{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}Nh.store="namedQueries",Nh.keyPath="name";const Ww=[hu.store,Mn.store,Di.store,zn.store,qi.store,hs.store,Vs.store,ui.store,Tc.store,fu.store,Rh.store,Ac.store,Nh.store],F_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,s)=>{t(e)})}static reject(e){return new De((t,s)=>{s(e)})}static waitFor(e){return new De((t,s)=>{let a=0,l=0,f=!1;e.forEach(_=>{++a,_.next(()=>{++l,f&&l===a&&t()},C=>s(C))}),f=!0,l===a&&t()})}static or(e){let t=De.resolve(!1);for(const s of e)t=t.next(a=>a?De.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class L_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Lr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Oh(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=fm(s.target.error);this.Et.reject(new Oh(e,a))}}static open(e,t,s,a){try{return new L_(t,e.transaction(a,s))}catch(l){throw new Oh(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Kw(t)}}class va{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===va.Rt((0,Mt.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Yl(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Mt.hl)())return!1;if(va.Pt())return!0;const e=(0,Mt.z$)(),t=va.Rt(e),s=0<t&&t<10,a=va.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,he.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{s(f.target.result)},l.onblocked=()=>{a(new Oh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const _=f.target.error;a("VersionError"===_.name?new Me(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Me(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Oh(e,_))},l.onupgradeneeded=f=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.At.Ct(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,he.Z)(function*(){const f="readonly"===t;let _=0;for(;;){++_;try{l.db=yield l.Dt(e);const C=L_.open(l.db,e,f?"readonly":"readwrite",s),S=a(C).catch(N=>(C.abort(N),De.reject(N))).toPromise();return S.catch(()=>{}),yield C.It,S}catch(C){const S="FirebaseError"!==C.name&&_<3;if(ke("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),l.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class g1{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Yl(this.kt.delete())}}class Oh extends Me{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sc(n){return"IndexedDbTransactionError"===n.name}class Kw{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Yl(s)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Yl(this.store.add(e))}get(e){return Yl(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Yl(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Yl(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,f)=>{a.push(f)}).next(()=>a)}Ut(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,f,_)=>_.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new De((s,a)=>{t.onerror=l=>{const f=fm(l.target.error);a(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(_=>{_?f.continue():s()}):s()}})}Bt(e,t){const s=[];return new De((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const _=f.target.result;if(!_)return void a();const C=new g1(_),S=t(_.primaryKey,_.value,C);if(S instanceof De){const N=S.catch(k=>(C.done(),De.reject(k)));s.push(N)}C.isDone?a():null===C.Ft?_.continue():_.continue(C.Ft)}}).next(()=>De.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yl(n){return new De((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=fm(s.target.error);t(a)}})}let ST=!1;function fm(n){const e=va.Rt((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ST||(ST=!0,setTimeout(()=>{throw s},0)),s}}return n}class pm extends AT{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function fs(n,e){const t=je(n);return va.St(t.Qt,e)}class hp{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&pT(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&x_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&x_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&ph(this.mutations,e.mutations,(t,s)=>M_(t,s))&&ph(this.baseMutations,e.baseMutations,(t,s)=>M_(t,s))}}class V_{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){pt(e.mutations.length===s.length);let a=Ow();const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new V_(e,t,s,a)}}class xc{constructor(e,t,s,a,l=Dt.min(),f=Dt.min(),_=Yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(e){return new xc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Yw{constructor(e){this.Wt=e}}function U_(n,e){if(e.document)return $w(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Qe.fromSegments(e.noDocument.path),s=Ql(e.noDocument.readTime),a=Zn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Qe.fromSegments(e.unknownDocument.path),s=Ql(e.unknownDocument.version);return Zn.newUnknownDocument(t,s)}return nt()}function Qw(n,e,t){const s=B_(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:cp(_=n.Wt,(C=e).key),fields:C.data.value.mapValue.fields,updateTime:xh(_,C.version.toTimestamp())};return new zn(null,null,l,e.hasCommittedMutations,s,a)}var _,C;if(e.isNoDocument()){const l=e.key.path.toArray(),f=Ho(e.version),_=e.hasCommittedMutations;return new zn(null,new DT(l,f),null,_,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),f=Ho(e.version);return new zn(new TT(l,f),null,null,!0,s,a)}return nt()}function B_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fp(n){const e=new Kr(n[0],n[1]);return Dt.fromTimestamp(e)}function Ho(n){const e=n.toTimestamp();return new zw(e.seconds,e.nanoseconds)}function Ql(n){const e=new Kr(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Ti(n,e){const t=(e.baseMutations||[]).map(l=>bT(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>bT(n.Wt,l)),a=Kr.fromMillis(e.localWriteTimeMs);return new hp(e.batchId,a,t,s)}function pu(n){const e=Ql(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ql(n.lastLimboFreeSnapshotVersion):Dt.min();let s;var a;return void 0!==n.query.documents?(pt(1===(a=n.query).documents.length),s=ls(wc(P_(a.documents[0])))):s=ls(cm(n.query)),new xc(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Yr.fromBase64String(n.resumeToken))}function Jw(n,e){const t=Ho(e.snapshotVersion),s=Ho(e.lastLimboFreeSnapshotVersion);let a;a=Bo(e.target)?k_(n.Wt,e.target):xn(n.Wt,e.target);const l=e.resumeToken.toBase64();return new qi(e.targetId,Xg(e.target),t,l,e.sequenceNumber,s,a)}function j_(n){const e=cm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rm(e,e.limit,"L"):e}class $_{getBundleMetadata(e,t){return Go(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Ql(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Go(e).put({bundleId:(s=t).id,createTime:Ho(Qr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ph(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:j_(a.bundledQuery),readTime:Ql(a.readTime)};var a})}saveNamedQuery(e,t){return Ph(e).put({name:(s=t).name,readTime:Ho(Qr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Go(n){return fs(n,Ac.store)}function Ph(n){return fs(n,Nh.store)}class Ai{constructor(){this.Gt=new gu}addToCollectionParentIndex(e,t){return this.Gt.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.Gt.getEntries(t))}}class gu{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new kn(on.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new kn(on.comparator)).toArray()}}class gm{constructor(){this.zt=new gu}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:$o(a)};return Us(e).put(l)}return De.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[dw(t),""],!1,!0);return Us(e).Lt(a).next(l=>{for(const f of l){if(f.collectionId!==t)break;s.push(_a(f.parent))}return s})}}function Us(n){return fs(n,Rh.store)}const mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vr{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jl(n,e,t){const s=n.store(Mn.store),a=n.store(Di.store),l=[],f=IDBKeyRange.only(t.batchId);let _=0;const C=s.Kt({range:f},(N,k,Q)=>(_++,Q.delete()));l.push(C.next(()=>{pt(1===_)}));const S=[];for(const N of t.mutations){const k=Di.key(e,N.key.path,t.batchId);l.push(a.delete(k)),S.push(N.key)}return De.waitFor(l).next(()=>S)}function mu(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class Mc{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){pt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Mc(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).Kt({index:Mn.userMutationsIndex,range:s},(a,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=qo(e),f=Bs(e);return f.add({}).next(_=>{pt("number"==typeof _);const C=new hp(_,t,s,a),S=function(Q,ne,Ae){const Be=Ae.baseMutations.map(Gt=>um(Q.Wt,Gt)),Ye=Ae.mutations.map(Gt=>um(Q.Wt,Gt));return new Mn(ne,Ae.batchId,Ae.localWriteTime.toMillis(),Be,Ye)}(this.N,this.userId,C),N=[];let k=new kn((Q,ne)=>jt(Q.canonicalString(),ne.canonicalString()));for(const Q of a){const ne=Di.key(this.userId,Q.key.path,_);k=k.add(Q.key.path.popLast()),N.push(f.put(S)),N.push(l.put(ne,Di.PLACEHOLDER))}return k.forEach(Q=>{N.push(this.Ht.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.Jt[_]=C.keys()}),De.waitFor(N).next(()=>C)})}lookupMutationBatch(e,t){return Bs(e).get(t).next(s=>s?(pt(s.userId===this.userId),Ti(this.N,s)):null)}Xt(e,t){return this.Jt[t]?De.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Bs(e).Kt({index:Mn.userMutationsIndex,range:a},(f,_,C)=>{_.userId===this.userId&&(pt(_.batchId>=s),l=Ti(this.N,_)),C.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Bs(e).Kt({index:Mn.userMutationsIndex,range:t,reverse:!0},(a,l,f)=>{s=l.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).Lt(Mn.userMutationsIndex,t).next(s=>s.map(a=>Ti(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Di.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return qo(e).Kt({range:a},(f,_,C)=>{const[S,N,k]=f,Q=_a(N);if(S===this.userId&&t.path.isEqual(Q))return Bs(e).get(k).next(ne=>{if(!ne)throw nt();pt(ne.userId===this.userId),l.push(Ti(this.N,ne))});C.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kn(jt);const a=[];return t.forEach(l=>{const f=Di.prefixForPath(this.userId,l.path),_=IDBKeyRange.lowerBound(f),C=qo(e).Kt({range:_},(S,N,k)=>{const[Q,ne,Ae]=S,Be=_a(ne);Q===this.userId&&l.path.isEqual(Be)?s=s.add(Ae):k.done()});a.push(C)}),De.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=Di.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(l);let _=new kn(jt);return qo(e).Kt({range:f},(C,S,N)=>{const[k,Q,ne]=C,Ae=_a(Q);k===this.userId&&s.isPrefixOf(Ae)?Ae.length===a&&(_=_.add(ne)):N.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Bs(e).get(l).next(f=>{if(null===f)throw nt();pt(f.userId===this.userId),s.push(Ti(this.N,f))}))}),De.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Jl(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),De.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const s=IDBKeyRange.lowerBound(Di.prefixForUser(this.userId)),a=[];return qo(e).Kt({range:s},(l,f,_)=>{if(l[0]===this.userId){const C=_a(l[1]);a.push(C)}else _.done()}).next(()=>{pt(0===a.length)})})}containsKey(e,t){return Xl(e,this.userId,t)}ee(e){return ed(e).get(this.userId).next(t=>t||new hu(this.userId,-1,""))}}function Xl(n,e,t){const s=Di.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let f=!1;return qo(n).Kt({range:l,qt:!0},(_,C,S)=>{const[N,k,Q]=_;N===e&&k===a&&(f=!0),S.done()}).next(()=>f)}function Bs(n){return fs(n,Mn.store)}function qo(n){return fs(n,Di.store)}function ed(n){return fs(n,hu.store)}class lo{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new lo(0)}static ie(){return new lo(-1)}}class Xw{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new lo(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Dt.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ae(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>td(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(pt(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return td(e).Kt((f,_)=>{const C=pu(_);C.sequenceNumber<=t&&null===s.get(C.targetId)&&(a++,l.push(this.removeTargetData(e,C)))}).next(()=>De.waitFor(l)).next(()=>a)}forEachTarget(e,t){return td(e).Kt((s,a)=>{const l=pu(a);t(l)})}re(e){return H_(e).get(Vs.key).next(t=>(pt(null!==t),t))}oe(e,t){return H_(e).put(Vs.key,t)}ce(e,t){return td(e).put(Jw(this.N,t))}ae(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Xg(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return td(e).Kt({range:a,index:qi.queryTargetsIndexName},(f,_,C)=>{const S=pu(_);b_(t,S.target)&&(l=S,C.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=yu(e);return t.forEach(f=>{const _=$o(f.path);a.push(l.put(new ui(s,_))),a.push(this.referenceDelegate.addReference(e,s,f))}),De.waitFor(a)}removeMatchingKeys(e,t,s){const a=yu(e);return De.forEach(t,l=>{const f=$o(l.path);return De.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=yu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=yu(e);let l=dn();return a.Kt({range:s,qt:!0},(f,_,C)=>{const S=_a(f[1]),N=new Qe(S);l=l.add(N)}).next(()=>l)}containsKey(e,t){const s=$o(t.path),a=IDBKeyRange.bound([s],[dw(s)],!1,!0);let l=0;return yu(e).Kt({index:ui.documentTargetsIndex,qt:!0,range:a},([f,_],C,S)=>{0!==f&&(l++,S.done())}).next(()=>l>0)}Tt(e,t){return td(e).get(t).next(s=>s?pu(s):null)}}function td(n){return fs(n,qi.store)}function H_(n){return fs(n,Vs.store)}function yu(n){return fs(n,ui.store)}function Rc(n){return ym.apply(this,arguments)}function ym(){return(ym=(0,he.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==F_)throw n;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function G_([n,e],[t,s]){const a=jt(n,t);return 0===a?jt(e,s):a}class eb{constructor(e){this.ue=e,this.buffer=new kn(G_),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();G_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,he.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Sc(a)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Rc(a)}yield t._e(e)}))}}class xT{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return De.resolve(qn.T);const s=new eb(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(mm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mm):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,f,_,C,S;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),a=this.params.maximumSequenceNumbersToCollect):a=k,f=Date.now(),this.nthSequenceNumber(e,a))).next(k=>(s=k,_=Date.now(),this.removeTargets(e,s,t))).next(k=>(l=k,C=Date.now(),this.removeOrphanedDocuments(e,s))).next(k=>(S=Date.now(),fh()<=to.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-N}ms\n\tDetermined least recently used ${a} in `+(_-f)+`ms\n\tRemoved ${l} targets in `+(C-_)+`ms\n\tRemoved ${k} documents in `+(S-C)+`ms\nTotal Duration: ${S-N}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:k})))}}class nb{constructor(e,t){this.db=e,this.garbageCollector=new xT(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return _m(e,s)}removeReference(e,t,s){return _m(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return _m(e,t)}Ie(e,t){return function(s,a){let l=!1;return ed(s).jt(f=>Xl(s,f,a).next(_=>(_&&(l=!0),De.resolve(!_)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(f,_)=>{if(_<=t){const C=this.Ie(e,f).next(S=>{if(!S)return l++,s.getEntry(e,f).next(()=>(s.removeEntry(f),yu(e).delete([0,$o(f.path)])))});a.push(C)}}).next(()=>De.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return _m(e,t)}Ee(e,t){const s=yu(e);let a,l=qn.T;return s.Kt({index:ui.documentTargetsIndex},([f,_],{path:C,sequenceNumber:S})=>{0===f?(l!==qn.T&&t(new Qe(_a(a)),l),l=S,a=C):l=qn.T}).next(()=>{l!==qn.T&&t(new Qe(_a(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _m(n,e){return yu(n).put((s=n.currentSequenceNumber,new ui(0,$o(e.path),s)));var s}class kh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){$l(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return fw(this.inner)}}class q_{constructor(){this.changes=new kh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Dt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Zn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?De.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MT{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return _u(e).put(vm(t),s)}removeEntry(e,t){const s=_u(e),a=vm(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return _u(e).get(vm(t)).next(s=>this.Re(t,s))}be(e,t){return _u(e).get(vm(t)).next(s=>({document:this.Re(t,s),size:mu(s)}))}getEntries(e,t){let s=co();return this.Pe(e,t,(a,l)=>{const f=this.Re(a,l);s=s.insert(a,f)}).next(()=>s)}ve(e,t){let s=co(),a=new sr(Qe.comparator);return this.Pe(e,t,(l,f)=>{const _=this.Re(l,f);s=s.insert(l,_),a=a.insert(l,mu(f))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return De.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let f=l.getNext();return _u(e).Kt({range:a},(_,C,S)=>{const N=Qe.fromSegments(_);for(;f&&Qe.comparator(f,N)<0;)s(f,null),f=l.getNext();f&&f.isEqual(N)&&(s(f,C),f=l.hasNext()?l.getNext():null),f?S.Mt(f.path.toArray()):S.done()}).next(()=>{for(;f;)s(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=co();const l=t.path.length+1,f={};if(s.isEqual(Dt.min())){const _=t.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),C=B_(s);f.range=IDBKeyRange.lowerBound([_,C],!0),f.index=zn.collectionReadTimeIndex}return _u(e).Kt(f,(_,C,S)=>{if(_.length!==l)return;const N=U_(this.N,C);t.path.isPrefixOf(N.key.path)?Eh(t,N)&&(a=a.insert(N.key,N)):S.done()}).next(()=>a)}newChangeBuffer(e){return new m1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rb(e).get(fu.key).next(t=>(pt(!!t),t))}Ae(e,t){return rb(e).put(fu.key,t)}Re(e,t){if(t){const s=U_(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(Dt.min()))return s}return Zn.newInvalidDocument(e)}}class m1 extends q_{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new kh(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new kn((l,f)=>jt(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const _=this.De.get(l);if(f.document.isValidDocument()){const C=Qw(this.Se.N,f.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=mu(C)-_,t.push(this.Se.addEntry(e,l,C))}else if(s-=_,this.trackRemovals){const C=Qw(this.Se.N,Zn.newNoDocument(l,Dt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,C))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),De.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,f)=>{this.De.set(l,f)}),s))}}function rb(n){return fs(n,fu.store)}function _u(n){return fs(n,zn.store)}function vm(n){return n.path.toArray()}class ib{constructor(e){this.N=e}Ct(e,t,s,a){pt(s<a&&s>=0&&a<=11);const l=new L_("createOrUpgrade",t);var _;s<1&&a>=1&&(e.createObjectStore(hs.store),(_=e).createObjectStore(hu.store,{keyPath:hu.keyPath}),_.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Di.store),sb(e),function(_){_.createObjectStore(zn.store)}(e));let f=De.resolve();return s<3&&a>=3&&(0!==s&&(function(_){_.deleteObjectStore(ui.store),_.deleteObjectStore(qi.store),_.deleteObjectStore(Vs.store)}(e),sb(e)),f=f.next(()=>function(_){const C=_.store(Vs.store),S=new Vs(0,0,Dt.min().toTimestamp(),0);return C.put(Vs.key,S)}(l))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(_,C){return C.store(Mn.store).Lt().next(S=>{_.deleteObjectStore(Mn.store),_.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0});const N=C.store(Mn.store),k=S.map(Q=>N.put(Q));return De.waitFor(k)})}(e,l))),f=f.next(()=>{!function(_){_.createObjectStore(Tc.store,{keyPath:Tc.keyPath})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ce(l))),s<6&&a>=6&&(f=f.next(()=>(function(_){_.createObjectStore(fu.store)}(e),this.Ne(l)))),s<7&&a>=7&&(f=f.next(()=>this.xe(l))),s<8&&a>=8&&(f=f.next(()=>this.ke(e,l))),s<9&&a>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const C=_.objectStore(zn.store);C.createIndex(zn.readTimeIndex,zn.readTimeIndexPath,{unique:!1}),C.createIndex(zn.collectionReadTimeIndex,zn.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(f=f.next(()=>this.$e(l))),s<11&&a>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(Ac.store,{keyPath:Ac.keyPath})})(e),function(_){_.createObjectStore(Nh.store,{keyPath:Nh.keyPath})}(e)})),f}Ne(e){let t=0;return e.store(zn.store).Kt((s,a)=>{t+=mu(a)}).next(()=>{const s=new fu(t);return e.store(fu.store).put(fu.key,s)})}Ce(e){const t=e.store(hu.store),s=e.store(Mn.store);return t.Lt().next(a=>De.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(Mn.userMutationsIndex,f).next(_=>De.forEach(_,C=>{pt(C.userId===l.userId);const S=Ti(this.N,C);return Jl(e,l.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(ui.store),s=e.store(zn.store);return e.store(Vs.store).get(Vs.key).next(a=>{const l=[];return s.Kt((f,_)=>{const C=new on(f),S=[0,$o(C)];l.push(t.get(S).next(N=>N?De.resolve():t.put(new ui(0,$o(C),a.highestListenSequenceNumber))))}).next(()=>De.waitFor(l))})}ke(e,t){e.createObjectStore(Rh.store,{keyPath:Rh.keyPath});const s=t.store(Rh.store),a=new gu,l=f=>{if(a.add(f)){const _=f.lastSegment(),C=f.popLast();return s.put({collectionId:_,parent:$o(C)})}};return t.store(zn.store).Kt({qt:!0},(f,_)=>{const C=new on(f);return l(C.popLast())}).next(()=>t.store(Di.store).Kt({qt:!0},([f,_,C],S)=>{const N=_a(_);return l(N.popLast())}))}$e(e){const t=e.store(qi.store);return t.Kt((s,a)=>{const l=pu(a),f=Jw(this.N,l);return t.put(f)})}}function sb(n){n.createObjectStore(ui.store,{keyPath:ui.keyPath}).createIndex(ui.documentTargetsIndex,ui.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(qi.store,{keyPath:qi.keyPath}).createIndex(qi.queryTargetsIndexName,qi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Vs.store)}const Z_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ob{constructor(e,t,s,a,l,f,_,C,S,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=f,this.document=_,this.Fe=S,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!ob.bt())throw new Me(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nb(this,a),this.We=t+"main",this.N=new Yw(C),this.Ge=new va(this.We,11,new ib(this.N)),this.ze=new Xw(this.referenceDelegate,this.N),this.Ht=new gm,this.He=new MT(this.N,this.Ht),this.Je=new $_,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(fe.FAILED_PRECONDITION,Z_);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new qn(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,he.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,he.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,he.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gp(e).put(new Tc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Sc(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return pp(e).get(hs.key).next(t=>De.resolve(this.an(t)))}un(e){return gp(e).delete(this.clientId)}hn(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=fs(s,Tc.store);return a.Lt().next(l=>{const f=e.fn(l,18e5),_=l.filter(C=>-1===f.indexOf(C));return De.forEach(_,C=>a.delete(C.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?De.resolve(!0):pp(e).get(hs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Me(fe.FAILED_PRECONDITION,Z_);return!1}}return!(!this.networkEnabled||!this.inForeground)||gp(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,he.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[hs.store,Tc.store],t=>{const s=new pm(t,qn.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>gp(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return Mc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return ke("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Ww,f=>(l=new pm(f,this.Le?this.Le.next():qn.T),"readwrite-primary"===t?this.sn(l).next(_=>!!_||this.rn(l)).next(_=>{if(!_)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Me(fe.FAILED_PRECONDITION,F_);return s(l)}).next(_=>this.cn(l).next(()=>_)):this.Tn(l).next(()=>s(l)))).then(f=>(l.raiseOnCommittedEvent(),f))}Tn(e){return pp(e).get(hs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(fe.FAILED_PRECONDITION,Z_)})}cn(e){const t=new hs(this.clientId,this.allowTabSynchronization,Date.now());return pp(e).put(hs.key,t)}static bt(){return va.bt()}on(e){const t=pp(e);return t.get(hs.key).next(s=>this.an(s)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete(hs.key)):De.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(hr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Mt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return ke("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return hr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pp(n){return fs(n,hs.store)}function gp(n){return fs(n,Tc.store)}function ab(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class y1{constructor(e,t){this.progress=e,this.En=t}}class RT{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return Qe.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):nm(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new Qe(t)).next(s=>{let a=sp();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=sp();return this.Ht.getCollectionParents(e,a).next(f=>De.forEach(f,_=>{const C=(S=t,N=_.child(a),new ks(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.Dn(e,C,s).next(S=>{S.forEach((N,k)=>{l=l.insert(N,k)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(f=>(a=f,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(l=f,this.Cn(e,l,a).next(_=>{a=_;for(const C of l)for(const S of C.mutations){const N=S.key;let k=a.get(N);null==k&&(k=Zn.newInvalidDocument(N),a=a.insert(N,k)),x_(S,k,C.localWriteTime),k.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((f,_)=>{Eh(t,_)||(a=a.remove(f))}),a))}Cn(e,t,s){let a=dn();for(const f of t)for(const _ of f.mutations)_ instanceof ma&&null===s.get(_.key)&&(a=a.add(_.key));let l=s;return this.He.getEntries(e,a).next(f=>(f.forEach((_,C)=>{C.isFoundDocument()&&(l=l.insert(_,C))}),l))}}class z_{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=dn(),a=dn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new z_(e,t.fromCache,s,a)}}class NT{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(Dt.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const f=this.Mn(t,l);return(du(t)||bc(t))&&this.Ln(t.limitType,f,a,s)?this.Fn(e,t):(fh()<=to.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),D_(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(_=>(f.forEach(C=>{_=_.insert(C.key,C)}),_)))});var l}Mn(e,t){let s=new kn(uT(e));return t.forEach((a,l)=>{Eh(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return fh()<=to.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",D_(t)),this.On.getDocumentsMatchingQuery(e,t,Dt.min())}}class OT{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new sr(jt),this.qn=new kh(l=>Xg(l),b_),this.Kn=Dt.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new RT(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function ub(n,e,t,s){return new OT(n,e,t,s)}function Em(n,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,he.Z)(function*(n,e){const t=je(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let _;return t.In.getAllMutationBatches(f).next(C=>(_=C,s=t.persistence.getMutationQueue(e),a=new RT(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(C=>{const S=[],N=[];let k=dn();for(const Q of _){S.push(Q.batchId);for(const ne of Q.mutations)k=k.add(ne.key)}for(const Q of C){N.push(Q.batchId);for(const ne of Q.mutations)k=k.add(ne.key)}return a.Pn(f,k).next(Q=>({Wn:Q,removedBatchIds:S,addedBatchIds:N}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function PT(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(f,_,C,S){const N=C.batch,k=N.keys();let Q=De.resolve();return k.forEach(ne=>{Q=Q.next(()=>S.getEntry(_,ne)).next(Ae=>{const Be=C.docVersions.get(ne);pt(null!==Be),Ae.version.compareTo(Be)<0&&(N.applyToRemoteDocument(Ae,C),Ae.isValidDocument()&&S.addEntry(Ae,C.commitVersion))})}),Q.next(()=>f.In.removeMutationBatch(_,N))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function kT(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function _1(n,e){const t=je(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const _=[];e.targetChanges.forEach((S,N)=>{const k=a.get(N);if(!k)return;_.push(t.ze.removeMatchingKeys(l,S.removedDocuments,N).next(()=>t.ze.addMatchingKeys(l,S.addedDocuments,N)));const Q=S.resumeToken;if(Q.approximateByteSize()>0){const ne=k.withResumeToken(Q,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(N,ne),Ae=k,Ye=S,pt((Be=ne).resumeToken.approximateByteSize()>0),(0===Ae.resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-Ae.snapshotVersion.toMicroseconds()>=3e8||Ye.addedDocuments.size+Ye.modifiedDocuments.size+Ye.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(l,ne))}var Ae,Be,Ye});let C=co();if(e.documentUpdates.forEach((S,N)=>{e.resolvedLimboDocuments.has(S)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),_.push(FT(l,f,e.documentUpdates,s,void 0).next(S=>{C=S})),!s.isEqual(Dt.min())){const S=t.ze.getLastRemoteSnapshotVersion(l).next(N=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));_.push(S)}return De.waitFor(_).next(()=>f.apply(l)).next(()=>t.Qn.vn(l,C)).next(()=>C)}).then(l=>(t.Un=a,l))}function FT(n,e,t,s,a){let l=dn();return t.forEach(f=>l=l.add(f)),e.getEntries(n,l).next(f=>{let _=co();return t.forEach((C,S)=>{const N=f.get(C),k=(null==a?void 0:a.get(C))||s;S.isNoDocument()&&S.version.isEqual(Dt.min())?(e.removeEntry(C,k),_=_.insert(C,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(S,k),_=_.insert(C,S)):ke("LocalStore","Ignoring outdated watch update for ",C,". Current version:",N.version," Watch version:",S.version)}),_})}function LT(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function nd(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,De.resolve(a)):t.ze.allocateTargetId(s).next(f=>(a=new xc(e,f,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function yp(n,e,t){return W_.apply(this,arguments)}function W_(){return(W_=(0,he.Z)(function*(n,e,t){const s=je(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Sc(f))throw f;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function vu(n,e,t){const s=je(n);let a=Dt.min(),l=dn();return s.persistence.runTransaction("Execute query","readonly",f=>function(_,C,S){const N=je(_),k=N.qn.get(S);return void 0!==k?De.resolve(N.Un.get(k)):N.ze.getTargetData(C,S)}(s,f,ls(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,_.targetId).next(C=>{l=C})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,e,t?a:Dt.min(),t?l:dn())).next(_=>({documents:_,Gn:l})))}function cb(n,e){const t=je(n),s=je(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(f=>f?f.target:null))}function K_(n){const e=je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const f=je(s);let _=co(),C=B_(l);const S=_u(a),N=IDBKeyRange.lowerBound(C,!0);return S.Kt({index:zn.readTimeIndex,range:N},(k,Q)=>{const ne=U_(f.N,Q);_=_.insert(ne.key,ne),C=Q.readTime}).next(()=>({En:_,readTime:fp(C)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function wm(){return(wm=(0,he.Z)(function*(n){const e=je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=_u(s);let l=Dt.min();return a.Kt({index:zn.readTimeIndex,reverse:!0},(f,_,C)=>{_.readTime&&(l=fp(_.readTime)),C.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Y_(){return(Y_=(0,he.Z)(function*(n,e,t,s){const a=je(n);let l=dn(),f=co(),_=Ow();for(const N of t){const k=e.zn(N.metadata.name);N.document&&(l=l.add(k)),f=f.insert(k,e.Hn(N)),_=_.insert(k,e.Jn(N.metadata.readTime))}const C=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield nd(a,(N=s,ls(wc(on.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>FT(N,C,f,Dt.min(),_).next(k=>(C.apply(N),k)).next(k=>a.ze.removeMatchingKeysForTargetId(N,S.targetId).next(()=>a.ze.addMatchingKeys(N,l,S.targetId)).next(()=>a.Qn.vn(N,k)).next(()=>k)))})).apply(this,arguments)}function lb(n,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,he.Z)(function*(n,e,t=dn()){const s=yield nd(n,ls(j_(e.bundledQuery))),a=je(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=Qr(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.Je.saveNamedQuery(l,e);const _=s.withResumeToken(Yr.EMPTY_BYTE_STRING,f);return a.Un=a.Un.insert(_.targetId,_),a.ze.updateTargetData(l,_).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class UT{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return De.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:Qr(s.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:j_(s.bundledQuery),readTime:Qr(s.readTime)}),De.resolve();var s}}class J_{constructor(){this.Zn=new kn(Jr.ts),this.es=new kn(Jr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Jr(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Jr(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new Qe(new on([])),s=new Jr(t,e),a=new Jr(t,e+1),l=[];return this.es.forEachInRange([s,a],f=>{this.rs(f),l.push(f.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Qe(new on([])),s=new Jr(t,e),a=new Jr(t,e+1);let l=dn();return this.es.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Jr(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Jr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Qe.comparator(e.key,t.key)||jt(e.ls,t.ls)}static ns(e,t){return jt(e.ls,t.ls)||Qe.comparator(e.key,t.key)}}class BT{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new kn(Jr.ts)}checkEmpty(e){return De.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const f=new hp(l,t,s,a);this.In.push(f);for(const _ of a)this.ds=this.ds.add(new Jr(_.key,l)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return De.resolve(f)}lookupMutationBatch(e,t){return De.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return De.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return De.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Jr(t,0),a=new Jr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],f=>{const _=this.ws(f.ls);l.push(_)}),De.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kn(jt);return t.forEach(a=>{const l=new Jr(a,0),f=new Jr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,f],_=>{s=s.add(_.ls)})}),De.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Qe.isDocumentKey(l)||(l=l.child(""));const f=new Jr(new Qe(l),0);let _=new kn(jt);return this.ds.forEachWhile(C=>{const S=C.key.path;return!!s.isPrefixOf(S)&&(S.length===a&&(_=_.add(C.ls)),!0)},f),De.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){pt(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return De.forEach(t.mutations,a=>{const l=new Jr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new Jr(t,0),a=this.ds.firstAfterOrEqual(s);return De.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return De.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class db{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new sr(Qe.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),f=l?l.size:0,_=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:_,readTime:s}),this.size+=_-f,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return De.resolve(s?s.document.clone():Zn.newInvalidDocument(t))}getEntries(e,t){let s=co();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():Zn.newInvalidDocument(a))}),De.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=co();const l=new Qe(t.path.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:_,value:{document:C,readTime:S}}=f.getNext();if(!t.path.isPrefixOf(_.path))break;S.compareTo(s)<=0||Eh(t,C)&&(a=a.insert(C.key,C.clone()))}return De.resolve(a)}Ts(e,t){return De.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new jT(this)}getSize(e){return De.resolve(this.size)}}class jT extends q_{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),De.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class hb{constructor(e){this.persistence=e,this.Es=new kh(t=>Xg(t),b_),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Is=0,this.As=new J_,this.targetCount=0,this.Rs=lo.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),De.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new lo(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.ce(t),De.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((f,_)=>{_.sequenceNumber<=t&&null===s.get(_.targetId)&&(this.Es.delete(f),l.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),De.waitFor(l).next(()=>a)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return De.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),De.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),De.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),De.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return De.resolve(s)}containsKey(e,t){return De.resolve(this.As.containsKey(t))}}class fb{constructor(e,t){this.bs={},this.Le=new qn(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new hb(this),this.Ht=new Ai,this.He=new db(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new Yw(t),this.Je=new UT(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new BT(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){ke("MemoryPersistence","Starting transaction:",e);const a=new X_(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return De.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class X_ extends AT{constructor(e){super(),this.currentSequenceNumber=e}}class pb{constructor(e){this.persistence=e,this.Ds=new J_,this.Cs=null}static Ns(e){return new pb(e)}get xs(){if(this.Cs)return this.Cs;throw nt()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),De.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),De.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.xs,s=>{const a=Qe.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return De.or([()=>De.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Cm(n,e){return`firestore_clients_${n}_${e}`}function gb(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function mb(n,e){return`firestore_targets_${n}_${e}`}class Nc{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Me(a.error.code,a.error.message))),f?new Nc(e,t,a.state,l):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _p{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Me(s.error.code,s.error.message))),l?new _p(e,s.state,a):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=op();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=Xf(s.activeTargetIds[f]),l=l.add(s.activeTargetIds[f]);return a?new Fh(e,l):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vp{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vp(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ev{constructor(){this.activeTargetIds=op()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ep{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new sr(jt),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=Cm(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ev),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(Cm(e.persistenceKey,a));if(l){const f=Fh.$s(a,l);f&&(e.qs=e.qs.insert(f.clientId,f))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(mb(this.persistenceKey,e));if(s){const a=_p.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mb(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(ke("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,he.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ci(s.key);return t.ai(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ai(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let f=qn.T;if(null!=l)try{const _=JSON.parse(l);pt("number"==typeof _),f=_}catch(_){hr("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(s.newValue);a!==qn.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new Nc(this.currentUser,e,t,s),l=gb(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=gb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=mb(this.persistenceKey,e),l=new _p(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ci(e);return Fh.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return Nc.$s(new Fr(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return _p.$s(a,t)}Xs(e){return vp.$s(e)}li(e){var t=this;return(0,he.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),f=[],_=[];return l.forEach(C=>{a.has(C)||f.push(C)}),a.forEach(C=>{l.has(C)||_.push(C)}),this.syncEngine.gi(f,_).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=op();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Im{constructor(){this.yi=new ev,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new ev,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class yb{Ti(e){}shutdown(){}}class $T{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _b{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class vb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);ke("RestConnection","Sending: ",l,s);const f={};return this.Ui(f,a),this.qi(e,l,f,s).then(_=>(ke("RestConnection","Received: ",_),_),_=>{throw Bl("RestConnection",`${e} failed with error: `,_,"url: ",l,"request:",s),_})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ul,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${HT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,f)=>{const _=new aw;_.listenOnce(ow.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Kg.NO_ERROR:const S=_.getResponseJson();ke("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Kg.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),f(new Me(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Kg.HTTP_ERROR:const N=_.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const k=_.getResponseJson().error;if(k&&k.status&&k.message){const Q=function(ne){const Ae=ne.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Ae)>=0?Ae:fe.UNKNOWN}(k.status);f(new Me(Q,k.message))}else f(new Me(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Me(fe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(a);_.send(t,"POST",C,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=sw(),l=Vl(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new zD({})),this.Ui(f.initMessageHeaders,t),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=s.join("");ke("Connection","Creating WebChannel: "+_,f);const C=a.createWebChannel(_,f);let S=!1,N=!1;const k=new _b({vi:ne=>{N?ke("Connection","Not sending because WebChannel is closed:",ne):(S||(ke("Connection","Opening WebChannel transport."),C.open(),S=!0),ke("Connection","WebChannel sending:",ne),C.send(ne))},Vi:()=>C.close()}),Q=(ne,Ae,Be)=>{ne.listen(Ae,Ye=>{try{Be(Ye)}catch(Gt){setTimeout(()=>{throw Gt},0)}})};return Q(C,Qf.EventType.OPEN,()=>{N||ke("Connection","WebChannel transport opened.")}),Q(C,Qf.EventType.CLOSE,()=>{N||(N=!0,ke("Connection","WebChannel transport closed"),k.$i())}),Q(C,Qf.EventType.ERROR,ne=>{N||(N=!0,Bl("Connection","WebChannel transport errored:",ne),k.$i(new Me(fe.UNAVAILABLE,"The operation could not be completed")))}),Q(C,Qf.EventType.MESSAGE,ne=>{var Ae;if(!N){const Be=ne.data[0];pt(!!Be);const Ye=Be,Gt=Ye.error||(null===(Ae=Ye[0])||void 0===Ae?void 0:Ae.error);if(Gt){ke("Connection","WebChannel received error:",Gt);const gn=Gt.status;let Ln=function(Sr){const xa=Tr[Sr];if(void 0!==xa)return Rw(xa)}(gn),Yt=Gt.message;void 0===Ln&&(Ln=fe.INTERNAL,Yt="Unknown error status: "+gn+" with message "+Gt.message),N=!0,k.$i(new Me(Ln,Yt)),C.close()}else ke("Connection","WebChannel received:",Be),k.Oi(Be)}}),Q(l,ZD.STAT_EVENT,ne=>{ne.stat===Yf.PROXY?ke("Connection","Detected buffering proxy"):ne.stat===Yf.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function Eb(){return"undefined"!=typeof window?window:null}function Dm(){return"undefined"!=typeof document?document:null}function rd(n){return new O_(n,!0)}class Tm{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Am{constructor(e,t,s,a,l,f,_){this.Oe=e,this.er=s,this.nr=a,this.sr=l,this.credentialsProvider=f,this.listener=_,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Tm(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,he.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,he.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var s=this;return(0,he.Z)(function*(){s.gr(),s.yr(),s.ar.cancel(),s.ir++,4!==e?s.ar.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),s.ar.Yi()):t&&t.code===fe.UNAUTHENTICATED&&3!==s.state&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.pr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(s=>{this.ir===t&&this.Er(s)},s=>{e(()=>{const a=new Me(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ir(a)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.Ir(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}lr(){var e=this;this.state=5,this.ar.Xi((0,he.Z)(function*(){e.state=0,e.start()}))}Ir(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tv extends Am{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l),this.N=a}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:nt(),a=e.targetChange.targetIds||[],l=function(C,S){return C.D?(pt(void 0===S||"string"==typeof S),Yr.fromBase64String(S||"")):(pt(void 0===S||S instanceof Uint8Array),Yr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&function(C){const S=void 0===C.code?fe.UNKNOWN:Rw(C.code);return new Me(S,C.message||"")}(f);t=new Lw(s,a,l,_||null)}else if("documentChange"in e){const s=e.documentChange,a=jo(n,s.document.name),l=Qr(s.document.updateTime),f=new Gi({mapValue:{fields:s.document.fields}}),_=Zn.newFoundDocument(a,l,f);t=new zl(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const s=e.documentDelete,a=jo(n,s.document),l=s.readTime?Qr(s.readTime):Dt.min(),f=Zn.newNoDocument(a,l);t=new zl([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=jo(n,s.document);t=new zl([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return nt();{const s=e.filter,l=new mT(s.count||0);t=new Fw(s.targetId,l)}}var C;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return Dt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?Qr(l.readTime):Dt.min()}(e);return this.listener.Rr(t,s)}br(e){const t={};t.database=lp(this.N),t.addTarget=function(a,l){let f;const _=l.target;return f=Bo(_)?{documents:k_(a,_)}:{query:xn(a,_)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=Vw(a,l.resumeToken):l.snapshotVersion.compareTo(Dt.min())>0&&(f.readTime=xh(a,l.snapshotVersion.toTimestamp())),f}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.mr(t)}Pr(e){const t={};t.database=lp(this.N),t.removeTarget=e,this.mr(t)}}class wb extends Am{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l),this.N=a,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(s,a){let l=Qr(s.updateTime?s.updateTime:a);return l.isEqual(Dt.min())&&(l=Qr(a)),new fT(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Qr(e.commitTime);return this.listener.Dr(s,t)}return pt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=lp(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>um(this.N,s))};this.mr(t)}}class GT extends class{}{constructor(e,t,s){super(),this.credentials=e,this.sr=t,this.N=s,this.kr=!1}$r(){if(this.kr)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.$r(),this.credentials.getToken().then(a=>this.sr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Me(fe.UNKNOWN,a.toString())})}Ki(e,t,s){return this.$r(),this.credentials.getToken().then(a=>this.sr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Me(fe.UNKNOWN,a.toString())})}terminate(){this.kr=!0}}class bb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(hr(t),this.Mr=!1):ke("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Cb{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(_=>{s.enqueueAndForget((0,he.Z)(function*(){var C;Eu(f)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,he.Z)(function*(S){const N=je(S);N.Wr.add(4),yield Lh(N),N.Hr.set("Unknown"),N.Wr.delete(4),yield id(N)}),function(S){return C.apply(this,arguments)})(f))}))}),this.Hr=new bb(s,a)}}function id(n){return nv.apply(this,arguments)}function nv(){return(nv=(0,he.Z)(function*(n){if(Eu(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function Lh(n){return rv.apply(this,arguments)}function rv(){return(rv=(0,he.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function Sm(n,e){const t=je(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),bp(t)?xm(t):Zi(t).hr()&&wp(t,e))}function sd(n,e){const t=je(n),s=Zi(t);t.Qr.delete(e),s.hr()&&iv(t,e),0===t.Qr.size&&(s.hr()?s.wr():Eu(t)&&t.Hr.set("Unknown"))}function wp(n,e){n.Jr.Y(e.targetId),Zi(n).br(e)}function iv(n,e){n.Jr.Y(e),Zi(n).Pr(e)}function xm(n){n.Jr=new Ah({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),Zi(n).start(),n.Hr.Lr()}function bp(n){return Eu(n)&&!Zi(n).ur()&&n.Qr.size>0}function Eu(n){return 0===je(n).Wr.size}function sv(n){n.Jr=void 0}function Ib(n){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,he.Z)(function*(n){n.Qr.forEach((e,t)=>{wp(n,e)})})).apply(this,arguments)}function Db(n,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,he.Z)(function*(n,e){sv(n),bp(n)?(n.Hr.qr(e),xm(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function qT(n,e,t){return ov.apply(this,arguments)}function ov(){return(ov=(0,he.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof Lw&&2===e.state&&e.cause)try{yield(s=(0,he.Z)(function*(a,l){const f=l.cause;for(const _ of l.targetIds)a.Qr.has(_)&&(yield a.remoteSyncer.rejectListen(_,f),a.Qr.delete(_),a.Jr.removeTarget(_))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Cp(n,s)}else if(e instanceof zl?n.Jr.rt(e):e instanceof Fw?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Dt.min()))try{const s=yield kT(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Jr._t(l);return f.targetChanges.forEach((_,C)=>{if(_.resumeToken.approximateByteSize()>0){const S=a.Qr.get(C);S&&a.Qr.set(C,S.withResumeToken(_.resumeToken,l))}}),f.targetMismatches.forEach(_=>{const C=a.Qr.get(_);if(!C)return;a.Qr.set(_,C.withResumeToken(Yr.EMPTY_BYTE_STRING,C.snapshotVersion)),iv(a,_);const S=new xc(C.target,_,1,C.sequenceNumber);wp(a,S)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(s){ke("RemoteStore","Failed to raise snapshot:",s),yield Cp(n,s)}var s})).apply(this,arguments)}function Cp(n,e,t){return av.apply(this,arguments)}function av(){return(av=(0,he.Z)(function*(n,e,t){if(!Sc(e))throw e;n.Wr.add(1),yield Lh(n),n.Hr.set("Offline"),t||(t=()=>kT(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield id(n)}))})).apply(this,arguments)}function Ar(n,e){return e().catch(t=>Cp(n,t,e))}function od(n){return uv.apply(this,arguments)}function uv(){return(uv=(0,he.Z)(function*(n){const e=je(n),t=Pc(e);let s=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;ZT(e);)try{const a=yield LT(e.localStore,s);if(null===a){0===e.jr.length&&t.wr();break}s=a.batchId,Ab(e,a)}catch(a){yield Cp(e,a)}Sb(e)&&cv(e)})).apply(this,arguments)}function ZT(n){return Eu(n)&&n.jr.length<10}function Ab(n,e){n.jr.push(e);const t=Pc(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function Sb(n){return Eu(n)&&!Pc(n).ur()&&n.jr.length>0}function cv(n){Pc(n).start()}function xb(n){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,he.Z)(function*(n){Pc(n).Nr()})).apply(this,arguments)}function zT(n){return lv.apply(this,arguments)}function lv(){return(lv=(0,he.Z)(function*(n){const e=Pc(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function Mb(n,e,t){return dv.apply(this,arguments)}function dv(){return(dv=(0,he.Z)(function*(n,e,t){const s=n.jr.shift(),a=V_.from(s,e,t);yield Ar(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield od(n)})).apply(this,arguments)}function Rb(n,e){return Nb.apply(this,arguments)}function Nb(){return(Nb=(0,he.Z)(function*(n,e){var t;e&&Pc(n).Vr&&(yield(t=(0,he.Z)(function*(s,a){if(Mw(l=a.code)&&l!==fe.ABORTED){const f=s.jr.shift();Pc(s).dr(),yield Ar(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield od(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),Sb(n)&&cv(n)})).apply(this,arguments)}function Rm(n,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,he.Z)(function*(n,e){const t=je(n);e?(t.Wr.delete(2),yield id(t)):e||(t.Wr.add(2),yield Lh(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function Zi(n){return n.Yr||(n.Yr=function(e,t,s){const a=je(e);return a.$r(),new tv(t,a.sr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:Ib.bind(null,n),Ci:Db.bind(null,n),Rr:qT.bind(null,n)}),n.Gr.push(function(){var e=(0,he.Z)(function*(t){t?(n.Yr.dr(),bp(n)?xm(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),sv(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Pc(n){return n.Xr||(n.Xr=function(e,t,s){const a=je(e);return a.$r(),new wb(t,a.sr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:xb.bind(null,n),Ci:Rb.bind(null,n),Cr:zT.bind(null,n),Dr:Mb.bind(null,n)}),n.Gr.push(function(){var e=(0,he.Z)(function*(t){t?(n.Xr.dr(),yield od(n)):(yield n.Xr.stop(),n.jr.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class hv{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,_=new hv(e,t,f,a,l);return _.start(s),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zi(n,e){if(hr("AsyncQueue",`${e}: ${n}`),Sc(n))return new Me(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Si{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Qe.comparator(t.key,s.key):(t,s)=>Qe.comparator(t.key,s.key),this.keyedMap=sp(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new Si(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Si;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ho{constructor(){this.Zr=new sr(Qe.comparator)}track(e){const t=e.doc.key,s=this.Zr.get(t);s?0!==e.type&&3===s.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==s.type?this.Zr=this.Zr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Zr=this.Zr.remove(t):1===e.type&&2===s.type?this.Zr=this.Zr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):nt():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,s)=>{e.push(s)}),e}}class ad{constructor(e,t,s,a,l,f,_,C){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=C}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new ad(e,t,Si.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Ob{constructor(){this.no=void 0,this.listeners=[]}}class WT{constructor(){this.queries=new kh(e=>np(e),vh),this.onlineState="Unknown",this.so=new Set}}function fv(n,e){return pv.apply(this,arguments)}function pv(){return(pv=(0,he.Z)(function*(n,e){const t=je(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new Ob),a)try{l.no=yield t.onListen(s)}catch(f){const _=zi(f,`Initialization of query '${D_(e.query)}' failed`);return void e.onError(_)}t.queries.set(s,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&Nm(t)})).apply(this,arguments)}function gv(n,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,he.Z)(function*(n,e){const t=je(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function Tp(n,e){const t=je(n);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const _ of f.listeners)_.ro(a)&&(s=!0);f.no=a}}s&&Nm(t)}function KT(n,e,t){const s=je(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Nm(n){n.so.forEach(e=>{e.next()})}class mv{constructor(e,t,s){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=s||{}}ro(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new ad(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class Pb{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class yv{constructor(e){this.N=e}zn(e){return jo(this.N,e)}Hn(e){return e.metadata.exists?$w(this.N,e.document,!1):Zn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Qr(e)}}class Om{constructor(e,t,s){this._o=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=kb(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,s=new yv(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const f of a.metadata.queries){const _=(t.get(f)||dn()).add(l);t.set(f,_)}}return t}complete(){var e=this;return(0,he.Z)(function*(){const t=yield function(n,e,t,s){return Y_.apply(this,arguments)}(e.localStore,new yv(e.N),e.documents,e._o.id),s=e.yo(e.documents);for(const a of e.queries)yield lb(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new y1(Object.assign({},e.progress),t)})()}}function kb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _v{constructor(e){this.key=e}}class vv{constructor(e){this.key=e}}class Ev{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=dn(),this.mutatedKeys=dn(),this.Io=uT(e),this.Ao=new Si(this.Io)}get Ro(){return this.po}bo(e,t){const s=t?t.Po:new ho,a=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,_=!1;const C=du(this.query)&&a.size===this.query.limit?a.last():null,S=bc(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((N,k)=>{const Q=a.get(N),ne=Eh(this.query,k)?k:null,Ae=!!Q&&this.mutatedKeys.has(Q.key),Be=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let Ye=!1;Q&&ne?Q.data.isEqual(ne.data)?Ae!==Be&&(s.track({type:3,doc:ne}),Ye=!0):this.vo(Q,ne)||(s.track({type:2,doc:ne}),Ye=!0,(C&&this.Io(ne,C)>0||S&&this.Io(ne,S)<0)&&(_=!0)):!Q&&ne?(s.track({type:0,doc:ne}),Ye=!0):Q&&!ne&&(s.track({type:1,doc:Q}),Ye=!0,(C||S)&&(_=!0)),Ye&&(ne?(f=f.add(ne),l=Be?l.add(N):l.delete(N)):(f=f.delete(N),l=l.delete(N)))}),du(this.query)||bc(this.query))for(;f.size>this.query.limit;){const N=du(this.query)?f.last():f.first();f=f.delete(N.key),l=l.delete(N.key),s.track({type:1,doc:N})}return{Ao:f,Po:s,Ln:_,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((S,N)=>function(k,Q){const ne=Ae=>{switch(Ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return ne(k)-ne(Q)}(S.type,N.type)||this.Io(S.doc,N.doc)),this.Vo(s);const f=t?this.So():[],_=0===this.Eo.size&&this.current?1:0,C=_!==this.To;return this.To=_,0!==l.length||C?{snapshot:new ad(this.query,e.Ao,a,l,e.mutatedKeys,0===_,C,!1),Do:f}:{Do:f}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new ho,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=dn(),this.Ao.forEach(s=>{this.Co(s.key)&&(this.Eo=this.Eo.add(s.key))});const t=[];return e.forEach(s=>{this.Eo.has(s)||t.push(new vv(s))}),this.Eo.forEach(s=>{e.has(s)||t.push(new _v(s))}),t}No(e){this.po=e.Gn,this.Eo=dn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return ad.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Pm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Fb{constructor(e){this.key=e,this.ko=!1}}class Lb{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.$o={},this.Oo=new kh(_=>np(_),vh),this.Fo=new Map,this.Mo=new Set,this.Lo=new sr(Qe.comparator),this.Bo=new Map,this.Uo=new J_,this.qo={},this.Ko=new Map,this.jo=lo.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Vb(n,e){return km.apply(this,arguments)}function km(){return(km=(0,he.Z)(function*(n,e){const t=Ov(n);let s,a;const l=t.Oo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.xo();else{const f=yield nd(t.localStore,ls(e)),_=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield Fm(t,e,s,"current"===_),t.isPrimaryClient&&Sm(t.remoteStore,f)}return a})).apply(this,arguments)}function Fm(n,e,t,s){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,he.Z)(function*(n,e,t,s){n.Wo=(N,k,Q)=>{return(ne=(0,he.Z)(function*(Ae,Be,Ye,Gt){let gn=Be.view.bo(Ye);gn.Ln&&(gn=yield vu(Ae.localStore,Be.query,!1).then(({documents:Sr})=>Be.view.bo(Sr,gn)));const Ln=Gt&&Gt.targetChanges.get(Be.targetId),Yt=Be.view.applyChanges(gn,Ae.isPrimaryClient,Ln);return xv(Ae,Be.targetId,Yt.Do),Yt.snapshot}),function(Ae,Be,Ye,Gt){return ne.apply(this,arguments)})(n,N,k,Q);var ne};const a=yield vu(n.localStore,e,!0),l=new Ev(e,a.Gn),f=l.bo(a.documents),_=Ls.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),C=l.applyChanges(f,n.isPrimaryClient,_);xv(n,t,C.Do);const S=new Pm(e,t,l);return n.Oo.set(e,S),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),C.snapshot})).apply(this,arguments)}function Ub(n,e){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,he.Z)(function*(n,e){const t=je(n),s=t.Oo.get(e),a=t.Fo.get(s.targetId);if(a.length>1)return t.Fo.set(s.targetId,a.filter(l=>!vh(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield yp(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),sd(t.remoteStore,s.targetId),Vh(t,s.targetId)}).catch(Rc))):(Vh(t,s.targetId),yield yp(t.localStore,s.targetId,!0))})).apply(this,arguments)}function wv(){return(wv=(0,he.Z)(function*(n,e,t){const s=Pv(n);try{const a=yield function(l,f){const _=je(l),C=Kr.now(),S=f.reduce((k,Q)=>k.add(Q.key),dn());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",k=>_.Qn.Pn(k,S).next(Q=>{N=Q;const ne=[];for(const Ae of f){const Be=Tw(Ae,N.get(Ae.key));null!=Be&&ne.push(new ma(Ae.key,Be,rT(Be.value.mapValue),fr.exists(!0)))}return _.In.addMutationBatch(k,C,ne,f)})).then(k=>(k.applyToLocalDocumentSet(N),{batchId:k.batchId,changes:N}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,_){let C=l.qo[l.currentUser.toKey()];C||(C=new sr(jt)),C=C.insert(f,_),l.qo[l.currentUser.toKey()]=C}(s,a.batchId,t),yield Ea(s,a.changes),yield od(s.remoteStore)}catch(a){const l=zi(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function Bb(n,e){return bv.apply(this,arguments)}function bv(){return(bv=(0,he.Z)(function*(n,e){const t=je(n);try{const s=yield _1(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.Bo.get(l);f&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.ko=!0:a.modifiedDocuments.size>0?pt(f.ko):a.removedDocuments.size>0&&(pt(f.ko),f.ko=!1))}),yield Ea(t,s,e)}catch(s){yield Rc(s)}})).apply(this,arguments)}function jb(n,e,t){const s=je(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.Oo.forEach((l,f)=>{const _=f.view.io(e);_.snapshot&&a.push(_.snapshot)}),function(l,f){const _=je(l);_.onlineState=f;let C=!1;_.queries.forEach((S,N)=>{for(const k of N.listeners)k.io(f)&&(C=!0)}),C&&Nm(_)}(s.eventManager,e),a.length&&s.$o.Rr(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function QT(n,e,t){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,he.Z)(function*(n,e,t){const s=je(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Bo.get(e),l=a&&a.key;if(l){let f=new sr(Qe.comparator);f=f.insert(l,Zn.newNoDocument(l,Dt.min()));const _=dn().add(l),C=new Th(Dt.min(),new Map,new kn(jt),f,_);yield Bb(s,C),s.Lo=s.Lo.remove(l),s.Bo.delete(e),Um(s)}else yield yp(s.localStore,e,!1).then(()=>Vh(s,e,t)).catch(Rc)})).apply(this,arguments)}function JT(n,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,he.Z)(function*(n,e){const t=je(n),s=e.batch.batchId;try{const a=yield PT(t.localStore,e);Sv(t,s,null),Av(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ea(t,a)}catch(a){yield Rc(a)}})).apply(this,arguments)}function XT(n,e,t){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,he.Z)(function*(n,e,t){const s=je(n);try{const a=yield function(l,f){const _=je(l);return _.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let S;return _.In.lookupMutationBatch(C,f).next(N=>(pt(null!==N),S=N.keys(),_.In.removeMutationBatch(C,N))).next(()=>_.In.performConsistencyCheck(C)).next(()=>_.Qn.Pn(C,S))})}(s.localStore,e);Sv(s,e,t),Av(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ea(s,a)}catch(a){yield Rc(a)}})).apply(this,arguments)}function Tv(){return(Tv=(0,he.Z)(function*(n,e){const t=je(n);Eu(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const f=je(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ko.get(s)||[];a.push(e),t.Ko.set(s,a)}catch(s){const a=zi(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Av(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function Sv(n,e,t){const s=je(n);let a=s.qo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.qo[s.currentUser.toKey()]=a}}function Vh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Fo.get(e))n.Oo.delete(s),t&&n.$o.Go(s,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(s=>{n.Uo.containsKey(s)||$b(n,s)})}function $b(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(sd(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),Um(n))}function xv(n,e,t){for(const s of t)s instanceof _v?(n.Uo.addReference(s.key,e),Hb(n,s)):s instanceof vv?(ke("SyncEngine","Document no longer in limbo: "+s.key),n.Uo.removeReference(s.key,e),n.Uo.containsKey(s.key)||$b(n,s.key)):nt()}function Hb(n,e){const t=e.key,s=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(s)||(ke("SyncEngine","New document in limbo: "+t),n.Mo.add(s),Um(n))}function Um(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new Qe(on.fromString(e)),s=n.jo.next();n.Bo.set(s,new Fb(t)),n.Lo=n.Lo.insert(t,s),Sm(n.remoteStore,new xc(ls(wc(t.path)),s,2,qn.T))}}function Ea(n,e,t){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,he.Z)(function*(n,e,t){const s=je(n),a=[],l=[],f=[];var _;s.Oo.isEmpty()||(s.Oo.forEach((_,C)=>{f.push(s.Wo(C,e,t).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(C.targetId,S.fromCache?"not-current":"current"),a.push(S);const N=z_.kn(C.targetId,S);l.push(N)}}))}),yield Promise.all(f),s.$o.Rr(a),yield(_=(0,he.Z)(function*(C,S){const N=je(C);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>De.forEach(S,Q=>De.forEach(Q.Nn,ne=>N.persistence.referenceDelegate.addReference(k,Q.targetId,ne)).next(()=>De.forEach(Q.xn,ne=>N.persistence.referenceDelegate.removeReference(k,Q.targetId,ne)))))}catch(k){if(!Sc(k))throw k;ke("LocalStore","Failed to update sequence numbers: "+k)}for(const k of S){const Q=k.targetId;if(!k.fromCache){const ne=N.Un.get(Q),Be=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);N.Un=N.Un.insert(Q,Be)}}}),function(C,S){return _.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function Gb(n,e){return jm.apply(this,arguments)}function jm(){return(jm=(0,he.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const s=yield Em(t.localStore,e);t.currentUser=e,(a=t).Ko.forEach(f=>{f.forEach(_=>{_.reject(new Me(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ea(t,s.Wn)}var a})).apply(this,arguments)}function qb(n,e){const t=je(n),s=t.Bo.get(e);if(s&&s.ko)return dn().add(s.key);{let a=dn();const l=t.Fo.get(e);if(!l)return a;for(const f of l){const _=t.Oo.get(f);a=a.unionWith(_.view.Ro)}return a}}function Zb(n,e){return $m.apply(this,arguments)}function $m(){return($m=(0,he.Z)(function*(n,e){const t=je(n),s=yield vu(t.localStore,e.query,!0),a=e.view.No(s);return t.isPrimaryClient&&xv(t,e.targetId,a.Do),a})).apply(this,arguments)}function Mv(n){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,he.Z)(function*(n){const e=je(n);return K_(e.localStore).then(t=>Ea(e,t))})).apply(this,arguments)}function ud(n,e,t,s){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,he.Z)(function*(n,e,t,s){const a=je(n),l=yield function(f,_){const C=je(f),S=je(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Xt(N,_).next(k=>k?C.Qn.Pn(N,k):De.resolve(null)))}(a.localStore,e);var _;null!==l?("pending"===t?yield od(a.remoteStore):"acknowledged"===t||"rejected"===t?(Sv(a,e,s||null),Av(a,e),_=e,je(je(a.localStore).In).te(_)):nt(),yield Ea(a,l)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function kc(){return(kc=(0,he.Z)(function*(n,e){const t=je(n);if(Ov(t),Pv(t),!0===e&&!0!==t.Qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield nA(t,s.toArray());t.Qo=!0,yield Rm(t.remoteStore,!0);for(const l of a)Sm(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const s=[];let a=Promise.resolve();t.Fo.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(Vh(t,f),yp(t.localStore,f,!0))),sd(t.remoteStore,f)}),yield a,yield nA(t,s),function(l){const f=je(l);f.Bo.forEach((_,C)=>{sd(f.remoteStore,C)}),f.Uo.us(),f.Bo=new Map,f.Lo=new sr(Qe.comparator)}(t),t.Qo=!1,yield Rm(t.remoteStore,!1)}})).apply(this,arguments)}function nA(n,e,t){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,he.Z)(function*(n,e,t){const s=je(n),a=[],l=[];for(const f of e){let _;const C=s.Fo.get(f);if(C&&0!==C.length){_=yield nd(s.localStore,ls(C[0]));for(const S of C){const N=s.Oo.get(S),k=yield Zb(s,N);k.snapshot&&l.push(k.snapshot)}}else{const S=yield cb(s.localStore,f);_=yield nd(s.localStore,S),yield Fm(s,rA(S),f,!1)}a.push(_)}return s.$o.Rr(l),a})).apply(this,arguments)}function rA(n){return ql(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zb(n){const e=je(n);return je(je(e.localStore).persistence).pn()}function Wb(n,e,t,s){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,he.Z)(function*(n,e,t,s){const a=je(n);if(a.Qo)ke("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield K_(a.localStore),f=Th.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ea(a,l,f);break}case"rejected":yield yp(a.localStore,e,!0),Vh(a,e,s);break;default:nt()}})).apply(this,arguments)}function at(n,e,t){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,he.Z)(function*(n,e,t){const s=Ov(n);if(s.Qo){for(const a of e){if(s.Fo.has(a)){ke("SyncEngine","Adding an already active target "+a);continue}const l=yield cb(s.localStore,a),f=yield nd(s.localStore,l);yield Fm(s,rA(l),f.targetId,!1),Sm(s.remoteStore,f)}for(const a of t)s.Fo.has(a)&&(yield yp(s.localStore,a,!1).then(()=>{sd(s.remoteStore,a),Vh(s,a)}).catch(Rc))}})).apply(this,arguments)}function Ov(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QT.bind(null,e),e.$o.Rr=Tp.bind(null,e.eventManager),e.$o.Go=KT.bind(null,e.eventManager),e}function Pv(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XT.bind(null,e),e}class Yb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,he.Z)(function*(){t.N=rd(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return ub(this.persistence,new NT,e.initialUser,this.N)}Jo(e){return new fb(pb.Ns,this.N)}Ho(e){return new Im}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sp extends Yb{constructor(e,t,s){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield t().call(s,e),yield function(n){return wm.apply(this,arguments)}(s.localStore),yield s.Zo.initialize(s,e),yield Pv(s.Zo.syncEngine),yield od(s.Zo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Xo(e){return ub(this.persistence,new NT,e.initialUser,this.N)}Yo(e){return new tb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=ab(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new ob(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Eb(),Dm(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new Im}}class qm extends Sp{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield t().call(s,e);const a=s.Zo.syncEngine;s.sharedClientState instanceof Ep&&(s.sharedClientState.syncEngine={_i:ud.bind(null,a),mi:Wb.bind(null,a),gi:at.bind(null,a),pn:zb.bind(null,a),wi:Mv.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,he.Z)(function*(f){yield function(n,e){return kc.apply(this,arguments)}(s.Zo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}Ho(e){const t=Eb();if(!Ep.bt(t))throw new Me(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ab(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ep(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Fn{initialize(e,t){var s=this;return(0,he.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>jb(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Gb.bind(null,s.syncEngine),yield Rm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new WT}createDatastore(e){const t=rd(e.databaseInfo.databaseId),s=new vb(e.databaseInfo);return new GT(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=_=>jb(this.syncEngine,_,0),f=$T.bt()?new $T:new yb,new Cb(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,_,C,S){const N=new Lb(s,a,l,f,_,C);return S&&(N.Qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,he.Z)(function*(t){const s=je(t);ke("RemoteStore","RemoteStore shutting down."),s.Wr.add(5),yield Lh(s),s.zr.shutdown(),s.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function iA(n,e=10240){let t=0;return{read:()=>(0,he.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kv{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Lr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(s=>{s&&s.wo()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,he.Z)(function*(){const t=yield e.rc();if(null===t)return null;const s=e.sc.decode(t),a=Number(s);isNaN(a)&&e.oc(`length string (${s}) is not valid number`);const l=yield e.cc(a);return new Pb(JSON.parse(l),t.length+a)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,he.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}cc(e){var t=this;return(0,he.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const s=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,he.Z)(function*(){const t=yield e.nc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class sA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,he.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,he.Z)(function*(l,f){const _=je(l),C=lp(_.N)+"/documents",S={documents:f.map(ne=>cp(_.N,ne))},N=yield _.Ki("BatchGetDocuments",C,S),k=new Map;N.forEach(ne=>{const Ae=function(n,e){return"found"in e?function(t,s){pt(!!s.found);const a=jo(t,s.found.name),l=Qr(s.found.updateTime),f=new Gi({mapValue:{fields:s.found.fields}});return Zn.newFoundDocument(a,l,f)}(n,e):"missing"in e?function(t,s){pt(!!s.missing),pt(!!s.readTime);const a=jo(t,s.missing),l=Qr(s.readTime);return Zn.newNoDocument(a,l)}(n,e):nt()}(_.N,ne);k.set(Ae.key.toString(),Ae)});const Q=[];return f.forEach(ne=>{const Ae=k.get(ne.toString());pt(!!Ae),Q.push(Ae)}),Q}),function(l,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=Qe.fromPath(a);e.mutations.push(new R_(l,e.precondition(l)))}),yield(s=(0,he.Z)(function*(a,l){const f=je(a),_=lp(f.N)+"/documents",C={writes:l.map(S=>um(f.N,S))};yield f.Li("Commit",_,C)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=Dt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Me(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Me(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qb{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.hc=5,this.ar=new Tm(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,he.Z)(function*(){const t=new sA(e.datastore),s=e.fc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.dc(l)}))}).catch(a=>{e.dc(a)})}))}fc(e){try{const t=this.updateFunction(e);return!mh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Mw(t)}return!1}}class Jb{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=Fr.UNAUTHENTICATED,this.clientId=y_.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,he.Z)(function*(f){ke("FirestoreClient","Received user=",f.uid),yield a.credentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=zi(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Fv(n,e){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,he.Z)(function*(l){s.isEqual(l)||(yield Em(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function Xb(n,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Vv(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,he.Z)(function*(f,_){const C=je(f);C.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const S=Eu(C);C.Wr.add(3),yield Lh(C),S&&C.Hr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(_),C.Wr.delete(3),yield id(C)}),function(f,_){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function Vv(n){return cd.apply(this,arguments)}function cd(){return(cd=(0,he.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield Fv(n,new Yb)),n.offlineComponents})).apply(this,arguments)}function zm(n){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,he.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield Xb(n,new Fn)),n.onlineComponents})).apply(this,arguments)}function eC(n){return Vv(n).then(e=>e.persistence)}function Uh(n){return Vv(n).then(e=>e.localStore)}function Bv(n){return zm(n).then(e=>e.remoteStore)}function Wm(n){return zm(n).then(e=>e.syncEngine)}function ld(n){return jv.apply(this,arguments)}function jv(){return(jv=(0,he.Z)(function*(n){const e=yield zm(n),t=e.eventManager;return t.onListen=Vb.bind(null,e.syncEngine),t.onUnlisten=Ub.bind(null,e.syncEngine),t})).apply(this,arguments)}function tC(n,e,t={}){const s=new Lr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(a,l,f,_,C){const S=new xp({next:k=>{l.enqueueAndForget(()=>gv(a,N));const Q=k.docs.has(f);!Q&&k.fromCache?C.reject(new Me(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&k.fromCache&&_&&"server"===_.source?C.reject(new Me(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(k)},error:k=>C.reject(k)}),N=new mv(wc(f.path),S,{includeMetadataChanges:!0,fo:!0});return fv(a,N)}(yield ld(n),n.asyncQueue,e,t,s)})),s.promise}function $v(n,e,t={}){const s=new Lr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(a,l,f,_,C){const S=new xp({next:k=>{l.enqueueAndForget(()=>gv(a,N)),k.fromCache&&"server"===_.source?C.reject(new Me(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(k)},error:k=>C.reject(k)}),N=new mv(f,S,{includeMetadataChanges:!0,fo:!0});return fv(a,N)}(yield ld(n),n.asyncQueue,e,t,s)})),s.promise}class cA{constructor(e,t,s,a,l,f,_,C){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=C}}class Bh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bh&&e.projectId===this.projectId&&e.database===this.database}}const lA=new Map;function sC(n,e,t){if(!t)throw new Me(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dA(n,e,t,s){if(!0===e&&!0===s)throw new Me(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hA(n){if(!Qe.isDocumentKey(n))throw new Me(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hv(n){if(Qe.isDocumentKey(n))throw new Me(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dd(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function Kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dd(n);throw new Me(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oC(n,e){if(e<=0)throw new Me(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Gv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wu{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,e instanceof Bh?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Me(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(s.options.projectId)}(e))}get app(){if(!this._app)throw new Me(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new cw;switch(t.type){case"gapi":const s=t.client;return pt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new JD(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(fe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lA.get(e);t&&(ke("ComponentProvider","Removing Datastore"),lA.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class xi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class wa extends xi{constructor(e,t,s){super(e,t,wc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Qe(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function Fc(n,e,...t){if(n=(0,Mt.m9)(n),sC("collection","path",e),n instanceof wu){const s=on.fromString(e,...t);return Hv(s),new wa(n,null,s)}{if(!(n instanceof Rn||n instanceof wa))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(on.fromString(e,...t));return Hv(s),new wa(n.firestore,null,s)}}function Km(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=y_.I()),sC("doc","path",e),n instanceof wu){const s=on.fromString(e,...t);return hA(s),new Rn(n,null,new Qe(s))}{if(!(n instanceof Rn||n instanceof wa))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(on.fromString(e,...t));return hA(s),new Rn(n.firestore,n instanceof wa?n.converter:null,new Qe(s))}}function uC(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof Rn||n instanceof wa)&&(e instanceof Rn||e instanceof wa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hd(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof xi&&e instanceof xi&&n.firestore===e.firestore&&vh(n._query,e._query)&&n.converter===e.converter}class pA{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Tm(this,"async_queue_retry"),this.Rc=()=>{const t=Dm();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=Dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Lr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,he.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Sc(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(s=>{throw this.Tc=s,this.Ec=!1,hr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Ec=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const a=hv.createAndSchedule(this,e,t,s,l=>this.Vc(l));return this.yc.push(a),a}bc(){this.Tc&&nt()}verifyOperationInProgress(){}Sc(){var e=this;return(0,he.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Ym(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class gA{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends wu{constructor(e,t){super(e,t),this.type="firestore",this._queue=new pA,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lC(this),this._firestoreClient.terminate()}}function jh(n=(0,ji.getApp)()){return(0,ji._getProvider)(n,"firestore").getImmediate()}function pr(n){return n._firestoreClient||lC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lC(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cA(n._databaseId,l,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var l,_;n._firestoreClient=new Jb(n._credentials,n._queue,s)}function fC(n,e,t){const s=new Lr;return n.asyncQueue.enqueue((0,he.Z)(function*(){try{yield Fv(n,t),yield Xb(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function pC(n){if(n._initialized||n._terminated)throw new Me(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Yr.fromBase64String(e))}catch(t){throw new Me(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ba(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fd{constructor(e){this._methodName=e}}class Qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const gC=/^__.*__$/;class mC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new ds(e,this.data,t,this.fieldTransforms)}}class yC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _C(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class Np{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:s,Fc:!1});return a.Mc(e),a}Lc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:s,Fc:!1});return a.xc(),a}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Qv(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(_C(this.kc)&&gC.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class CA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||rd(e)}jc(e,t,s,a=!1){return new Np({kc:e,methodName:t,Kc:s,path:Dr.emptyPath(),Fc:!1,qc:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function pd(n){const e=n._freezeSettings(),t=rd(n._databaseId);return new CA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jm(n,e,t,s,a,l={}){const f=n.jc(l.merge||l.mergeFields?2:0,e,t,a);ty("Data must be an object, but it was:",f,s);const _=Kv(s,f);let C,S;if(l.merge)C=new Ci(f.fieldMask),S=f.fieldTransforms;else if(l.mergeFields){const N=[];for(const k of l.mergeFields){const Q=vC(e,k,t);if(!f.contains(Q))throw new Me(fe.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);ny(N,Q)||N.push(Q)}C=new Ci(N),S=f.fieldTransforms.filter(k=>C.covers(k.field))}else C=null,S=f.fieldTransforms;return new mC(new Gi(_),C,S)}class gd extends fd{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}function Xm(n,e,t){return new Np({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class ey extends fd{_toFieldTransform(e){return new rp(e.path,new wh)}isEqual(e){return e instanceof ey}}class Zv extends fd{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Xm(this,e,!0),s=this.Qc.map(l=>md(l,t)),a=new bh(s);return new rp(e.path,a)}isEqual(e){return this===e}}class IA extends fd{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Xm(this,e,!0),s=this.Qc.map(l=>md(l,t)),a=new Ic(s);return new rp(e.path,a)}isEqual(e){return this===e}}class DA extends fd{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Ch(e.N,A_(e.N,this.Wc));return new rp(e.path,t)}isEqual(e){return this===e}}function Op(n,e,t,s){const a=n.jc(1,e,t);ty("Data must be an object, but it was:",a,s);const l=[],f=Gi.empty();$l(s,(C,S)=>{const N=Lc(e,C,t);S=(0,Mt.m9)(S);const k=a.Lc(N);if(S instanceof gd)l.push(N);else{const Q=md(S,k);null!=Q&&(l.push(N),f.set(N,Q))}});const _=new Ci(l);return new yC(f,_,a.fieldTransforms)}function zv(n,e,t,s,a,l){const f=n.jc(1,e,t),_=[vC(e,s,t)],C=[a];if(l.length%2!=0)throw new Me(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)_.push(vC(e,l[Q])),C.push(l[Q+1]);const S=[],N=Gi.empty();for(let Q=_.length-1;Q>=0;--Q)if(!ny(S,_[Q])){const ne=_[Q];let Ae=C[Q];Ae=(0,Mt.m9)(Ae);const Be=f.Lc(ne);if(Ae instanceof gd)S.push(ne);else{const Ye=md(Ae,Be);null!=Ye&&(S.push(ne),N.set(ne,Ye))}}const k=new Ci(S);return new yC(N,k,f.fieldTransforms)}function Wv(n,e,t,s=!1){return md(t,n.jc(s?4:3,e))}function md(n,e){if(Yv(n=(0,Mt.m9)(n)))return ty("Unsupported field value:",e,n),Kv(n,e);if(n instanceof fd)return function(t,s){if(!_C(s.kc))throw s.Uc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Uc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let _=md(f,s.Bc(l));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return A_(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Kr.fromDate(t);return{timestampValue:xh(s.N,a)}}if(t instanceof Kr){const a=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xh(s.N,a)}}if(t instanceof Qm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ba)return{bytesValue:Vw(s.N,t._byteString)};if(t instanceof Rn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:up(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Uc(`Unsupported field value: ${dd(t)}`)}(n,e)}function Kv(n,e){const t={};return fw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(n,(s,a)=>{const l=md(a,e.Oc(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Yv(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kr||n instanceof Qm||n instanceof ba||n instanceof Rn||n instanceof fd)}function ty(n,e,t){if(!Yv(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=dd(t);throw e.Uc("an object"===s?n+" a custom object":n+" "+s)}var s}function vC(n,e,t){if((e=(0,Mt.m9)(e))instanceof bu)return e._internalPath;if("string"==typeof e)return Lc(n,e);throw Qv("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const TA=new RegExp("[~\\*/\\[\\]]");function Lc(n,e,t){if(e.search(TA)>=0)throw Qv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bu(...e.split("."))._internalPath}catch(s){throw Qv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qv(n,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let C="";return(l||f)&&(C+=" (found",l&&(C+=` in field ${s}`),f&&(C+=` in document ${a}`),C+=")"),new Me(fe.INVALID_ARGUMENT,_+n+C)}function ny(n,e){return n.some(t=>t.isEqual(e))}class Vc{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AA extends Vc{data(){return super.data()}}function Cu(n,e){return"string"==typeof e?Lc(n,e):e instanceof bu?e._internalPath:e._delegate._internalPath}class yd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uc extends Vc{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Pp extends Uc{data(e={}){return super.data(e)}}class ci{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yd(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Pp(this._firestore,this._userDataWriter,s.key,s,new yd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Pp(s._firestore,s._userDataWriter,f.doc.key,f.doc,new yd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const _=new Pp(s._firestore,s._userDataWriter,f.doc.key,f.doc,new yd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let C=-1,S=-1;return 0!==f.type&&(C=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),S=l.indexOf(f.doc.key)),{type:EC(f.type),doc:_,oldIndex:C,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function SA(n,e){return n instanceof Uc&&e instanceof Uc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ci&&e instanceof ci&&n._firestore===e._firestore&&hd(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function kp(n){if(bc(n)&&0===n.explicitOrderBy.length)throw new Me(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{}function Bc(n,...e){for(const t of e)n=t._apply(n);return n}class E1 extends Fp{constructor(e,t,s){super(),this.Gc=e,this.zc=t,this.Hc=s,this.type="where"}_apply(e){const t=pd(e.firestore),s=function(a,l,f,_,C,S,N){let k;if(C.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){n0(N,S);const ne=[];for(const Ae of N)ne.push(t0(_,a,Ae));k={arrayValue:{values:ne}}}else k=t0(_,a,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||n0(N,S),k=Wv(f,"where",N,"in"===S||"not-in"===S);const Q=oi.create(C,S,k);return function(ne,Ae){if(Ae.v()){const Ye=I_(ne);if(null!==Ye&&!Ye.isEqual(Ae.field))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ye.toString()}' and '${Ae.field.toString()}'`);const Gt=Cc(ne);null!==Gt&&CC(0,Ae.field,Gt)}const Be=function(Ye,Gt){for(const gn of Ye.filters)if(Gt.indexOf(gn.op)>=0)return gn.op;return null}(ne,function(Ye){switch(Ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ae.op));if(null!==Be)throw new Me(fe.INVALID_ARGUMENT,Be===Ae.op?`Invalid query. You cannot use more than one '${Ae.op.toString()}' filter.`:`Invalid query. You cannot use '${Ae.op.toString()}' filters with '${Be.toString()}' filters.`)}(a,Q),Q}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new xi(e.firestore,e.converter,function(a,l){const f=a.filters.concat([l]);return new ks(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class MA extends Fp{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new _h(a,l);return function(_,C){if(null===Cc(_)){const S=I_(_);null!==S&&CC(0,S,C.field)}}(s,f),f}(e._query,this.Gc,this.Jc);return new xi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new ks(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ry extends Fp{constructor(e,t,s){super(),this.type=e,this.Yc=t,this.Xc=s}_apply(e){return new xi(e.firestore,e.converter,rm(e._query,this.Yc,this.Xc))}}class Xv extends Fp{constructor(e,t,s){super(),this.type=e,this.Zc=t,this.ta=s}_apply(e){const t=e0(e,this.type,this.Zc,this.ta);return new xi(e.firestore,e.converter,(a=t,new ks((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class bC extends Fp{constructor(e,t,s){super(),this.type=e,this.Zc=t,this.ta=s}_apply(e){const t=e0(e,this.type,this.Zc,this.ta);return new xi(e.firestore,e.converter,(a=t,new ks((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function e0(n,e,t,s){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof Vc)return function(a,l,f,_,C){if(!_)throw new Me(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const S=[];for(const N of Zl(a))if(N.field.isKeyField())S.push(tp(l,_.key));else{const k=_.data.field(N.field);if(Jf(k))throw new Me(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const Q=N.field.canonicalString();throw new Me(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}S.push(k)}return new tm(S,C)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=pd(n.firestore);return function(l,f,_,C,S,N){const k=l.explicitOrderBy;if(S.length>k.length)throw new Me(fe.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let ne=0;ne<S.length;ne++){const Ae=S[ne];if(k[ne].field.isKeyField()){if("string"!=typeof Ae)throw new Me(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof Ae}`);if(!nm(l)&&-1!==Ae.indexOf("/"))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${Ae}' contains a slash.`);const Be=l.path.child(on.fromString(Ae));if(!Qe.isDocumentKey(Be))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const Ye=new Qe(Be);Q.push(tp(f,Ye))}else{const Be=Wv(_,C,Ae);Q.push(Be)}}return new tm(Q,N)}(n._query,n.firestore._databaseId,a,e,t,s)}}function t0(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!nm(e)&&-1!==t.indexOf("/"))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(on.fromString(t));if(!Qe.isDocumentKey(s))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tp(n,new Qe(s))}if(t instanceof Rn)return tp(n,t._key);throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(t)}.`)}function n0(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function CC(n,e,t){if(!t.isEqual(e))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class r0{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const s={};return $l(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Qm(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=eT(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=on.fromString(e);pt(Zw(s));const a=new Bh(s.get(1),s.get(3)),l=new Qe(s.popFirst(5));return a.isEqual(t)||hr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Lp(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class iy extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class IC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pd(e)}set(e,t,s){this._verifyNotCommitted();const a=Iu(e,this._firestore),l=Lp(a.converter,t,s),f=Jm(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,fr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=Iu(e,this._firestore);let f;return f="string"==typeof(t=(0,Mt.m9)(t))||t instanceof bu?zv(this._dataReader,"WriteBatch.update",l._key,t,s,a):Op(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Iu(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new Me(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ca extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function _d(n){n=Kt(n,xi);const e=Kt(n.firestore,Wn),t=pr(e),s=new Ca(e);return kp(n._query),$v(t,n._query).then(a=>new ci(e,s,n,a))}function DC(n,e,t){n=Kt(n,Rn);const s=Kt(n.firestore,Wn),a=Lp(n.converter,e,t);return $h(s,[Jm(pd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,fr.none())])}function TC(n,e,t,...s){n=Kt(n,Rn);const a=Kt(n.firestore,Wn),l=pd(a);let f;return f="string"==typeof(e=(0,Mt.m9)(e))||e instanceof bu?zv(l,"updateDoc",n._key,e,t,s):Op(l,"updateDoc",n._key,e),$h(a,[f.toMutation(n._key,fr.exists(!0))])}function AC(n,...e){var t,s,a;n=(0,Mt.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Ym(e[f])||(l=e[f],f++);const _={includeMetadataChanges:l.includeMetadataChanges};if(Ym(e[f])){const k=e[f];e[f]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[f+1]=null===(s=k.error)||void 0===s?void 0:s.bind(k),e[f+2]=null===(a=k.complete)||void 0===a?void 0:a.bind(k)}let C,S,N;if(n instanceof Rn)S=Kt(n.firestore,Wn),N=wc(n._key.path),C={next:k=>{e[f]&&e[f](s0(S,n,k))},error:e[f+1],complete:e[f+2]};else{const k=Kt(n,xi);S=Kt(k.firestore,Wn),N=k._query;const Q=new Ca(S);C={next:ne=>{e[f]&&e[f](new ci(S,Q,k,ne))},error:e[f+1],complete:e[f+2]},kp(n._query)}return function(k,Q,ne,Ae){const Be=new xp(Ae),Ye=new mv(Q,Be,ne);return k.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return fv(yield ld(k),Ye)})),()=>{Be.ec(),k.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return gv(yield ld(k),Ye)}))}}(pr(S),N,_,C)}function $h(n,e){return function(t,s){const a=new Lr;return t.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(n,e,t){return wv.apply(this,arguments)}(yield Wm(t),s,a)})),a.promise}(pr(n),e)}function s0(n,e,t){const s=t.docs.get(e._key),a=new Ca(n);return new Uc(n,a,e._key,s,new yd(t.hasPendingWrites,t.fromCache),e.converter)}class C1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pd(e)}get(e){const t=Iu(e,this._firestore),s=new iy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return nt();const l=a[0];if(l.isFoundDocument())return new Vc(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new Vc(this._firestore,s,t._key,null,t.converter);throw nt()})}set(e,t,s){const a=Iu(e,this._firestore),l=Lp(a.converter,t,s),f=Jm(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const l=Iu(e,this._firestore);let f;return f="string"==typeof(t=(0,Mt.m9)(t))||t instanceof bu?zv(this._dataReader,"Transaction.update",l._key,t,s,a):Op(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=Iu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Iu(e,this._firestore),s=new Ca(this._firestore);return super.get(e).then(a=>new Uc(this._firestore,s,t._key,a._document,new yd(!1,!1),t.converter))}}function xC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function MC(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function Bp(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ul=ji.SDK_VERSION,(0,ji._registerComponent)(new $i.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),l=new Wn(a,new lw(t.getProvider("auth-internal")));return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC")),(0,ji.registerVersion)(m_,"3.3.0",n),(0,ji.registerVersion)(m_,"3.3.0","esm2017")}();class jp{constructor(e){this._delegate=e}static fromBase64String(e){return Bp(),new jp(ba.fromBase64String(e))}static fromUint8Array(e){return MC(),new jp(ba.fromUint8Array(e))}toBase64(){return Bp(),this._delegate.toBase64()}toUint8Array(){return MC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function o0(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class NC{enableIndexedDbPersistence(e,t){return function(n,e){pC(n=Kt(n,Wn));const t=pr(n),s=n._freezeSettings(),a=new Fn;return fC(t,a,new Sp(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){pC(n=Kt(n,Wn));const e=pr(n),t=n._freezeSettings(),s=new Fn;return fC(e,s,new qm(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Me(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(t=(0,he.Z)(function*(s){if(!va.bt())return Promise.resolve();const a=s+"main";yield va.delete(a)}),function(s){return t.apply(this,arguments)})(ab(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ay{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=Kt(n,wu))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Bl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,_;if("string"==typeof s.mockUserToken)f=s.mockUserToken,_=Fr.MOCK_USER;else{f=(0,Mt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Me(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Fr(C)}n._credentials=new YD(new KD(f,_))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield eC(n),t=yield Bv(n);return e.setNetworkEnabled(!0),function(s){const a=je(s);return a.Wr.delete(0),id(a)}(t)}))}(pr(n=Kt(n,Wn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield eC(n),t=yield Bv(n);return e.setNetworkEnabled(!1),(s=(0,he.Z)(function*(a){const l=je(a);l.Wr.add(0),yield Lh(l),l.Hr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(pr(n=Kt(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,dA("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Lr;return e.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(n,e){return Tv.apply(this,arguments)}(yield Wm(e),t)})),t.promise}(pr(n=Kt(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new xp(e);return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return s=yield ld(n),a=t,je(s).so.add(a),void a.next();var s,a})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return s=yield ld(n),a=t,void je(s).so.delete(a);var s,a}))}}(pr(n=Kt(n,Wn)),Ym(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ia(this,Fc(this._delegate,e))}catch(t){throw Mi(t,"collection()","Firestore.collection()")}}doc(e){try{return new fo(this,Km(this._delegate,e))}catch(t){throw Mi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new It(this,function(n,e){if(n=Kt(n,wu),sC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xi(n,null,(t=e,new ks(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Mi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const s=yield(a=n,zm(a).then(l=>l.datastore));var a;new Qb(n.asyncQueue,s,e,t).run()})),t.promise}(pr(n=Kt(n,Wn)),t=>e(new C1(n,t)))}(this._delegate,t=>e(new PC(this,t)))}batch(){return pr(this._delegate),new kC(new IC(this._delegate,e=>$h(this._delegate,e)))}loadBundle(e){return function(n,e){const t=pr(n=Kt(n,Wn)),s=new gA;return function(n,e,t,s){const a=function(l,f){let _;return _="string"==typeof l?(new TextEncoder).encode(l):l,C=function(C,S){if(C instanceof Uint8Array)return iA(C,S);if(C instanceof ArrayBuffer)return iA(new Uint8Array(C),S);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new kv(C,f);var C}(t,rd(e));n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function(n,e,t){const s=je(n);var a;(a=(0,he.Z)(function*(l,f,_){try{const C=yield f.getMetadata();if(yield function(Q,ne){const Ae=je(Q),Be=Qr(ne.createTime);return Ae.persistence.runTransaction("hasNewerBundle","readonly",Ye=>Ae.Je.getBundleMetadata(Ye,ne.id)).then(Ye=>!!Ye&&Ye.createTime.compareTo(Be)>=0)}(l.localStore,C))return yield f.close(),void _._completeWith((Q=C,{taskState:"Success",documentsLoaded:Q.totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}));_._updateProgress(kb(C));const S=new Om(C,l.localStore,f.N);let N=yield f.zo();for(;N;){const Q=yield S.mo(N);Q&&_._updateProgress(Q),N=yield f.zo()}const k=yield S.complete();yield Ea(l,k.En,void 0),yield function(Q,ne){const Ae=je(Q);return Ae.persistence.runTransaction("Save bundle","readwrite",Be=>Ae.Je.saveBundleMetadata(Be,ne))}(l.localStore,C),_._completeWith(k.progress)}catch(C){Bl("SyncEngine",`Loading bundle failed with ${C}`),_._failWith(C)}var Q}),function(l,f,_){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Wm(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,he.Z)(function*(){return function(t,s){const a=je(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield Uh(n),e)}))}(pr(n=Kt(n,Wn)),e).then(t=>t?new xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new It(this,t):null)}}class $p extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new jp(new ba(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fo.forKey(t,this.firestore,null)}}class PC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $p(e)}get(e){const t=Gh(e);return this._delegate.get(t).then(s=>new uy(this._firestore,new Uc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Gh(e);return s?(xC("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Gh(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Gh(e);return this._delegate.delete(t),this}}class kC{constructor(e){this._delegate=e}set(e,t,s){const a=Gh(e);return s?(xC("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Gh(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Gh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Pp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Du(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=jc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new jc(e,new $p(e),t),a.set(t,l)),l}}jc.INSTANCES=new WeakMap;class fo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $p(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fo(t,new Rn(t._delegate,s,new Qe(e)))}static forKey(e,t,s){return new fo(t,new Rn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Ia(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ia(this.firestore,Fc(this._delegate,e))}catch(t){throw Mi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Rn&&uC(this._delegate,e)}set(e,t){t=xC("DocumentReference.set",t);try{return t?DC(this._delegate,e,t):DC(this._delegate,e)}catch(s){throw Mi(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?TC(this._delegate,e):TC(this._delegate,e,t,...s)}catch(a){throw Mi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return $h(Kt(n.firestore,Wn),[new Ih(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=Hp(e),s=Gp(e,a=>new uy(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return AC(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Kt(n,Rn);const e=Kt(n.firestore,Wn),t=pr(e),s=new Ca(e);return function(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(a,l,f){try{const _=yield function(C,S){const N=je(C);return N.persistence.runTransaction("read document","readonly",k=>N.Qn.An(k,S))}(a,l);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new Me(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const C=zi(_,`Failed to get document '${l} from cache`);f.reject(C)}}),function(a,l,f){return s.apply(this,arguments)})(yield Uh(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Uc(e,s,n._key,a,new yd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Kt(n,Rn);const e=Kt(n.firestore,Wn);return tC(pr(e),n._key,{source:"server"}).then(t=>s0(e,n,t))}(this._delegate):function(n){n=Kt(n,Rn);const e=Kt(n.firestore,Wn);return tC(pr(e),n._key).then(t=>s0(e,n,t))}(this._delegate),t.then(s=>new uy(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new fo(this.firestore,this._delegate.withConverter(e?jc.getInstance(this.firestore,e):null))}}function Mi(n,e,t){return n.message=n.message.replace(e,t),n}function Hp(n){for(const e of n)if("object"==typeof e&&!o0(e))return e;return{}}function Gp(n,e){var t,s;let a;return a=o0(n[0])?n[0]:o0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class uy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SA(this._delegate,e._delegate)}}class Du extends uy{data(e){const t=this._delegate.data(e);return function(n,e){n||nt()}(void 0!==t),t}}class It{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $p(e)}where(e,t,s){try{return new It(this.firestore,Bc(this._delegate,function(n,e,t){const s=e,a=Cu("where",n);return new E1(a,s,t)}(e,t,s)))}catch(a){throw Mi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new It(this.firestore,Bc(this._delegate,function(n,e="asc"){const t=e,s=Cu("orderBy",n);return new MA(s,t)}(e,t)))}catch(s){throw Mi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new It(this.firestore,Bc(this._delegate,function(n){return oC("limit",n),new ry("limit",n,"F")}(e)))}catch(t){throw Mi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new It(this.firestore,Bc(this._delegate,function(n){return oC("limitToLast",n),new ry("limitToLast",n,"L")}(e)))}catch(t){throw Mi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new It(this.firestore,Bc(this._delegate,function(...n){return new Xv("startAt",n,!0)}(...e)))}catch(t){throw Mi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new It(this.firestore,Bc(this._delegate,function(...n){return new Xv("startAfter",n,!1)}(...e)))}catch(t){throw Mi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new It(this.firestore,Bc(this._delegate,function(...n){return new bC("endBefore",n,!0)}(...e)))}catch(t){throw Mi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new It(this.firestore,Bc(this._delegate,function(...n){return new bC("endAt",n,!1)}(...e)))}catch(t){throw Mi(t,"endAt()","Query.endAt()")}}isEqual(e){return hd(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Kt(n,xi);const e=Kt(n.firestore,Wn),t=pr(e),s=new Ca(e);return function(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(a,l,f){try{const _=yield vu(a,l,!0),C=new Ev(l,_.Gn),S=C.bo(_.documents),N=C.applyChanges(S,!1);f.resolve(N.snapshot)}catch(_){const C=zi(_,`Failed to execute query '${l} against cache`);f.reject(C)}}),function(a,l,f){return s.apply(this,arguments)})(yield Uh(n),e,t);var s})),t.promise}(t,n._query).then(a=>new ci(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Kt(n,xi);const e=Kt(n.firestore,Wn),t=pr(e),s=new Ca(e);return $v(t,n._query,{source:"server"}).then(a=>new ci(e,s,n,a))}(this._delegate):_d(this._delegate),t.then(s=>new Hc(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Hp(e),s=Gp(e,a=>new Hc(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return AC(this._delegate,t,s)}withConverter(e){return new It(this.firestore,this._delegate.withConverter(e?jc.getInstance(this.firestore,e):null))}}class $c{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Du(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hc{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new It(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Du(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $c(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Du(this._firestore,s))})}isEqual(e){return SA(this._delegate,e._delegate)}}class Ia extends It{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fo(this.firestore,e):null}doc(e){try{return new fo(this.firestore,void 0===e?Km(this._delegate):Km(this._delegate,e))}catch(t){throw Mi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Kt(n.firestore,Wn),s=Km(n),a=Lp(n.converter,e);return $h(t,[Jm(pd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,fr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new fo(this.firestore,t))}isEqual(e){return uC(this._delegate,e._delegate)}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?jc.getInstance(this.firestore,e):null))}}function Gh(n){return Kt(n,Rn)}class _t{constructor(...e){this._delegate=new bu(...e)}static documentId(){return new _t(Dr.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof bu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xr{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ey("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Xr(e)}static delete(){const e=new gd("deleteField");return e._methodName="FieldValue.delete",new Xr(e)}static arrayUnion(...e){const t=function(...n){return new Zv("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xr(t)}static arrayRemove(...e){const t=function(...n){return new IA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xr(t)}static increment(e){const t=function(n){return new DA("increment",n)}(e);return t._methodName="FieldValue.increment",new Xr(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const a0={Firestore:ay,GeoPoint:Qm,Timestamp:Kr,Blob:jp,Transaction:PC,WriteBatch:kC,DocumentReference:fo,DocumentSnapshot:uy,Query:It,QueryDocumentSnapshot:Du,QuerySnapshot:Hc,CollectionReference:Ia,FieldPath:_t,FieldValue:Xr,setLogLevel:function(n){!function(n){Uo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new $i.wA("firestore-compat",t=>((e,t)=>new ay(e,t,new NC))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},a0)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(ua.Z);var Tu=F(9765),FC=F(6682),cy=F(309),qh=F(5345);function Ri(n,e){return"function"==typeof e?t=>t.pipe(Ri((s,a)=>(0,ln.D)(n(s,a)).pipe((0,dt.U)((l,f)=>e(s,l,a,f))))):t=>t.lift(new po(n))}class po{constructor(e){this.project=e}call(e,t){return t.subscribe(new Kn(e,this.project))}}class Kn extends qh.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new qh.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,qh.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Zo=F(7771),u0=F(5319),LC=F(7971),VC=F(8858);class c0 extends Tu.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Zh(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let f;if(this.closed)throw new LC.N;if(this.isStopped||this.hasError?f=u0.w.EMPTY:(this.observers.push(e),f=new VC.W(this,e)),a&&e.add(e=new cy.ht(e,a)),t)for(let _=0;_<l&&!e.closed;_++)e.next(s[_]);else for(let _=0;_<l&&!e.closed;_++)e.next(s[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||Zo.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let f=0;for(;f<l&&!(e-a[f].time<s);)f++;return l>t&&(f=Math.max(f,l-t)),f>0&&a.splice(0,f),a}}class Zh{constructor(e,t){this.time=e,this.value=t}}function zh(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,f,l=0,_=!1,C=!1;return function(N){let k;l++,!a||_?(_=!1,a=new c0(n,e,s),k=a.subscribe(this),f=N.subscribe({next(Q){a.next(Q)},error(Q){_=!0,a.error(Q)},complete(){C=!0,f=void 0,a.complete()}}),C&&(f=void 0)):k=a.subscribe(this),this.add(()=>{l--,k.unsubscribe(),k=void 0,f&&!C&&t&&0===l&&(f.unsubscribe(),f=void 0,a=void 0)})}}(s))}const ly=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})(),dy=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var go=F(9193);function qp(n){return e=>0===n?(0,go.c)():e.lift(new UC(n))}class UC{constructor(e){if(this.total=e,this.total<0)throw new dy}call(e,t){return t.subscribe(new Kh(e,this.total))}}class Kh extends zt.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function BC(n=null){return e=>e.lift(new hy(n))}class hy{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new jC(e,this.defaultValue))}}class jC extends zt.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function l0(n=zA){return e=>e.lift(new $C(n))}class $C{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new fy(e,this.errorFactory))}}class fy extends zt.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function zA(){return new ly}var py=F(4487);function Au(n,e){const t=arguments.length>=2;return s=>s.pipe(n?zr((a,l)=>n(a,l,s)):py.y,qp(1),t?BC(e):l0(()=>new ly))}function WA(n,e){return e?Ri(()=>n,e):Ri(()=>n)}var HC=F(3101);F(2329);const qC=new Map,f0={activated:!1,tokenObservers:[]},QA={initialized:!1,enabled:!1};function Oi(n){return qC.get(n)||f0}function mo(n,e){qC.set(n,e)}function Yh(){return QA}class eS{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,he.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pi=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function zC(n){if(!Oi(n).activated)throw Pi.create("use-before-activation",{appName:n.name})}function Ed(n,e){return KC.apply(this,arguments)}function KC(){return(KC=(0,he.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let f,_;try{f=yield fetch(n,l)}catch(k){throw Pi.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==f.status)throw Pi.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(k){throw Pi.create("fetch-parse-error",{originalErrorMessage:k.message})}const C=_.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(C[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+S,issuedAtTimeMillis:N}})).apply(this,arguments)}function iS(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const zp="firebase-app-check-store";let my=null;function QC(){return my||(my=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Pi.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(zp,{keyPath:"compositeKey"})}}}catch(t){e(Pi.create("storage-open",{originalErrorMessage:t.message}))}}),my)}function y0(){return(y0=(0,he.Z)(function*(n,e){const s=(yield QC()).transaction(zp,"readwrite"),l=s.objectStore(zp).put({compositeKey:n,value:e});return new Promise((f,_)=>{l.onsuccess=C=>{f()},s.onerror=C=>{var S;_(Pi.create("storage-set",{originalErrorMessage:null===(S=C.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const yy=new to.Yd("@firebase/app-check");function nI(n,e){return(0,Mt.hl)()?function(n,e){return function(n,e){return y0.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{yy.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function v0(){return Yh().enabled}function yo(){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,he.Z)(function*(){const n=Yh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rI={error:"UNKNOWN_ERROR"};function iI(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function Yp(n){return E0.apply(this,arguments)}function E0(){return(E0=(0,he.Z)(function*(n,e=!1){const t=n.app;zC(t);const s=Oi(t);let l,f,a=s.token;if(!a){const _=yield s.cachedTokenPromise;_&&_y(_)&&(a=_,mo(t,Object.assign(Object.assign({},s),{token:a})),aI(t,{token:a.token}))}if(!e&&a&&_y(a))return{token:a.token};if(v0()){const _=yield Ed(iS(t,yield yo()),n.platformLoggerProvider);return yield nI(t,_),mo(t,Object.assign(Object.assign({},s),{token:_})),{token:_.token}}try{a=yield s.provider.getToken()}catch(_){yy.error(_),l=_}return a?(f={token:a.token},mo(t,Object.assign(Object.assign({},s),{token:a})),yield nI(t,a)):f=uS(l),aI(t,f),f})).apply(this,arguments)}function w0(n,e){const t=Oi(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),mo(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function aI(n,e){const t=Oi(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function _y(n){return n.expireTimeMillis-Date.now()>0}function uS(n){return{token:iI(rI),error:n}}class cS{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Oi(this.app);for(const t of e)w0(this.app,t.next);return Promise.resolve()}}const mI="app-check-internal";(0,ji._registerComponent)(new $i.wA("app-check",n=>function(n,e){return new cS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mI).initialize()})),(0,ji._registerComponent)(new $i.wA(mI,n=>function(n){return{getToken:e=>Yp(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=Oi(a),f={next:t,error:s,type:e},_=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]});if(!_.tokenRefresher){const C=function(n){const{app:e}=n;return new eS((0,he.Z)(function*(){let s;if(s=Oi(e).token?yield Yp(n,!0):yield Yp(n),s.error)throw s.error}),()=>!0,()=>{const t=Oi(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=C}if(!_.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),l.token&&_y(l.token)){const C=l.token;Promise.resolve().then(()=>t({token:C.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(C=>{C&&_y(C)&&t({token:C.token})}).catch(()=>{});mo(a,_)}(n,"INTERNAL",e),removeTokenListener:e=>w0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ji.registerVersion)("@firebase/app-check","0.5.1");class D0{constructor(){return(0,$n.vb)("app-check")}}"undefined"!=typeof window&&window;var A0=F(7841);const bI=new h.OlP("angularfire2.auth.use-emulator"),CI=new h.OlP("angularfire2.auth.settings"),II=new h.OlP("angularfire2.auth.tenant-id"),S0=new h.OlP("angularfire2.auth.langugage-code"),Cy=new h.OlP("angularfire2.auth.use-device-language"),x0=new h.OlP("angularfire.auth.persistence"),DI=(n,e,t,s,a,l,f,_)=>(0,mi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),s&&(C.tenantId=s),C.languageCode=a,l&&C.useDeviceLanguage(),f)for(const[S,N]of Object.entries(f))C.settings[S]=N;return _&&C.setPersistence(_),C},[t,s,a,l,f,_]);let M0=(()=>{class n{constructor(t,s,a,l,f,_,C,S,N,k,Q,ne){const Ae=new Tu.xQ,Be=(0,tt.of)(void 0).pipe((0,cy.QV)(f.outsideAngular),Ri(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,dt.U)(()=>(0,mi.on)(t,l,s)),(0,dt.U)(Ye=>DI(Ye,l,_,S,N,k,C,Q)),zh({bufferSize:1,refCount:!1}));if(To(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,tt.of)(null);else{Be.pipe(Au()).subscribe();const Gt=Be.pipe(Ri(Yt=>Yt.getRedirectResult().then(Sr=>Sr,()=>null)),$n.iC,zh({bufferSize:1,refCount:!1})),gn=Be.pipe(Ri(Yt=>new yi.y(Sr=>({unsubscribe:l.runOutsideAngular(()=>Yt.onAuthStateChanged(xa=>Sr.next(xa),xa=>Sr.error(xa),()=>Sr.complete()))})))),Ln=Be.pipe(Ri(Yt=>new yi.y(Sr=>({unsubscribe:l.runOutsideAngular(()=>Yt.onIdTokenChanged(xa=>Sr.next(xa),xa=>Sr.error(xa),()=>Sr.complete()))}))));this.authState=Gt.pipe(WA(gn),(0,HC.R)(f.outsideAngular),(0,cy.QV)(f.insideAngular)),this.user=Gt.pipe(WA(Ln),(0,HC.R)(f.outsideAngular),(0,cy.QV)(f.insideAngular)),this.idToken=this.user.pipe(Ri(Yt=>Yt?(0,ln.D)(Yt.getIdToken()):(0,tt.of)(null))),this.idTokenResult=this.user.pipe(Ri(Yt=>Yt?(0,ln.D)(Yt.getIdTokenResult()):(0,tt.of)(null))),this.credential=(0,FC.T)(Gt,Ae,this.authState.pipe(zr(Yt=>!Yt))).pipe((0,dt.U)(Yt=>(null==Yt?void 0:Yt.user)?Yt:null),(0,HC.R)(f.outsideAngular),(0,cy.QV)(f.insideAngular))}return(0,mi.pX)(this,Be,l,{spy:{apply:(Ye,Gt,gn)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&gn.then(Ln=>Ae.next(Ln))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(mi.Dh),h.LFG(mi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG($n.HU),h.LFG(bI,8),h.LFG(CI,8),h.LFG(II,8),h.LFG(S0,8),h.LFG(Cy,8),h.LFG(x0,8),h.LFG(D0,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function R0(n,e){return function(n,e=Ts.z){return new yi.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function N0(n,e){return R0(n,e).pipe((0,dt.U)(t=>({payload:t,type:"query"})))}function Qp(n,e){return N0(n,e).pipe(za(void 0),rc(),(0,dt.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,_)=>{const C=a.find(N=>N.doc.ref.isEqual(f.ref)),S=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(f.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(f.metadata)||!C&&S&&JSON.stringify(S.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),l}))}function AI(n,e,t){return Qp(n,t).pipe(As((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return li(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return li(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return li(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new Ss(void 0,void 0)),(0,dt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function li(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function SI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xI{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Qp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,dt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(za(void 0),rc(),zr(([s,a])=>a.length>0||!s),(0,dt.U)(([s,a])=>a),$n.iC)}auditTrail(e){return this.stateChanges(e).pipe(As((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=SI(e);return AI(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return N0(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),$n.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe($n.iC)}add(e){return this.ref.add(e)}doc(e){return new AS(this.ref.doc(e),this.afs)}}class AS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=NI(s,t);return new xI(a,l,this.afs)}snapshotChanges(){return function(n,e){return R0(n,e).pipe(za(void 0),rc(),(0,dt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ln.D)(this.ref.get(e)).pipe($n.iC)}}class Jp{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qp(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),zr(t=>t.length>0),$n.iC):Qp(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(e){return this.stateChanges(e).pipe(As((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=SI(e);return AI(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return N0(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),$n.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe($n.iC)}}const MI=new h.OlP("angularfire2.enableFirestorePersistence"),Iy=new h.OlP("angularfire2.firestore.persistenceSettings"),SS=new h.OlP("angularfire2.firestore.settings"),RI=new h.OlP("angularfire2.firestore.use-emulator");function NI(n,e=(t=>t)){return{query:e(n),ref:n}}let bd=(()=>{class n{constructor(t,s,a,l,f,_,C,S,N,k,Q,ne,Ae,Be,Ye,Gt,gn){this.schedulers=C;const Ln=(0,mi.on)(t,_,s),Yt=N;k&&DI(Ln,_,Q,Ae,Be,Ye,ne,Gt),[this.firestore,this.persistenceEnabled$]=(0,mi.cc)(`${Ln.name}.firestore`,"AngularFirestore",Ln.name,()=>{const Sr=_.runOutsideAngular(()=>Ln.firestore());if(l&&Sr.settings(l),Yt&&Sr.useEmulator(...Yt),a&&!To(f)){const xa=()=>{try{return(0,ln.D)(Sr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(cN){return"undefined"!=typeof console&&console.warn(cN),(0,tt.of)(!1)}};return[Sr,_.runOutsideAngular(xa)]}return[Sr,(0,tt.of)(!1)]},[l,Yt,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=NI(a,s),_=this.schedulers.ngZone.run(()=>l);return new xI(_,f,this)}collectionGroup(t,s){const a=s||(f=>f),l=this.firestore.collectionGroup(t);return new Jp(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new AS(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(mi.Dh),h.LFG(mi.xv,8),h.LFG(MI,8),h.LFG(SS,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG($n.HU),h.LFG(Iy,8),h.LFG(RI,8),h.LFG(M0,8),h.LFG(bI,8),h.LFG(CI,8),h.LFG(II,8),h.LFG(S0,8),h.LFG(Cy,8),h.LFG(x0,8),h.LFG(D0,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),O0=(()=>{class n{constructor(){A0.Z.registerVersion("angularfire",$n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:MI,useValue:!0},{provide:Iy,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[bd]}),n})();const Dy_firebase={apiKey:"AIzaSyB2fVSH0al6qBICMHEcj473XpriOfFG0Tc",authDomain:"darshan-jewellers-a076c.firebaseapp.com",projectId:"darshan-jewellers-a076c",storageBucket:"darshan-jewellers-a076c.appspot.com",messagingSenderId:"704938442721",appId:"1:704938442721:web:b171793e93624455441ca0",measurementId:"G-L8G8M461WG"};var Ty=F(9796),Ay=F(1555);function k0(n,e){return new yi.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,f=0;for(let _=0;_<s;_++){const C=(0,ln.D)(n[_]);let S=!1;t.add(C.subscribe({next:N=>{S||(S=!0,f++),a[_]=N},error:N=>t.error(N),complete:()=>{l++,(l===s||!S)&&(f===s&&t.next(e?e.reduce((N,k,Q)=>(N[k]=a[Q],N),{}):a),t.complete())}}))}})}let F0=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Cd=(()=>{class n extends F0{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const zo=new h.OlP("NgValueAccessor"),xS={provide:zo,useExisting:(0,h.Gpc)(()=>xy),multi:!0},U0=new h.OlP("CompositionEventMode");let xy=(()=>{class n extends F0{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(U0,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([xS]),h.qOj]}),n})();const di=new h.OlP("NgValidators"),Su=new h.OlP("NgAsyncValidators");function FI(n){return null!=n}function LI(n){const e=(0,h.QGY)(n)?(0,ln.D)(n):n;return(0,h.CqO)(e),e}function VI(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Z0(n,e){return e.map(t=>t(n))}function NS(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function UI(n){return null!=n?function(n){if(!n)return null;const e=n.filter(FI);return 0==e.length?null:function(t){return VI(Z0(t,e))}}(NS(n)):null}function BI(n){return null!=n?function(n){if(!n)return null;const e=n.filter(FI);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Ty.k)(e))return k0(e,null);if((0,Ay.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return k0(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return k0(n=1===n.length&&(0,Ty.k)(n[0])?n[0]:n,null).pipe((0,dt.U)(t=>e(...t)))}return k0(n,null)}(Z0(t,e).map(LI)).pipe((0,dt.U)(VI))}}(NS(n)):null}function kS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FS(n){return n._rawValidators}function LS(n){return n._rawAsyncValidators}function jI(n){return n?Array.isArray(n)?n:[n]:[]}function z0(n,e){return Array.isArray(n)?n.includes(e):n===e}function VS(n,e){const t=jI(e);return jI(n).forEach(a=>{z0(t,a)||t.push(a)}),t}function US(n,e){return jI(e).filter(t=>!z0(n,t))}let BS=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=UI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=BI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n}),n})(),ps=(()=>{class n extends BS{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();class Id extends BS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jS{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let $I=(()=>{class n extends jS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Id,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),n})(),$S=(()=>{class n extends jS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[h.qOj]}),n})();function Ta(n,e){eg(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zS(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xp(n,e,t=!0){const s=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(s),e.valueAccessor.registerOnTouched(s)),tg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function My(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eg(n,e){const t=FS(n);null!==e.validator?n.setValidators(kS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=LS(n);null!==e.asyncValidator?n.setAsyncValidators(kS(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();My(e._rawValidators,a),My(e._rawAsyncValidators,a)}function tg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=FS(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(f=>f!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=LS(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(f=>f!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const s=()=>{};return My(e._rawValidators,s),My(e._rawAsyncValidators,s),t}function zS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ry(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ny="VALID",nf="INVALID",rf="PENDING",Oy="DISABLED";function Y0(n){return(YI(n)?n.validators:n)||null}function YS(n){return Array.isArray(n)?UI(n):n||null}function Py(n,e){return(YI(e)?e.asyncValidators:n)||null}function KI(n){return Array.isArray(n)?BI(n):n||null}function YI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class QI{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=YS(this._rawValidators),this._composedAsyncValidatorFn=KI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ny}get invalid(){return this.status===nf}get pending(){return this.status==rf}get disabled(){return this.status===Oy}get enabled(){return this.status!==Oy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=YS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=KI(e)}addValidators(e){this.setValidators(VS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(US(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(US(e,this._rawAsyncValidators))}hasValidator(e){return z0(this._rawValidators,e)}hasAsyncValidator(e){return z0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Oy,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ny,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ny||this.status===rf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oy:Ny}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rf,this._hasOwnPendingAsyncValidator=!0;const t=LI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof qc?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof QS&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Oy:this.errors?nf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rf)?rf:this._anyControlsHaveStatus(nf)?nf:Ny}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){YI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sf extends QI{constructor(e=null,t,s){super(Y0(t),Py(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ry(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ry(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class qc extends QI{constructor(e,t,s){super(Y0(t),Py(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof sf?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class QS extends QI{constructor(e,t,s){super(Y0(t),Py(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof sf?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let eD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const nE=new h.OlP("NgModelWithFormControlWarning"),ix={provide:ps,useExisting:(0,h.Gpc)(()=>Ly)};let Ly=(()=>{class n extends ps{constructor(t,s){super(),this.validators=t,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return Ta(s,t),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){Xp(t.control||null,t,!1),Ry(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,a=this.form.get(t.path);s!==a&&(Xp(s||null,t),a instanceof sf&&(Ta(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);(function(n,e){eg(n,e)})(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function(n,e){return tg(n,e)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eg(this.form,this),this._oldForm&&tg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(di,10),h.Y36(Su,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,s){1&t&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ix]),h.qOj,h.TTD]}),n})();const sD={provide:Id,useExisting:(0,h.Gpc)(()=>sE)};let sE=(()=>{class n extends Id{constructor(t,s,a,l,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===xy?t=l:function(n){return Object.getPrototypeOf(n.constructor)===Cd}(l)?s=l:a=l}),a||s||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps,13),h.Y36(di,10),h.Y36(Su,10),h.Y36(zo,10),h.Y36(nE,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([sD]),h.qOj,h.TTD]}),n._ngModelWarningSentOnce=!1,n})(),dD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Fy]]}),n})(),Td=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nE,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[dD]}),n})();class Wo extends Tu.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new LC.N;return this._value}next(e){super.next(this._value=e)}}class Uy extends zt.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class yx extends zt.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var gE=F(7444);function pD(n,e,t,s,a=new yx(n,t,s)){if(!a.closed)return e instanceof yi.y?e.subscribe(a):(0,gE.s)(e)(a)}var ni=F(6693);const _x={};class Ex{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new oM(e,this.resultSelector))}}class oM extends Uy{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(_x),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(pD(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,f=this.toRespond?a[s]===_x?--this.toRespond:this.toRespond:0;a[s]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}function rg(n){return new yi.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,ln.D)(t):(0,go.c)()).subscribe(e)})}var wx=F(2441);function af(n){return function(t){const s=new aM(n),a=t.lift(s);return s.caught=a}}class aM{constructor(e){this.selector=e}call(e,t){return t.subscribe(new uM(e,this.selector,this.caught))}}class uM extends qh.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new qh.IY(this);this.add(s);const a=(0,qh.ft)(t,s);a!==s&&this.add(a)}}}var Wi=F(9773);function ig(n,e){return(0,Wi.zg)(n,e,1)}function mE(n){return function(t){return 0===n?(0,go.c)():t.lift(new bx(n))}}class bx{constructor(e){if(this.total=e,this.total<0)throw new dy}call(e,t){return t.subscribe(new Cx(e,this.total))}}class Cx extends zt.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const f=t++%s;e.next(a[f])}}e.complete()}}var js=F(3342),Ix=F(1307);class lM{constructor(e){this.callback=e}call(e,t){return t.subscribe(new dM(e,this.callback))}}class dM extends zt.L{constructor(e,t){super(e),this.add(new u0.w(t))}}class Mu{constructor(e,t){this.id=e,this.url=t}}class yE extends Mu{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sg extends Mu{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gD extends Mu{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tx extends Mu{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ko extends Mu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ax extends Mu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sx extends Mu{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xx extends Mu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mx extends Mu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mD{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nx{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ox{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class og{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yD{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Px{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class hM{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ag(n){return new hM(n)}const kx="ngNavigationCancelingError";function ug(n){const e=Error("NavigationCancelingError: "+n);return e[kx]=!0,e}function Lx(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const f=s[l],_=n[l];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Ru(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!_D(n[a],e[a]))return!1;return!0}function _D(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function vD(n){return Array.prototype.concat.apply([],n)}function ED(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yo(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,ln.D)(Promise.resolve(n)):(0,tt.of)(n)}const wD={exact:function By(n,e,t){if(!Ad(n.segments,e.segments)||!dg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!By(n.children[s],e.children[s],t))return!1;return!0},subset:cg},_E={exact:function(n,e){return Ru(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_D(n[t],e[t]))},ignored:()=>!0};function vE(n,e,t){return wD[t.paths](n.root,e.root,t.matrixParams)&&_E[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cg(n,e,t){return lg(n,e,e.segments,t)}function lg(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ad(a,t)||e.hasChildren()||!dg(a,t,s))}if(n.segments.length===t.length){if(!Ad(n.segments,t)||!dg(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!cg(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ad(n.segments,a)&&dg(n.segments,a,s)&&n.children[kt])&&lg(n.children[kt],e,l,s)}}function dg(n,e,t){return e.every((s,a)=>_E[t](n[a].parameters,s.parameters))}class Zc{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ag(this.queryParams)),this._queryParamMap}toString(){return jx.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ri(this)}}class hg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ag(this.parameters)),this._parameterMap}toString(){return CD(this)}}function Ad(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class bE{}class jy{parse(e){const t=new vg(e);return new Zc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Nu(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${pg(t)}=${pg(a)}`).join("&"):`${pg(t)}=${pg(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jx=new jy;function ri(n){return n.segments.map(e=>CD(e)).join("/")}function Nu(n,e){if(!n.hasChildren())return ri(n);if(e){const t=n.children[kt]?Nu(n.children[kt],!1):"",s=[];return ki(n.children,(a,l)=>{l!==kt&&s.push(`${l}:${Nu(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return ki(n.children,(s,a)=>{a===kt&&(t=t.concat(e(s,a)))}),ki(n.children,(s,a)=>{a!==kt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===kt?[Nu(n.children[kt],!1)]:[`${a}:${Nu(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${ri(n)}/${t[0]}`:`${ri(n)}/(${t.join("//")})`}}function fg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(n){return fg(n).replace(/%3B/gi,";")}function gg(n){return fg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mg(n){return decodeURIComponent(n)}function yg(n){return mg(n.replace(/\+/g,"%20"))}function CD(n){return`${gg(n.path)}${function(n){return Object.keys(n).map(e=>`;${gg(e)}=${gg(n[e])}`).join("")}(n.parameters)}`}const Gx=/^[^\/()?;=#]+/;function _g(n){const e=n.match(Gx);return e?e[0]:""}const qx=/^[^=?&#]+/,zx=/^[^?&#]+/;class vg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[kt]=new Ht(e,t)),s}parseSegment(){const e=_g(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new hg(mg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_g(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=_g(this.remaining);a&&(s=a,this.capture(s))}e[mg(t)]=mg(s)}parseQueryParam(e){const t=function(n){const e=n.match(qx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(zx);return e?e[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const a=yg(t),l=yg(s);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=_g(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=kt);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[kt]:new Ht([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Hy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=CE(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=CE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=IE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return IE(e,this._root).map(t=>t.value)}}function CE(n,e){if(n===e.value)return e;for(const t of e.children){const s=CE(n,t);if(s)return s}return null}function IE(n,e){if(n===e.value)return[e];for(const t of e.children){const s=IE(n,t);if(s.length)return s.unshift(e),s}return[]}class Ou{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ID extends Hy{constructor(e,t){super(e),this.snapshot=t,Wc(this,e)}toString(){return this.snapshot.toString()}}function DE(n,e){const t=function(n,e){const f=new vo([],{},{},"",{},kt,e,null,n.root,-1,{});return new cf("",new Ou(f,[]))}(n,e),s=new Wo([new hg("",{})]),a=new Wo({}),l=new Wo({}),f=new Wo({}),_=new Wo(""),C=new uf(s,a,f,_,l,kt,e,t.root);return C.snapshot=t.root,new ID(new Ou(C,[]),t)}class uf{constructor(e,t,s,a,l,f,_,C){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=_,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(e=>ag(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(e=>ag(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TD(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class vo{constructor(e,t,s,a,l,f,_,C,S,N,k){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=_,this.routeConfig=C,this._urlSegment=S,this._lastPathIndex=N,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ag(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ag(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cf extends Hy{constructor(e,t){super(t),this.url=e,Wc(this,t)}toString(){return Eg(this._root)}}function Wc(n,e){e.value._routerState=n,e.children.forEach(t=>Wc(n,t))}function Eg(n){const e=n.children.length>0?` { ${n.children.map(Eg).join(", ")} } `:"";return`${n.value}${e}`}function Kc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ru(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ru(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ru(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ru(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function TE(n,e){return Ru(n.params,e.params)&&function(n,e){return Ad(n,e)&&n.every((t,s)=>Ru(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||TE(n.parent,e.parent))}function Gy(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Gy(n,s,a);return Gy(n,s)})}(n,e,t);return new Ou(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return AE(e,f),f}}const s=function(n){return new uf(new Wo(n.url),new Wo(n.params),new Wo(n.queryParams),new Wo(n.fragment),new Wo(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Gy(n,l));return new Ou(s,a)}}function AE(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)AE(n.children[t],e.children[t])}function lf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wg(n){return"object"==typeof n&&null!=n&&n.outlets}function SE(n,e,t,s,a){let l={};return s&&ki(s,(f,_)=>{l[_]=Array.isArray(f)?f.map(C=>`${C}`):`${f}`}),new Zc(t.root===n?e:xE(t.root,n,e),l,a)}function xE(n,e,t){const s={};return ki(n.children,(a,l)=>{s[l]=a===e?t:xE(a,e,t)}),new Ht(n.segments,s)}class Yc{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&lf(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(wg);if(a&&a!==ED(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class RE{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function Qx(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return NE(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const f=n.segments[a],_=t[s];if(wg(_))break;const C=`${_}`,S=s<t.length-1?t[s+1]:null;if(a>0&&void 0===C)break;if(C&&S&&"object"==typeof S&&void 0===S.outlets){if(!e1(C,S,f))return l;s+=2}else{if(!e1(C,{},f))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new Ht(n.segments.slice(0,s.pathIndex),{});return l.children[kt]=new Ht(n.segments.slice(s.pathIndex),n.children),NE(l,0,a)}return s.match&&0===a.length?new Ht(n.segments,{}):s.match&&!n.hasChildren()?OE(n,e,t):s.match?NE(n,0,a):OE(n,e,t)}function NE(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const s=function(n){return wg(n[0])?n[0].outlets:{[kt]:n}}(t),a={};return ki(s,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[f]=Qx(n.children[f],e,l))}),ki(n.children,(l,f)=>{void 0===s[f]&&(a[f]=l)}),new Ht(n.segments,a)}}function OE(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(wg(l)){const C=gM(l.outlets);return new Ht(s,C)}if(0===a&&lf(t[0])){s.push(new hg(n.segments[e].path,Xx(t[0]))),a++;continue}const f=wg(l)?l.outlets[kt]:`${l}`,_=a<t.length-1?t[a+1]:null;f&&_&&lf(_)?(s.push(new hg(f,Xx(_))),a+=2):(s.push(new hg(f,{})),a++)}return new Ht(s,{})}function gM(n){const e={};return ki(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=OE(new Ht([],{}),0,t))}),e}function Xx(n){const e={};return ki(n,(t,s)=>e[s]=`${t}`),e}function e1(n,e,t){return n==t.path&&Ru(e,t.parameters)}class t1{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Kc(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=Sd(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,a[f],s),delete a[f]}),ki(a,(l,f)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const f=s.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=Sd(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=Sd(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new yD(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Ox(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(Kc(a),a===l)if(a.component){const f=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const f=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),n1(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),C=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=C,f.outlet&&f.outlet.activateWith(a,C),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,s)}}function n1(n){Kc(n.value),n.children.forEach(n1)}class MD{constructor(e,t){this.routes=e,this.module=t}}function xd(n){return"function"==typeof n}function i(n){return n instanceof Zc}const g=Symbol("INITIAL_VALUE");function y(){return Ri(n=>function(...n){let e,t;return(0,sa.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ty.k)(n[0])&&(n=n[0]),(0,ni.n)(n,t).lift(new Ex(e))}(n.map(e=>e.pipe(qp(1),za(g)))).pipe(As((e,t)=>{let s=!1;return t.reduce((a,l,f)=>a!==g?a:(l===g&&(s=!0),s||!1!==l&&f!==t.length-1&&!i(l)?a:l),e)},g),zr(e=>e!==g),(0,dt.U)(e=>i(e)?e:!0===e),qp(1)))}let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[kD]},encapsulation:2}),n})();function I(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];T(s,R(e,s))}}function T(n,e){n.children&&I(n.children,e)}function R(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function P(n){const e=n.children&&n.children.map(P),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=E),t}function B(n){return n.outlet||kt}function z(n,e){const t=n.filter(s=>B(s)===e);return t.push(...n.filter(s=>B(s)!==e)),t}const le={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function te(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},le):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Lx)(t,n,e);if(!l)return Object.assign({},le);const f={};ki(l.posParams,(C,S)=>{f[S]=C.path});const _=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:_,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function Oe(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>or(n,e,s)&&B(s)!==kt)}(n,t,s)){const f=new Ht(e,function(n,e,t,s){const a={};a[kt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&B(l)!==kt){const f=new Ht([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[B(l)]=f}return a}(n,e,s,new Ht(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>or(n,e,s))}(n,t,s)){const f=new Ht(n.segments,function(n,e,t,s,a,l){const f={};for(const _ of s)if(or(n,t,_)&&!a[B(_)]){const C=new Ht([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[B(_)]=C}return Object.assign(Object.assign({},a),f)}(n,e,t,s,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new Ht(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function or(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $s(n,e,t,s){return!!(B(n)===s||s!==kt&&or(e,t,n))&&("**"===n.path||te(e,n,t).matched)}function df(n,e,t){return 0===e.length&&!n.children[t]}class Sa{constructor(e){this.segmentGroup=e||null}}class Md{constructor(e){this.urlTree=e}}function Pu(n){return new yi.y(e=>e.error(new Sa(n)))}function qy(n){return new yi.y(e=>e.error(new Md(n)))}function PE(n){return new yi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class LE{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Oe(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,kt).pipe((0,dt.U)(l=>this.createUrlTree(r1(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(af(l=>{if(l instanceof Md)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Sa?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,kt).pipe((0,dt.U)(a=>this.createUrlTree(r1(a),e.queryParams,e.fragment))).pipe(af(a=>{throw a instanceof Sa?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Ht([],{[kt]:e}):e;return new Zc(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,dt.U)(l=>new Ht([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,ln.D)(a).pipe(ig(l=>{const f=s.children[l],_=z(t,l);return this.expandSegmentGroup(e,_,f,l).pipe((0,dt.U)(C=>({segment:C,outlet:l})))}),As((l,f)=>(l[f.outlet]=f.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?zr((a,l)=>n(a,l,s)):py.y,mE(1),t?BC(e):l0(()=>new ly))}())}expandSegment(e,t,s,a,l,f){return(0,ln.D)(s).pipe(ig(_=>this.expandSegmentAgainstRoute(e,t,s,_,a,l,f).pipe(af(S=>{if(S instanceof Sa)return(0,tt.of)(null);throw S}))),Au(_=>!!_),af((_,C)=>{if(_ instanceof ly||"EmptyError"===_.name){if(df(t,a,l))return(0,tt.of)(new Ht([],{}));throw new Sa(t)}throw _}))}expandSegmentAgainstRoute(e,t,s,a,l,f,_){return $s(a,t,l,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f):Pu(t):Pu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?qy(l):this.lineralizeSegments(s,l).pipe((0,Wi.zg)(f=>{const _=new Ht(f,{});return this.expandSegment(e,_,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){const{matched:_,consumedSegments:C,lastChild:S,positionalParamSegments:N}=te(t,a,l);if(!_)return Pu(t);const k=this.applyRedirectCommands(C,a.redirectTo,N);return a.redirectTo.startsWith("/")?qy(k):this.lineralizeSegments(a,k).pipe((0,Wi.zg)(Q=>this.expandSegment(e,t,s,Q.concat(l.slice(S)),f,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,tt.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,dt.U)(Q=>(s._loadedConfig=Q,new Ht(a,{})))):(0,tt.of)(new Ht(a,{}));const{matched:f,consumedSegments:_,lastChild:C}=te(t,s,a);if(!f)return Pu(t);const S=a.slice(C);return this.getChildConfig(e,s,a).pipe((0,Wi.zg)(k=>{const Q=k.module,ne=k.routes,{segmentGroup:Ae,slicedSegments:Be}=Oe(t,_,S,ne),Ye=new Ht(Ae.segments,Ae.children);if(0===Be.length&&Ye.hasChildren())return this.expandChildren(Q,ne,Ye).pipe((0,dt.U)(Yt=>new Ht(_,Yt)));if(0===ne.length&&0===Be.length)return(0,tt.of)(new Ht(_,{}));const Gt=B(s)===l;return this.expandSegment(Q,Ye,ne,Be,Gt?kt:l,!0).pipe((0,dt.U)(Ln=>new Ht(_.concat(Ln.segments),Ln.children)))}))}getChildConfig(e,t,s){return t.children?(0,tt.of)(new MD(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,tt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Wi.zg)(a=>a?this.configLoader.load(e.injector,t).pipe((0,dt.U)(l=>(t._loadedConfig=l,l))):function(n){return new yi.y(e=>e.error(ug(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):(0,tt.of)(new MD([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,tt.of)(!0);const l=a.map(f=>{const _=e.get(f);let C;if(function(n){return n&&xd(n.canLoad)}(_))C=_.canLoad(t,s);else{if(!xd(_))throw new Error("Invalid CanLoad guard");C=_(t,s)}return Yo(C)});return(0,tt.of)(l).pipe(y(),(0,js.b)(f=>{if(!i(f))return;const _=ug(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,dt.U)(f=>!0===f))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,tt.of)(s);if(a.numberOfChildren>1||!a.children[kt])return PE(e.redirectTo);a=a.children[kt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new Zc(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return ki(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);s[l]=t[_]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let f={};return ki(t.children,(_,C)=>{f[C]=this.createSegmentGroup(e,_,s,a)}),new Ht(l,f)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function r1(n){const e={};for(const s of Object.keys(n.children)){const l=r1(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}class _M{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class RD{constructor(e,t){this.component=e,this.route=t}}function zM(n,e,t){const s=n._root;return VE(s,e?e._root:null,t,[s.value])}function ND(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function VE(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Sd(e);return n.children.forEach(f=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const C=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ad(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ad(n.url,e.url)||!Ru(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TE(n,e)||!Ru(n.queryParams,e.queryParams);case"paramsChange":default:return!TE(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new _M(s)):(l.data=f.data,l._resolvedData=f._resolvedData),VE(n,e,l.component?_?_.children:null:t,s,a),C&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new RD(_.outlet.component,f))}else f&&UE(e,_,a),a.canActivateChecks.push(new _M(s)),VE(n,null,l.component?_?_.children:null:t,s,a)})(f,l[f.value.outlet],t,s.concat([f.value]),a),delete l[f.value.outlet]}),ki(l,(f,_)=>UE(f,t.getContext(_),a)),a}function UE(n,e,t){const s=Sd(n),a=n.value;ki(s,(l,f)=>{UE(l,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new RD(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class oR{}function vM(n){return new yi.y(e=>e.error(n))}class uR{constructor(e,t,s,a,l,f){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=Oe(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,kt);if(null===t)return null;const s=new vo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ou(s,t),l=new cf(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=TD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const f=t.children[l],_=z(e,l),C=this.processSegmentGroup(_,f,l);if(null===C)return null;s.push(...C)}const a=EM(s);return function(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,s,a){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,s,a);if(null!==f)return f}return df(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!$s(e,t,s,a))return null;let l,f=[],_=[];if("**"===e.path){const ne=s.length>0?ED(s).parameters:{};l=new vo(s,ne,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,CM(e),B(e),e.component,e,wM(t),bM(t)+s.length,IM(e))}else{const ne=te(t,e,s);if(!ne.matched)return null;f=ne.consumedSegments,_=s.slice(ne.lastChild),l=new vo(f,ne.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,CM(e),B(e),e.component,e,wM(t),bM(t)+f.length,IM(e))}const C=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:S,slicedSegments:N}=Oe(t,f,_,C.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===N.length&&S.hasChildren()){const ne=this.processChildren(C,S);return null===ne?null:[new Ou(l,ne)]}if(0===C.length&&0===N.length)return[new Ou(l,[])];const k=B(e)===a,Q=this.processSegment(C,S,N,k?kt:a);return null===Q?null:[new Ou(l,Q)]}}function dR(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EM(n){const e=[],t=new Set;for(const s of n){if(!dR(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=EM(s.children);e.push(new Ou(s.value,a))}return e.filter(s=>!t.has(s))}function wM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bM(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function CM(n){return n.data||{}}function IM(n){return n.resolve||{}}function i1(n){return Ri(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,dt.U)(()=>e)):(0,tt.of)(e)})}class vR extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const s1=new h.OlP("ROUTES");class DM{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,dt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new MD(vD(f.injector.get(s1,void 0,h.XFs.Self|h.XFs.Optional)).map(P),f)}),af(l=>{throw t._loader$=void 0,l}));return t._loader$=new wx.c(a,()=>new Tu.xQ).pipe((0,Ix.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,ln.D)(this.loader.load(e)):Yo(e()).pipe((0,Wi.zg)(t=>t instanceof h.YKP?(0,tt.of)(t):(0,ln.D)(this.compiler.compileModuleAsync(t))))}}class ER{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zy,this.attachRef=null}}class Zy{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ER,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class bR{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function CR(n){throw n}function IR(n,e,t){return e.parse("/")}function TM(n,e){return(0,tt.of)(null)}const DR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Eo=(()=>{class n{constructor(t,s,a,l,f,_,C,S){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tu.xQ,this.errorHandler=CR,this.malformedUriErrorHandler=IR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TM,afterPreactivation:TM},this.urlHandlingStrategy=new bR,this.routeReuseStrategy=new vR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const Q=f.get(h.R0b);this.isNgZoneEnabled=Q instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Zc(new Ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new DM(_,C,ne=>this.triggerEvent(new Rx(ne)),ne=>this.triggerEvent(new mD(ne))),this.routerState=DE(this.currentUrlTree,this.rootComponentType),this.transitions=new Wo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(zr(a=>0!==a.id),(0,dt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ri(a=>{let l=!1,f=!1;return(0,tt.of)(a).pipe((0,js.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ri(_=>{const C=this.browserUrlTree.toString(),S=!this.navigated||_.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return OD(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,tt.of)(_).pipe(Ri(k=>{const Q=this.transitions.getValue();return s.next(new yE(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),Q!==this.transitions.getValue()?go.E:Promise.resolve(k)}),function(n,e,t,s){return Ri(a=>function(n,e,t,s,a){return new LE(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,dt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,js.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Wi.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const f=new uR(n,e,t,s,a,l).recognize();return null===f?vM(new oR):(0,tt.of)(f)}catch(f){return vM(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,dt.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,js.b)(k=>{"eager"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(k.urlAfterRedirects,k),this.browserUrlTree=k.urlAfterRedirects);const Q=new Ko(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);s.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:ne,source:Ae,restoredState:Be,extras:Ye}=_,Gt=new yE(Q,this.serializeUrl(ne),Ae,Be);s.next(Gt);const gn=DE(ne,this.rootComponentType).snapshot;return(0,tt.of)(Object.assign(Object.assign({},_),{targetSnapshot:gn,urlAfterRedirects:ne,extras:Object.assign(Object.assign({},Ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),go.E}),i1(_=>{const{targetSnapshot:C,id:S,extractedUrl:N,rawUrl:k,extras:{skipLocationChange:Q,replaceUrl:ne}}=_;return this.hooks.beforePreactivation(C,{navigationId:S,appliedUrlTree:N,rawUrlTree:k,skipLocationChange:!!Q,replaceUrl:!!ne})}),(0,js.b)(_=>{const C=new Ax(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),(0,dt.U)(_=>Object.assign(Object.assign({},_),{guards:zM(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Wi.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?(0,tt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,ln.D)(n).pipe((0,Wi.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,tt.of)(!0);const f=l.map(_=>{const C=ND(_,e,a);let S;if(function(n){return n&&xd(n.canDeactivate)}(C))S=Yo(C.canDeactivate(n,e,t,s));else{if(!xd(C))throw new Error("Invalid CanDeactivate guard");S=Yo(C(n,e,t,s))}return S.pipe(Au())});return(0,tt.of)(f).pipe(y())}(a.component,a.route,t,e,s)),Au(a=>!0!==a,!0))}(f,s,a,n).pipe((0,Wi.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,s){return(0,ln.D)(e).pipe(ig(a=>Za(function(n,e){return null!==n&&e&&e(new Nx(n)),(0,tt.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new og(n)),(0,tt.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>rg(()=>{const _=f.guards.map(C=>{const S=ND(C,f.node,t);let N;if(function(n){return n&&xd(n.canActivateChild)}(S))N=Yo(S.canActivateChild(s,n));else{if(!xd(S))throw new Error("Invalid CanActivateChild guard");N=Yo(S(s,n))}return N.pipe(Au())});return(0,tt.of)(_).pipe(y())}));return(0,tt.of)(l).pipe(y())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,tt.of)(!0);const a=s.map(l=>rg(()=>{const f=ND(l,e,t);let _;if(function(n){return n&&xd(n.canActivate)}(f))_=Yo(f.canActivate(e,n));else{if(!xd(f))throw new Error("Invalid CanActivate guard");_=Yo(f(e,n))}return _.pipe(Au())}));return(0,tt.of)(a).pipe(y())}(n,a.route,t))),Au(a=>!0!==a,!0))}(s,l,n,e):(0,tt.of)(_)),(0,dt.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,js.b)(_=>{if(i(_.guardsResult)){const S=ug(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw S.url=_.guardsResult,S}const C=new Sx(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(C)}),zr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),i1(_=>{if(_.guards.canActivateChecks.length)return(0,tt.of)(_).pipe((0,js.b)(C=>{const S=new xx(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}),Ri(C=>{let S=!1;return(0,tt.of)(C).pipe(function(n,e){return(0,Wi.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,tt.of)(t);let l=0;return(0,ln.D)(a).pipe(ig(f=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,tt.of)({});const l={};return(0,ln.D)(a).pipe((0,Wi.zg)(f=>function(n,e,t,s){const a=ND(n,e,s);return Yo(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,s).pipe((0,js.b)(_=>{l[f]=_}))),mE(1),(0,Wi.zg)(()=>Object.keys(l).length===a.length?(0,tt.of)(l):go.E))}(n._resolve,n,e,s).pipe((0,dt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),TD(n,t).resolve),null)))}(f.route,s,n,e)),(0,js.b)(()=>l++),mE(1),(0,Wi.zg)(f=>l===a.length?(0,tt.of)(t):go.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,js.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,js.b)(C=>{const S=new Mx(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}))}),i1(_=>{const{targetSnapshot:C,id:S,extractedUrl:N,rawUrl:k,extras:{skipLocationChange:Q,replaceUrl:ne}}=_;return this.hooks.afterPreactivation(C,{navigationId:S,appliedUrlTree:N,rawUrlTree:k,skipLocationChange:!!Q,replaceUrl:!!ne})}),(0,dt.U)(_=>{const C=function(n,e,t){const s=Gy(n,e._root,t?t._root:void 0);return new ID(s,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:C})}),(0,js.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,dt.U)(s=>(new t1(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,js.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new lM(n))}(()=>{var _;if(!l&&!f){const C=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,C)):this.cancelNavigationTransition(a,C)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),af(_=>{if(f=!0,function(n){return n&&n[kx]}(_)){const C=i(_.url);C||(this.navigated=!0,this.restoreHistory(a,!0));const S=new gD(a.id,this.serializeUrl(a.extractedUrl),_.message);s.next(S),C?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),k={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OD(a.source)};this.scheduleNavigation(N,"imperative",null,k,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const C=new Tx(a.id,this.serializeUrl(a.extractedUrl),_);s.next(C);try{a.resolve(this.errorHandler(_))}catch(S){a.reject(S)}}return go.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:f}=s,_={replaceUrl:!0};if(l){const C=Object.assign({},l);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(_.state=C)}this.scheduleNavigation(f,a,l,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){I(t),this.config=t.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:_,preserveFragment:C}=s,S=a||this.routerState.root,N=C?this.currentUrlTree.fragment:f;let k=null;switch(_){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,e,t,s,a){if(0===t.length)return SE(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yc(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return ki(l.outlets,(C,S)=>{_[S]="string"==typeof C?C.split("/"):C}),[...a,{outlets:_}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===f?(l.split("/").forEach((_,C)=>{0==C&&"."===_||(0==C&&""===_?t=!0:".."===_?e++:""!=_&&a.push(_))}),a):[...a,l]},[]);return new Yc(t,e,s)}(t);if(l.toRoot())return SE(e.root,new Ht([],{}),e,s,a);const f=function(n,e,t){if(n.isAbsolute)return new RE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new RE(l,l===e.root,0)}const s=lf(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new RE(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),_=f.processChildren?NE(f.segmentGroup,f.index,l.commands):Qx(f.segmentGroup,f.index,l.commands);return SE(f.segmentGroup,_,e,s,a)}(S,this.currentUrlTree,t,k,null!=N?N:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=i(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},DR):!1===s?Object.assign({},TR):s,i(t))return vE(this.currentUrlTree,t,a);const l=this.parseUrl(t);return vE(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,f){var _,C;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),N=OD(s)&&S&&!OD(S.source),ne=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(N&&ne)return Promise.resolve(!0);let Ae,Be,Ye;f?(Ae=f.resolve,Be=f.reject,Ye=f.promise):Ye=new Promise((Ln,Yt)=>{Ae=Ln,Be=Yt});const Gt=++this.navigationId;let gn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),gn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):gn=0,this.setTransition({id:Gt,targetPageId:gn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Ae,reject:Be,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(Ln=>Promise.reject(Ln))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new gD(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(bE),h.LFG(Zy),h.LFG(We),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function OD(n){return"imperative"!==n}let PD=(()=>{class n{constructor(t,s,a,l,f){this.router=t,this.route=s,this.commands=[],this.onChanges=new Tu.xQ,null==a&&l.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:zy(this.skipLocationChange),replaceUrl:zy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zy(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Eo),h.Y36(uf),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,s){1&t&&h.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})(),BE=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new Tu.xQ,this.subscription=t.events.subscribe(l=>{l instanceof sg&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,l,f){if(0!==t||s||a||l||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:zy(this.skipLocationChange),replaceUrl:zy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zy(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Eo),h.Y36(uf),h.Y36(K))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function zy(n){return""===n||!!n}let kD=(()=>{class n{constructor(t,s,a,l,f){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=l||kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,C=new MR(t,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zy),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class MR{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===uf?this.route:e===Zy?this.childContexts:this.parent.get(e,t)}}class AM{}class SM{preload(e,t){return(0,tt.of)(null)}}let xM=(()=>{class n{constructor(t,s,a,l,f){this.router=t,this.injector=l,this.preloadingStrategy=f,this.loader=new DM(s,a,S=>t.triggerEvent(new Rx(S)),S=>t.triggerEvent(new mD(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(zr(t=>t instanceof sg),ig(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,ln.D)(a).pipe((0,ss.J)(),(0,dt.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,tt.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Wi.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Eo),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(AM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),o1=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Px&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new Px(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Eo),h.LFG(ka),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const bg=new h.OlP("ROUTER_CONFIGURATION"),MM=new h.OlP("ROUTER_FORROOT_GUARD"),OR=[We,{provide:bE,useClass:jy},{provide:Eo,useFactory:function(n,e,t,s,a,l,f,_={},C,S){const N=new Eo(null,n,e,t,s,a,l,vD(f));return C&&(N.urlHandlingStrategy=C),S&&(N.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(k=>{var Q,ne;null===(Q=console.group)||void 0===Q||Q.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(ne=console.groupEnd)||void 0===ne||ne.call(console)}),N},deps:[bE,Zy,We,h.zs3,h.v3s,h.Sil,s1,bg,[class{},new h.FiY],[class{},new h.FiY]]},Zy,{provide:uf,useFactory:function(n){return n.routerState.root},deps:[Eo]},{provide:h.v3s,useClass:h.EAV},xM,SM,class{preload(e,t){return t().pipe(af(()=>(0,tt.of)(null)))}},{provide:bg,useValue:{enableTracing:!1}}];function PR(){return new h.PXZ("Router",Eo)}let RM=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[OR,NM(t),{provide:MM,useFactory:LR,deps:[[Eo,new h.FiY,new h.tp0]]},{provide:bg,useValue:s||{}},{provide:K,useFactory:FR,deps:[ce,[new h.tBr(me),new h.FiY],bg]},{provide:o1,useFactory:kR,deps:[Eo,ka,bg]},{provide:AM,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:SM},{provide:h.PXZ,multi:!0,useFactory:PR},[a1,{provide:h.ip1,multi:!0,useFactory:jR,deps:[a1]},{provide:OM,useFactory:$R,deps:[a1]},{provide:h.tb,multi:!0,useExisting:OM}]]}}static forChild(t){return{ngModule:n,providers:[NM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(MM,8),h.LFG(Eo,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function kR(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new o1(n,e,t)}function FR(n,e,t={}){return t.useHash?new Ne(n,e):new pe(n,e)}function LR(n){return"guarded"}function NM(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:s1,multi:!0,useValue:n}]}let a1=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Tu.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(_=>s=_),l=this.injector.get(Eo),f=this.injector.get(bg);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,tt.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(bg),a=this.injector.get(xM),l=this.injector.get(o1),f=this.injector.get(Eo),_=this.injector.get(h.z2F);t===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),l.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function jR(n){return n.appInitializer.bind(n)}function $R(n){return n.bootstrapListener.bind(n)}const OM=new h.OlP("Router Initializer");var PM=F(2476);let Cg=(()=>{class n{constructor(){this.app=(0,ji.initializeApp)(Dy_firebase),console.log("DB - Firebase Initialized")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GR=(()=>{class n{constructor(t){this.db=t,this.authForm=new qc({email:new sf(""),password:new sf("")})}ngOnInit(){}registerUser(){const t=(0,PM.n)();(0,PM.a4)(t,this.authForm.value.email,this.authForm.value.password).then(s=>{console.log("User Created in Auth Module")})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-auth"]],decls:17,vars:1,consts:[[1,"content"],[3,"formGroup","ngSubmit"],["for","email",1,"form-label"],["type","text","id","email","placeholder","john@example.com","formControlName","email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Min 6 Characters","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-dark"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"h1"),h._uU(2,"Register Here "),h.qZA(),h.TgZ(3,"form",1),h.NdJ("ngSubmit",function(){return s.registerUser()}),h.TgZ(4,"h1"),h._uU(5,"Register"),h.qZA(),h.TgZ(6,"label",2),h._uU(7,"Email"),h.qZA(),h._UZ(8,"input",3),h._UZ(9,"br"),h.TgZ(10,"label",4),h._uU(11,"Password"),h.qZA(),h._UZ(12,"input",5),h._UZ(13,"br"),h.TgZ(14,"button",6),h._uU(15,"Register"),h.qZA(),h.qZA(),h._UZ(16,"br"),h.qZA()),2&t&&(h.xp6(3),h.Q6J("formGroup",s.authForm))},directives:[eD,$S,Ly,xy,$I,sE],styles:[""]}),n})(),qR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-about"]],decls:33,vars:0,consts:[[1,"about-section"],[1,"why-section"],["src","https://images.builderservices.io/s/cdn/v1.0/i/m?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1511745564573-fec5d8b7e907%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnw1NTEzfDB8MXxzZWFyY2h8MTN8fGpld2Vscnl8ZW58MHx8fHwxNjMwMTEzMTQ0%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D1000","alt","Avatar",1,"why-image"],[1,"why-card"],[1,"title"],[1,"owner"],[1,"owner1"],["src","https://firebasestorage.googleapis.com/v0/b/darshan-jewellers-a076c.appspot.com/o/Shop%20details%2FIMG_4514.jpg?alt=media&token=9e8c4ecb-7169-45ca-ad9f-33956b416cdd","alt","Avatar",1,"owner1"],[1,"details"],[1,"owner2"],["src","https://firebasestorage.googleapis.com/v0/b/darshan-jewellers-a076c.appspot.com/o/Shop%20details%2F20190417204845_IMG_1297_Original_Original.jpg?alt=media&token=85be8f5f-3533-435d-be4d-011643e9b1c3","alt","Avatar",1,"owner1"],[1,"details1"],[1,"owner3"],["src","https://firebasestorage.googleapis.com/v0/b/darshan-jewellers-a076c.appspot.com/o/Shop%20details%2F9A234A08-1365-42A8-8B3B-AEB6A304CDE6_Original.jpg?alt=media&token=7c29b191-afa9-4dcf-9305-2a2db52ccf42","alt","Avatar","width","280px","height","400px",1,"owner2"],[1,"details2"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"h1"),h._uU(2,"Darshan Jewellers (\u0a16\u0a41\u0a30\u0a26 \u0a35\u0a3e\u0a32\u0a47)"),h.qZA(),h.TgZ(3,"h5"),h._uU(4,"Since 1952"),h.qZA(),h.TgZ(5,"h5"),h.TgZ(6,"p"),h._uU(7,"Weddings are a deep-rooted element of our society, and Indian brides are known as symbols of beauty, pride and elegance. "),h._UZ(8,"br"),h._uU(9," India is a vast country with different customs and traditions practiced even within the same state. "),h._UZ(10,"br"),h._uU(11," Darshan Jewellers "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(12,"section",1),h.TgZ(13,"div"),h._UZ(14,"img",2),h.TgZ(15,"div",3),h.TgZ(16,"h1",4),h._uU(17,"Why Darshan Jewellers?"),h.qZA(),h.TgZ(18,"p"),h._uU(19," Darshan Jewellerspresents beautifully crafted fine jewelery demonstrating 65+ years of skilled crystal craftsmanship. Easily create a look from day to night with sparkling crystal necklaces and earrings. Fine crystal jewelry is a great way to celebrate a special occasion."),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"div",5),h.TgZ(21,"div",6),h._UZ(22,"img",7),h.TgZ(23,"p",8),h._uU(24,"Darshan Kumar (Founder,Owner) "),h.qZA(),h.qZA(),h.TgZ(25,"div",9),h._UZ(26,"img",10),h.TgZ(27,"p",11),h._uU(28,"Parmodh Kumar (Owner) "),h.qZA(),h.qZA(),h.TgZ(29,"div",12),h._UZ(30,"img",13),h.TgZ(31,"p",14),h._uU(32,"Abhi Verma (Co-Owner)"),h.qZA(),h.qZA(),h.qZA())},styles:['body[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;margin:0}html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}.column[_ngcontent-%COMP%]{float:left;width:33.3%;margin-bottom:16px;padding:0 16px}.card[_ngcontent-%COMP%]{box-shadow:0 4px 16px #0003;margin:16px}.about-section[_ngcontent-%COMP%]{padding:50px;text-align:center;font-family:initial;color:#070707}.container[_ngcontent-%COMP%]{padding:0 16px}.container[_ngcontent-%COMP%]:after, .row[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.title[_ngcontent-%COMP%]{color:gray}.button[_ngcontent-%COMP%]{border:none;outline:0;display:inline-block;padding:16px;color:#fff;background-color:#000;text-align:center;cursor:pointer;width:100%}.button[_ngcontent-%COMP%]:hover{background-color:#555}.why-section[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#f4aa50a4;display:flex;align-items:center;justify-content:space-around;position:relative}.why-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{transform:translate(-40%)}.why-image[_ngcontent-%COMP%]{width:auto;height:100vh}.title[_ngcontent-%COMP%]{color:#463836}.why-card[_ngcontent-%COMP%]{position:absolute;color:#000;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;top:50%;right:30%;transform:translate(100%,-50%);width:500px;backdrop-filter:blur(15px) saturate(200%);-webkit-backdrop-filter:blur(12px) saturate(200%);background-color:#998c8caa;border-radius:12px;border:1px solid rgba(209,213,219,.68);padding:30px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.why-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-transform:justify}.owner1[_ngcontent-%COMP%]{position:absolute;top:105%;left:2%;height:300px;width:260px;border-radius:50%}.details[_ngcontent-%COMP%]{font-weight:bolder;font-size:18px;font-family:cursive;margin-top:240%;margin-left:2%;width:auto}.owner2[_ngcontent-%COMP%]{position:absolute;top:105%;right:40%;height:300px;width:260px;border-radius:50%}.details1[_ngcontent-%COMP%]{font-weight:bolder;font-size:18px;font-family:cursive;margin-top:240%;margin-left:15%;width:auto}.owner3[_ngcontent-%COMP%]{position:absolute;top:105%;right:-5%;height:300px;width:260px;border-radius:50%}.details2[_ngcontent-%COMP%]{font-weight:bolder;font-size:18px;font-family:cursive;margin-top:240%;margin-left:-27%;width:auto}@media screen and (max-width: 650px){.column[_ngcontent-%COMP%]{width:100%;display:block}}']}),n})(),ZR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-contact"]],decls:15,vars:0,consts:[[1,"container"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3431.2968256910426!2d75.82632871488762!3d30.68192359513108!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39107b40f206cc95%3A0x6c8119c63f06b34e!2zRGFyc2hhbiBKZXdlbGxlcnMgKOColuCpgeCosOCopiDgqLXgqL7gqLLgqYcp!5e0!3m2!1sen!2sin!4v1638811037451!5m2!1sen!2sin","width","750","height","650","allowfullscreen","","loading","active",1,"location",2,"border","0"],[1,"front"],["src","https://firebasestorage.googleapis.com/v0/b/darshan-jewellers-a076c.appspot.com/o/Shop%20details%2FB6A40CA8-AD80-4526-BB36-1EAC8D2DB4EE.png?alt=media&token=de425a2b-6f5f-48e6-9bbe-064746be1d74","alt","","width","450px","height","650px"],[1,"card-body"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"iframe",1),h.TgZ(2,"div",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"div",4),h.TgZ(5,"p"),h._uU(6,"Near Grain Market"),h.qZA(),h.TgZ(7,"p"),h._uU(8,"Chaura Bazar AHMEDGARH"),h.qZA(),h.TgZ(9,"p"),h._uU(10,"Punjab"),h.qZA(),h.TgZ(11,"p"),h._uU(12,"Email: Abhiverma872@gmail.com"),h.qZA(),h.TgZ(13,"p"),h._uU(14,"Phn. +91 9878822006"),h.qZA(),h.qZA(),h.qZA())},styles:['.container[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:"column"}.location[_ngcontent-%COMP%]{background-attachment:var(#480b0654);max-width:100vw;height:90vh;margin-left:2vw;margin-top:.6vw}.front[_ngcontent-%COMP%]{margin-left:.5vw;margin-top:.5vw}.card-body[_ngcontent-%COMP%]{position:absolute;color:#f0fff0;top:81vh;right:0%;background-color:#1c1a1ac8;border-radius:12px;border:1px solid rgba(209,213,219,.68);padding:10px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}']}),n})(),zR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:62,vars:0,consts:[[1,"image"],[1,"Branding"],["id","title"],[1,"locality"],[1,"located"],[1,"btn-grp"],["href","#pro",2,"color","inherit"],["href","http://kundanbullion.in/","target","_blank",2,"color","inherit"],[1,"centered"],["id","pro",1,"products"],[1,"pro-title"],[1,"detail"],[1,"details"],[1,"lower-page"],["routerLink","/Necklace","href","#","target","_blank"],["src","https://storage.googleapis.com/production-bluehost-in-v1-0-7/777/1043777/Emn6LPjK/c2dad25fc12147d982c43c4a4c40c00f","alt","Avatar",1,"lower-page-image"],["routerLink","/ring","href","#","target","_blank"],["src","https://storage.googleapis.com/production-bluehost-in-v1-0-7/777/1043777/Emn6LPjK/d52c096b56ff4d4a853468b38c7c01dd","alt","Avatar",1,"lower-page-image"],["routerLink","/chain","href","#","target","_blank"],["src","https://storage.googleapis.com/production-bluehost-in-v1-0-7/777/1043777/Emn6LPjK/2a0c02b9180a4b3aab7c4995c8931b3f","alt","Avatar",1,"lower-page-image"],["routerLink","/locket","href","#","target","_blank"],["src","https://firebasestorage.googleapis.com/v0/b/darshan-jewellers-a076c.appspot.com/o/Locket%2FIMG_1909.jpeg?alt=media&token=db6415d4-29ea-4bff-b397-cd08b6474279","alt","Avatar",1,"lower-page-image"],["routerLink","/bracelet","href","#","target","_blank"],["src","https://storage.googleapis.com/production-bluehost-in-v1-0-7/777/1043777/Emn6LPjK/f2b887c27d7141199847f8657dd9c8ab","alt","Avatar",1,"lower-page-image"],["routerLink","/bangles","href","#","target","_blank"],["src","https://firebasestorage.googleapis.com/v0/b/darshan-jewellers-a076c.appspot.com/o/Bangles%2FIMG_0493.jpg?alt=media&token=1aaa08bb-cee4-4074-9e09-940bbfa9ca8f","alt","Avatar",1,"lower-page-image"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h._uU(3," DARSHAN JEWELLERS "),h.TgZ(4,"h4",3),h._uU(5,"Ahmedgarh"),h.qZA(),h.qZA(),h.TgZ(6,"div"),h.TgZ(7,"h3"),h._uU(8,"Since 1952"),h.qZA(),h.TgZ(9,"h5",4),h._uU(10,"(\u0a16\u0a41\u0a30\u0a26 \u0a35\u0a3e\u0a32\u0a47)"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",5),h.TgZ(12,"button"),h.TgZ(13,"a",6),h._uU(14,"See Products.."),h.qZA(),h.qZA(),h.TgZ(15,"button"),h.TgZ(16,"a",7),h._uU(17,"Live Gold Rates!"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"div",8),h._uU(19," Are you okay with fashion jewelry you wear forever?"),h._UZ(20,"br"),h._uU(21," You are right here. Necklaces, earrings, rings, and all in between"),h._UZ(22,"br"),h._uU(23," day and night,the crystal design is expected to create a unique statement. "),h.qZA(),h.qZA(),h.TgZ(24,"div",9),h.TgZ(25,"div",10),h.TgZ(26,"h3",11),h._uU(27,"Explore Our Collections"),h.qZA(),h.TgZ(28,"h5",12),h._uU(29,"We love to take pictures and show them to the world...."),h.qZA(),h.qZA(),h.TgZ(30,"div",13),h.TgZ(31,"div"),h.TgZ(32,"a",14),h._UZ(33,"img",15),h.qZA(),h.TgZ(34,"h4"),h._uU(35,"Necklace"),h.qZA(),h.qZA(),h.TgZ(36,"div"),h.TgZ(37,"a",16),h._UZ(38,"img",17),h.qZA(),h.TgZ(39,"h4"),h._uU(40,"Ring"),h.qZA(),h.qZA(),h.TgZ(41,"div"),h.TgZ(42,"a",18),h._UZ(43,"img",19),h.qZA(),h.TgZ(44,"h4"),h._uU(45,"Chain"),h.qZA(),h.qZA(),h.TgZ(46,"div"),h.TgZ(47,"a",20),h._UZ(48,"img",21),h.qZA(),h.TgZ(49,"h4"),h._uU(50,"Locket"),h.qZA(),h.qZA(),h.TgZ(51,"div"),h.TgZ(52,"a",22),h._UZ(53,"img",23),h.qZA(),h.TgZ(54,"h4"),h._uU(55,"Bracelet"),h.qZA(),h.qZA(),h.TgZ(56,"div"),h.TgZ(57,"a",24),h._UZ(58,"img",25),h.qZA(),h.TgZ(59,"h4"),h._uU(60,"Bangles"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(61,"router-outlet"))},directives:[BE,kD],styles:['.Branding[_ngcontent-%COMP%]{display:flex;flex:.3;justify-content:space-between;max-width:100vw;text-align:center;font-family:"Franklin Gothic Medium","Arial Narrow",Arial,sans-serif;color:#d7d1d1;font-size:150%}#title[_ngcontent-%COMP%]{font-size:44px;font-weight:bold}.btn-grp[_ngcontent-%COMP%]{display:flex;flex:.3;align-items:center}.btn-grp[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif;background-color:#b42e2259;color:#fff;outline:none;border:none;text-transform:uppercase;text-align:center;text-decoration:none;border-radius:10px;font-size:18px;height:70px;margin:20px;padding:20px}.Branding[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;margin:20px}.locality[_ngcontent-%COMP%]{font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;color:#d7d1d1;transform:translateY(-20%)}.image[_ngcontent-%COMP%]{scroll-behavior:smooth;resize:none;display:flex;flex:1;flex-direction:column;max-width:100vw;height:100vh;background:url(https://wallpaperaccess.com/full/3713543.jpg) no-repeat center center/cover}.centered[_ngcontent-%COMP%]{font-family:"Gill Sans","Gill Sans MT","Calibri","Trebuchet MS",sans-serif;color:#d7d1d1;position:absolute;bottom:0px;align-items:center;font-size:23px;margin:20px}.btn-grp[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.btn-grp[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:red;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#fff}.pro-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;margin:20px}.detail[_ngcontent-%COMP%]{font-family:Cursive;font-weight:bold}.lower-page[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:wrap;max-width:100vw;width:1200px;align-items:center;justify-content:center;font-family:cursive}.lower-page[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:column;justify-content:center;align-items:center}.lower-page-image[_ngcontent-%COMP%]{width:240px;height:250px;border-radius:60%}.details[_ngcontent-%COMP%]{font-family:Georgia}.products[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;align-items:center;height:100vh}']}),n})();function WR(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"div",2),h._UZ(2,"img",3),h.TgZ(3,"div",4),h.TgZ(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6),h._uU(7),h.qZA(),h.TgZ(8,"p",7),h._uU(9),h.qZA(),h.TgZ(10,"button",8),h.TgZ(11,"a",9),h._uU(12,"More Details!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image_url,h.LSH),h.xp6(3),h.hij("",t.title," "),h.xp6(2),h.hij("Weight:",t.weight," "),h.xp6(2),h.hij("Price:",t.price,""),h.xp6(2),h.FAE("href","https://wa.me/+919878822006/?text=*Title:* ",t.title," %0a*Weight:* ",t.weight," *Price:* ",4680*t.weight," %0a",t.image_url,"",h.LSH)}}let KR=(()=>{class n{constructor(t,s){this.db=s,this.fetchPromoCodes()}fetchPromoCodes(){var t=this;return(0,he.Z)(function*(){const a=Fc(jh(t.db.app),"Bangles"),l=yield _d(a);t.Bangles=l.docs.map(f=>Object.assign(Object.assign({},f.data()),{price:4680*parseInt(f.data().weight)}))})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bd),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-bangles"]],decls:2,vars:1,consts:[[1,"products"],[4,"ngFor","ngForOf"],[1,"productCard"],["alt","Card image cap",1,"productCard_image",3,"src"],[1,"productCard_body"],[1,"productCard_title"],[1,"productCard_weight"],[1,"product_price"],[1,"productCard_button"],["target","_blank",3,"href"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,WR,13,8,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",s.Bangles))},directives:[xr],styles:['.row[_ngcontent-%COMP%]{padding:1% 0%}.card[_ngcontent-%COMP%]{height:90%;width:80%}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}.productCard[_ngcontent-%COMP%]{height:425px;width:230px;padding:10px;margin:20px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.productCard_image[_ngcontent-%COMP%]{width:100%;object-fit:contain;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;border-radius:4px;transition:all .32s ease-in-out;margin-bottom:10px;height:200px}.productCard_image[_ngcontent-%COMP%]:hover{transform:scale(1.22)}.productCard_body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.productCard_title[_ngcontent-%COMP%]{font-size:22px;text-transform:capitalize}.productCard_weight[_ngcontent-%COMP%]{font-weight:350;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.productCard_button[_ngcontent-%COMP%]{font-size:16px;outline:none;border:none;margin-top:10px;width:150px;background-color:#e3dddd;color:snow;font-weight:500;border-radius:4px}.productCard_button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#d29630ee}.product_price[_ngcontent-%COMP%]{font-weight:bold}']}),n})();function YR(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"div",2),h._UZ(2,"img",3),h.TgZ(3,"div",4),h.TgZ(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6),h._uU(7),h.qZA(),h.TgZ(8,"p",7),h._uU(9),h.qZA(),h.TgZ(10,"button",8),h.TgZ(11,"a",9),h._uU(12,"More Details!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image_url,h.LSH),h.xp6(3),h.hij("",t.title," "),h.xp6(2),h.hij("Weight:",t.weight," "),h.xp6(2),h.hij("Price:",t.price,""),h.xp6(2),h.FAE("href","https://wa.me/+919878822006/?text=*Title:* ",t.title," %0a*Weight:* ",t.weight," *Price:* ",4680*t.weight," %0a",t.image_url,"",h.LSH)}}function JR(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"div",2),h._UZ(2,"img",3),h.TgZ(3,"div",4),h.TgZ(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6),h._uU(7),h.qZA(),h.TgZ(8,"p",7),h._uU(9),h.qZA(),h.TgZ(10,"button",8),h.TgZ(11,"a",9),h._uU(12,"More Details!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image_url,h.LSH),h.xp6(3),h.hij("",t.title," "),h.xp6(2),h.hij("Weight:",t.weight," "),h.xp6(2),h.hij("Price:",t.price,""),h.xp6(2),h.FAE("href","https://wa.me/+919878822006/?text=*Title:* ",t.title," %0a*Weight:* ",t.weight," *Price:* ",4680*t.weight," %0a",t.image_url,"",h.LSH)}}function eN(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"div",2),h._UZ(2,"img",3),h.TgZ(3,"div",4),h.TgZ(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6),h._uU(7),h.qZA(),h.TgZ(8,"p",7),h._uU(9),h.qZA(),h.TgZ(10,"button",8),h.TgZ(11,"a",9),h._uU(12,"More Details!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image_url,h.LSH),h.xp6(3),h.hij("",t.title," "),h.xp6(2),h.hij("Weight:",t.weight," "),h.xp6(2),h.hij("Price:",t.price,""),h.xp6(2),h.FAE("href","https://wa.me/+919878822006/?text=*Title:* ",t.title," %0a*Weight:* ",t.weight," *Price:* ",4680*t.weight," %0a",t.image_url,"",h.LSH)}}function nN(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"div",2),h._UZ(2,"img",3),h.TgZ(3,"div",4),h.TgZ(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6),h._uU(7),h.qZA(),h.TgZ(8,"p",7),h._uU(9),h.qZA(),h.TgZ(10,"button",8),h.TgZ(11,"a",9),h._uU(12,"More Details!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image_url,h.LSH),h.xp6(3),h.hij("",t.title," "),h.xp6(2),h.hij("Weight:",t.weight," "),h.xp6(2),h.hij("Price:",t.price,""),h.xp6(2),h.FAE("href","https://wa.me/+919878822006/?text=*Title:* ",t.title," %0a*Weight:* ",t.weight," *Price:* ",4680*t.weight," %0a",t.image_url,"",h.LSH)}}function iN(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"div",2),h._UZ(2,"img",3),h.TgZ(3,"div",4),h.TgZ(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6),h._uU(7),h.qZA(),h.TgZ(8,"p",7),h._uU(9),h.qZA(),h.TgZ(10,"button",8),h.TgZ(11,"a",9),h._uU(12,"More Details!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image_url,h.LSH),h.xp6(3),h.hij("",t.title," "),h.xp6(2),h.hij("Weight:",t.weight," "),h.xp6(2),h.hij("Price:",t.price,""),h.xp6(2),h.FAE("href","https://wa.me/+919878822006/?text=*Title:* ",t.title," %0a*Weight:* ",t.weight," *Price:* ",4680*t.weight," %0a",t.image_url,"",h.LSH)}}const sN=[{path:"ring",component:(()=>{class n{constructor(t,s){this.db=s,this.fetchPromoCodes()}fetchPromoCodes(){var t=this;return(0,he.Z)(function*(){const a=Fc(jh(t.db.app),"Rings"),l=yield _d(a);t.jewelaries=l.docs.map(f=>Object.assign(Object.assign({},f.data()),{price:4680*parseInt(f.data().weight)}))})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bd),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-ring"]],decls:2,vars:1,consts:[[1,"products"],[4,"ngFor","ngForOf"],[1,"productCard"],["alt","Card image cap",1,"productCard_image",3,"src"],[1,"productCard_body"],[1,"productCard_title"],[1,"productCard_weight"],[1,"product_price"],[1,"productCard_button"],["target","_blank",3,"href"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,YR,13,8,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",s.jewelaries))},directives:[xr],styles:['.row[_ngcontent-%COMP%]{padding:1% 0%}.card[_ngcontent-%COMP%]{height:90%;width:80%}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}.productCard[_ngcontent-%COMP%]{height:365px;width:230px;padding:10px;margin:20px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.productCard_image[_ngcontent-%COMP%]{width:100%;object-fit:contain;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;border-radius:4px;transition:all .32s ease-in-out;margin-bottom:10px;height:200px}.productCard_image[_ngcontent-%COMP%]:hover{transform:scale(1.22)}.productCard_body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.productCard_title[_ngcontent-%COMP%]{font-size:22px;text-transform:capitalize}.productCard_weight[_ngcontent-%COMP%]{font-weight:350;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.productCard_button[_ngcontent-%COMP%]{font-size:16px;outline:none;border:none;margin-top:10px;width:150px;background-color:#e3dddd;color:snow;font-weight:500;border-radius:4px}.productCard_button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#d29630ee}.product_price[_ngcontent-%COMP%]{font-weight:bold}']}),n})()},{path:"auth",component:GR},{path:"about",component:qR},{path:"contact",component:ZR},{path:"",component:zR},{path:"bangles",component:KR},{path:"chain",component:(()=>{class n{constructor(t,s){this.db=s,this.fetchPromoCodes()}fetchPromoCodes(){var t=this;return(0,he.Z)(function*(){const a=Fc(jh(t.db.app),"Chain"),l=yield _d(a);t.jewelaries=l.docs.map(f=>Object.assign(Object.assign({},f.data()),{price:4680*parseInt(f.data().weight)}))})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bd),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-chain"]],decls:2,vars:1,consts:[[1,"products"],[4,"ngFor","ngForOf"],[1,"productCard"],["alt","Card image cap",1,"productCard_image",3,"src"],[1,"productCard_body"],[1,"productCard_title"],[1,"productCard_weight"],[1,"product_price"],[1,"productCard_button"],["target","_blank",3,"href"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,JR,13,8,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",s.jewelaries))},directives:[xr],styles:['.row[_ngcontent-%COMP%]{padding:1% 0%}.card[_ngcontent-%COMP%]{height:90%;width:80%}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}.productCard[_ngcontent-%COMP%]{height:425px;width:230px;padding:10px;margin:20px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.productCard_image[_ngcontent-%COMP%]{width:100%;object-fit:contain;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;border-radius:4px;transition:all .32s ease-in-out;margin-bottom:10px;height:264px}.productCard_image[_ngcontent-%COMP%]:hover{transform:scale(1.22)}.productCard_body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.productCard_title[_ngcontent-%COMP%]{font-size:22px;text-transform:capitalize}.productCard_weight[_ngcontent-%COMP%]{font-weight:350;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.productCard_button[_ngcontent-%COMP%]{font-size:16px;outline:none;border:none;margin-top:10px;width:150px;background-color:#e3dddd;color:snow;font-weight:500;border-radius:4px}.productCard_button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#d29630ee}.product_price[_ngcontent-%COMP%]{font-weight:bold}']}),n})()},{path:"bracelet",component:(()=>{class n{constructor(t,s){this.db=s,this.fetchPromoCodes()}fetchPromoCodes(){var t=this;return(0,he.Z)(function*(){const a=Fc(jh(t.db.app),"Bracelet"),l=yield _d(a);t.jewelaries=l.docs.map(f=>Object.assign(Object.assign({},f.data()),{price:4680*parseInt(f.data().weight)}))})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bd),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-bracelet"]],decls:2,vars:1,consts:[[1,"products"],[4,"ngFor","ngForOf"],[1,"productCard"],["alt","Card image cap",1,"productCard_image",3,"src"],[1,"productCard_body"],[1,"productCard_title"],[1,"productCard_weight"],[1,"product_price"],[1,"productCard_button"],["target","_blank",3,"href"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,eN,13,8,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",s.jewelaries))},directives:[xr],styles:['.row[_ngcontent-%COMP%]{padding:1% 0%}.card[_ngcontent-%COMP%]{height:90%;width:80%}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}.productCard[_ngcontent-%COMP%]{height:425px;width:230px;padding:10px;margin:20px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.productCard_image[_ngcontent-%COMP%]{width:100%;object-fit:contain;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;border-radius:4px;transition:all .32s ease-in-out;margin-bottom:10px;height:264px}.productCard_image[_ngcontent-%COMP%]:hover{transform:scale(1.22)}.productCard_body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.productCard_title[_ngcontent-%COMP%]{font-size:22px;text-transform:capitalize}.productCard_weight[_ngcontent-%COMP%]{font-weight:350;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.productCard_button[_ngcontent-%COMP%]{font-size:16px;outline:none;border:none;margin-top:10px;width:150px;background-color:#e3dddd;color:snow;font-weight:500;border-radius:4px}.productCard_button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#d29630ee}.product_price[_ngcontent-%COMP%]{font-weight:bold}']}),n})()},{path:"locket",component:(()=>{class n{constructor(t,s){this.db=s,this.fetchPromoCodes()}fetchPromoCodes(){var t=this;return(0,he.Z)(function*(){const a=Fc(jh(t.db.app),"Lockets"),l=yield _d(a);t.jewelaries=l.docs.map(f=>Object.assign(Object.assign({},f.data()),{price:4680*parseInt(f.data().weight)}))})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bd),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-locket"]],decls:2,vars:1,consts:[[1,"products"],[4,"ngFor","ngForOf"],[1,"productCard"],["alt","Card image cap",1,"productCard_image",3,"src"],[1,"productCard_body"],[1,"productCard_title"],[1,"productCard_weight"],[1,"product_price"],[1,"productCard_button"],["target","_blank",3,"href"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,nN,13,8,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",s.jewelaries))},directives:[xr],styles:['.row[_ngcontent-%COMP%]{padding:1% 0%}.card[_ngcontent-%COMP%]{height:90%;width:80%}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}.productCard[_ngcontent-%COMP%]{height:435px;width:230px;padding:10px;margin:20px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.productCard_image[_ngcontent-%COMP%]{width:100%;object-fit:contain;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;border-radius:4px;transition:all .32s ease-in-out;margin-bottom:10px;height:254px}.productCard_image[_ngcontent-%COMP%]:hover{transform:scale(1.22)}.productCard_body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.productCard_title[_ngcontent-%COMP%]{font-size:22px;text-transform:capitalize}.productCard_weight[_ngcontent-%COMP%]{font-weight:350;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.productCard_button[_ngcontent-%COMP%]{font-size:16px;outline:none;border:none;margin-top:10px;width:150px;background-color:#e3dddd;color:snow;font-weight:500;border-radius:4px}.productCard_button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#d29630ee}.product_price[_ngcontent-%COMP%]{font-weight:bold}']}),n})()},{path:"Necklace",component:(()=>{class n{constructor(t,s){this.db=s,this.fetchPromoCodes()}fetchPromoCodes(){var t=this;return(0,he.Z)(function*(){const a=Fc(jh(t.db.app),"Necklace"),l=yield _d(a);t.jewelaries=l.docs.map(f=>Object.assign(Object.assign({},f.data()),{price:4680*parseInt(f.data().weight)}))})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bd),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-necklace"]],decls:2,vars:1,consts:[[1,"products"],[4,"ngFor","ngForOf"],[1,"productCard"],["alt","Card image cap",1,"productCard_image",3,"src"],[1,"productCard_body"],[1,"productCard_title"],[1,"productCard_weight"],[1,"product_price"],[1,"productCard_button"],["target","_blank",3,"href"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,iN,13,8,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",s.jewelaries))},directives:[xr],styles:['.row[_ngcontent-%COMP%]{padding:1% 0%}.card[_ngcontent-%COMP%]{height:90%;width:80%}.products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}.productCard[_ngcontent-%COMP%]{height:435px;width:230px;padding:10px;margin:20px;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.productCard_image[_ngcontent-%COMP%]{width:100%;object-fit:contain;box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;border-radius:4px;transition:all .32s ease-in-out;margin-bottom:10px;height:264px}.productCard_image[_ngcontent-%COMP%]:hover{transform:scale(1.22)}.productCard_body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.productCard_title[_ngcontent-%COMP%]{font-size:22px;text-transform:capitalize}.productCard_weight[_ngcontent-%COMP%]{font-weight:350;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.productCard_button[_ngcontent-%COMP%]{font-size:16px;outline:none;border:none;margin-top:10px;width:150px;background-color:#e3dddd;color:snow;font-weight:500;border-radius:4px}.productCard_button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;background-color:#d29630ee}.product_price[_ngcontent-%COMP%]{font-weight:bold}']}),n})()}];let oN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[RM.forRoot(sN)],RM]}),n})(),aN=(()=>{class n{constructor(){this.title="Darshan-Jewellers"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:33,vars:0,consts:[[1,"navigation-wrap","bg-transparent","start-header","start-style",2,"height","70px","box-shadow","0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 5px 8px 0px rgb(0 0 0 / 14%), 0px 1px 14px 0px rgb(0 0 0 / 12%)","max-width","100vw"],[1,"container"],[1,"navbar","navbar-expand-sm","navbar-light","abc"],[1,"logo"],[1,"nav-item","pl-4","pl-md-0","ml-0","ml-md-4"],["target","_blank",1,"navbar-brand"],["routerLink","/","src","https://cdn.discordapp.com/attachments/869420211101634560/904335279429648444/cropped-unnamed-2.png","alt","",1,"zoom"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","true","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","py-4","py-md-0"],["href","#","routerLink","/",1,"nav-link"],["data-toggle","dropdown","href","#","role","button","aria-haspopup","true","aria-expanded","false","routerLink","/about",1,"nav-link"],["routerLink","/contact","href","#",1,"nav-link"],["href","https://rzp.io/l/q7O9TDNw1","target","_blank",1,"nav-link"],[1,"btn-group"],[1,"wrapper"],["href","tel:+919878822006"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"nav",2),h.TgZ(3,"div",3),h.TgZ(4,"ul",4),h.TgZ(5,"a",5),h._UZ(6,"img",6),h.qZA(),h.qZA(),h.qZA(),h.TgZ(7,"button",7),h._UZ(8,"span",8),h.qZA(),h.TgZ(9,"div",9),h.TgZ(10,"li",10),h.TgZ(11,"ul",4),h.TgZ(12,"a",11),h._uU(13,"Home"),h.qZA(),h.qZA(),h.TgZ(14,"ul",4),h.TgZ(15,"a",12),h._uU(16,"About"),h.qZA(),h.qZA(),h.TgZ(17,"ul",4),h.TgZ(18,"a",13),h._uU(19,"Way to Shop"),h.qZA(),h.qZA(),h.TgZ(20,"ul",4),h.TgZ(21,"a",14),h._uU(22,"Book Your Price Today!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"div",15),h.TgZ(24,"div",16),h.TgZ(25,"button"),h.TgZ(26,"a",17),h._uU(27,"\u{1f4de} Contact us"),h.qZA(),h._UZ(28,"span"),h._UZ(29,"span"),h._UZ(30,"span"),h._UZ(31,"span"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(32,"router-outlet"))},directives:[PD,BE,kD],styles:['.navigation-wrap[_ngcontent-%COMP%]{overflow:hidden}.container[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{height:66px;width:66px}.nav-link[_ngcontent-%COMP%]{color:#212121!important;font-weight:500}.nav-item[_ngcontent-%COMP%]:hover   .nav-link[_ngcontent-%COMP%]{color:red!important}.nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#777!important}.logo[_ngcontent-%COMP%]{margin-left:50;transition:all .32s ease-in-out;cursor:pointer}.zoom[_ngcontent-%COMP%]:hover{transform:scale(1.06)}.wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:-moz-fit-content;width:fit-content;height:auto}button[_ngcontent-%COMP%]{width:130px;height:30px;background:linear-gradient(to left top,#d8b7a6c8 50%,#d8bbafc8 50%);border-style:none;color:#fff;font-size:13px;letter-spacing:3px;font-family:"Lato";font-weight:600;outline:none;cursor:pointer;position:relative;overflow:hidden;margin-bottom:18px;transition:all .5s;box-shadow:0 1px 2px #0003}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){height:3px;width:200px;top:0px;left:-200px;background:linear-gradient(to right,rgba(0,0,0,0),#f5310e);border-top-right-radius:1px;border-bottom-right-radius:1px;animation:span1 2s linear infinite;animation-delay:1s}@keyframes span1{0%{left:-200px}to{left:200px}}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){height:70px;width:3px;top:-70px;right:0px;background:linear-gradient(to bottom,rgba(0,0,0,0),#f5310e);border-bottom-left-radius:1px;border-bottom-right-radius:1px;animation:span2 2s linear infinite;animation-delay:2s}@keyframes span2{0%{top:-70px}to{top:70px}}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){height:3px;width:200px;right:-200px;bottom:0px;background:linear-gradient(to left,rgba(0,0,0,0),#f5310e);border-top-left-radius:1px;border-bottom-left-radius:1px;animation:span3 2s linear infinite;animation-delay:3s}@keyframes span3{0%{right:-200px}to{right:200px}}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){height:70px;width:3px;bottom:-70px;left:0px;background:linear-gradient(to top,rgba(0,0,0,0),#f5310e);border-top-right-radius:1px;border-top-left-radius:1px;animation:span4 2s linear infinite;animation-delay:4s}@keyframes span4{0%{bottom:-70px}to{bottom:80px}}button[_ngcontent-%COMP%]:hover{transition:all .5s;transform:rotate(-3deg) scale(1.1);box-shadow:0 3px 5px #0006}button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{animation-play-state:start}']}),n})(),uN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[aN]}),n.\u0275inj=h.cJS({providers:[],imports:[[$a,oN,mi.hO.initializeApp(Dy_firebase),O0,Td]]}),n})();(0,h.G48)(),ml().bootstrapModule(uN).catch(n=>console.error(n))},3394:(Xe,Ie,F)=>{"use strict";F.d(Ie,{Z:()=>be});var h=F(3854),j=F(3910),O=F(8026),ae=F(5422);class oe{constructor(K,_e){this._delegate=K,this.firebase=_e,(0,O._addComponent)(K,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(K,_e=O._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(K);return!pe.isInitialized()&&"EXPLICIT"===(null===(me=pe.getComponent())||void 0===me?void 0:me.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:_e})}_removeServiceInstance(K,_e=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(_e)}_addComponent(K){(0,O._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,O._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function re(){const ge=function(ge){const K={},_e={__esModule:!0,initializeApp:function(ht,mn={}){const Et=O.initializeApp(ht,mn);if((0,h.r3)(K,Et.name))return K[Et.name];const bt=new ge(Et,_e);return K[Et.name]=bt,bt},app:pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(ht){const mn=ht.name,Et=mn.replace("-compat","");if(O._registerComponent(ht)&&"PUBLIC"===ht.type){const bt=(ut=pe())=>{if("function"!=typeof ut[Et])throw ye.create("invalid-app-argument",{appName:mn});return ut[Et]()};void 0!==ht.serviceProps&&(0,h.ZB)(bt,ht.serviceProps),_e[Et]=bt,ge.prototype[Et]=function(...ut){return this._getService.bind(this,mn).apply(this,ht.multipleInstances?ut:[])}}return"PUBLIC"===ht.type?_e[Et]:null},removeApp:function(ht){delete K[ht]},useAsService:function(ht,mn){return"serverAuth"===mn?null:mn},modularAPIs:O}};function pe(ht){if(!(0,h.r3)(K,ht=ht||O._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ht});return K[ht]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(K).map(ht=>K[ht])}}),pe.App=ge,_e}(oe);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function(_e){(0,h.ZB)(ge,_e)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ge}(),V=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=L;(0,O.registerVersion)("@firebase/app-compat","0.1.9",undefined)},8026:(Xe,Ie,F)=>{"use strict";F.r(Ie),F.d(Ie,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Li,_DEFAULT_ENTRY_NAME:()=>ms,_addComponent:()=>Ki,_addOrOverwriteComponent:()=>Yi,_apps:()=>ar,_clearComponents:()=>Cn,_components:()=>Fi,_getProvider:()=>hn,_registerComponent:()=>hi,_removeServiceInstance:()=>Ot,deleteApp:()=>Vn,getApp:()=>Re,getApps:()=>pn,initializeApp:()=>Ur,onLog:()=>Nt,registerVersion:()=>En,setLogLevel:()=>Un});var h=F(8239),j=F(3910),O=F(5422),ae=F(3854);class oe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function(rt){const Se=rt.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Pt)){const an=Pt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Pt=>Pt).join(" ")}}const ye="@firebase/app",re=new O.Yd("@firebase/app"),ms="[DEFAULT]",wo={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ar=new Map,Fi=new Map;function Ki(rt,Se){try{rt.container.addComponent(Se)}catch(Pt){re.debug(`Component ${Se.name} failed to register with FirebaseApp ${rt.name}`,Pt)}}function Yi(rt,Se){rt.container.addOrOverwriteComponent(Se)}function hi(rt){const Se=rt.name;if(Fi.has(Se))return re.debug(`There were multiple attempts to register component ${Se}.`),!1;Fi.set(Se,rt);for(const Pt of ar.values())Ki(Pt,rt);return!0}function hn(rt,Se){return rt.container.getProvider(Se)}function Ot(rt,Se,Pt=ms){hn(rt,Se).clearInstance(Pt)}function Cn(){Fi.clear()}const Qt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class fn{constructor(Se,Pt,an){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Li="9.4.1";function Ur(rt,Se={}){"object"!=typeof Se&&(Se={name:Se});const Pt=Object.assign({name:ms,automaticDataCollectionEnabled:!1},Se),an=Pt.name;if("string"!=typeof an||!an)throw Qt.create("bad-app-name",{appName:String(an)});const en=ar.get(an);if(en){if((0,ae.vZ)(rt,en.options)&&(0,ae.vZ)(Pt,en.config))return en;throw Qt.create("duplicate-app",{appName:an})}const Vt=new j.H0(an);for(const Ke of Fi.values())Vt.addComponent(Ke);const Ge=new fn(rt,Pt,Vt);return ar.set(an,Ge),Ge}function Re(rt=ms){const Se=ar.get(rt);if(!Se)throw Qt.create("no-app",{appName:rt});return Se}function pn(){return Array.from(ar.values())}function Vn(rt){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(rt){const Se=rt.name;ar.has(Se)&&(ar.delete(Se),yield Promise.all(rt.container.getProviders().map(Pt=>Pt.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function En(rt,Se,Pt){var an;let en=null!==(an=wo[rt])&&void 0!==an?an:rt;Pt&&(en+=`-${Pt}`);const Vt=en.match(/\s|\//),Ge=Se.match(/\s|\//);if(Vt||Ge){const Ke=[`Unable to register library "${en}" with version "${Se}":`];return Vt&&Ke.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Vt&&Ge&&Ke.push("and"),Ge&&Ke.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void re.warn(Ke.join(" "))}hi(new j.wA(`${en}-version`,()=>({library:en,version:Se}),"VERSION"))}function Nt(rt,Se){if(null!==rt&&"function"!=typeof rt)throw Qt.create("invalid-log-argument");(0,O.Am)(rt,Se)}function Un(rt){(0,O.Ub)(rt)}hi(new j.wA("platform-logger",Se=>new oe(Se),"PRIVATE")),En(ye,"0.7.8",""),En(ye,"0.7.8","esm2017"),En("fire-js","")},3910:(Xe,Ie,F)=>{"use strict";F.d(Ie,{wA:()=>O,H0:()=>ce});var h=F(8239),j=F(3854);class O{constructor(L,V,X){this.name=L,this.instanceFactory=V,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ae="[DEFAULT]";class oe{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const X=new j.BH;if(this.instancesDeferred.set(V,X),this.isInitialized(V)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:V});Y&&X.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const X=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),Y=null!==(V=null==L?void 0:L.optional)&&void 0!==V&&V;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(de){if(Y)return null;throw de}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(V){}for(const[V,X]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(V);try{const de=this.getOrInitializeService({instanceIdentifier:Y});X.resolve(de)}catch(de){}}}}clearInstance(L=ae){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,h.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...V.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ae){return this.instances.has(L)}getOptions(L=ae){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,X=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:X,options:V});for(const[de,be]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(de)&&be.resolve(Y);return Y}onInit(L,V){var X;const Y=this.normalizeInstanceIdentifier(V),de=null!==(X=this.onInitCallbacks.get(Y))&&void 0!==X?X:new Set;de.add(L),this.onInitCallbacks.set(Y,de);const be=this.instances.get(Y);return be&&L(be,Y),()=>{de.delete(L)}}invokeOnInitCallbacks(L,V){const X=this.onInitCallbacks.get(V);if(X)for(const Y of X)try{Y(L,V)}catch(de){}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let X=this.instances.get(L);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(re=L,re===ae?void 0:re),options:V}),this.instances.set(L,X),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(X,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,X)}catch(Y){}var re;return X||null}normalizeInstanceIdentifier(L=ae){return this.component?this.component.multipleInstances?L:ae:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new oe(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Xe,Ie,F)=>{"use strict";F.d(Ie,{in:()=>j,Yd:()=>ye,Ub:()=>ce,Am:()=>re});const h=[];var j=(()=>{return(L=j||(j={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",j;var L})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ae=j.INFO,oe={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},se=(L,V,...X)=>{if(V<L.logLevel)return;const Y=(new Date).toISOString(),de=oe[V];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[de](`[${Y}]  ${L.name}:`,...X)};class ye{constructor(V){this.name=V,this._logLevel=ae,this._logHandler=se,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in j))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?O[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...V),this._logHandler(this,j.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...V),this._logHandler(this,j.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,j.INFO,...V),this._logHandler(this,j.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,j.WARN,...V),this._logHandler(this,j.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...V),this._logHandler(this,j.ERROR,...V)}}function ce(L){h.forEach(V=>{V.setLogLevel(L)})}function re(L,V){for(const X of h){let Y=null;V&&V.level&&(Y=O[V.level]),X.userLogHandler=null===L?null:(de,be,...ge)=>{const K=ge.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(me){return null}}).filter(_e=>_e).join(" ");be>=(null!=Y?Y:de.logLevel)&&L({level:j[be].toLowerCase(),message:K,args:ge,type:de.name})}}}},8239:(Xe,Ie,F)=>{"use strict";function h(O,ae,oe,se,ye,ce,re){try{var L=O[ce](re),V=L.value}catch(X){return void oe(X)}L.done?ae(V):Promise.resolve(V).then(se,ye)}function j(O){return function(){var ae=this,oe=arguments;return new Promise(function(se,ye){var ce=O.apply(ae,oe);function re(V){h(ce,se,ye,re,L,"next",V)}function L(V){h(ce,se,ye,re,L,"throw",V)}re(void 0)})}}F.d(Ie,{Z:()=>j})}},Xe=>{Xe(Xe.s=8935)}]);